<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0029)http://www.w3.org/TR/REC-xml/ -->
<?xml version="1.0" encoding="UTF-8"?><HTML lang=EN 
xmlns="http://www.w3.org/1999/xhtml"><HEAD><TITLE>Extensible Markup Language (XML) 1.0 (Third Edition)</TITLE>
<META http-equiv=Content-Type content=text/html;charset=UTF-8>
<STYLE type=text/css>CODE {
	FONT-FAMILY: monospace
}
DIV.constraint {
	MARGIN-LEFT: 2em
}
DIV.issue {
	MARGIN-LEFT: 2em
}
DIV.note {
	MARGIN-LEFT: 2em
}
DIV.notice {
	MARGIN-LEFT: 2em
}
LI P {
	MARGIN-TOP: 0.3em; MARGIN-BOTTOM: 0.3em
}
DIV.exampleInner PRE {
	MARGIN-TOP: 0em; MARGIN-BOTTOM: 0em; MARGIN-LEFT: 1em
}
DIV.exampleOuter {
	BORDER-RIGHT: gray 4px double; PADDING-RIGHT: 0em; BORDER-TOP: gray 4px double; PADDING-LEFT: 0em; PADDING-BOTTOM: 0em; MARGIN: 0em; BORDER-LEFT: gray 4px double; PADDING-TOP: 0em; BORDER-BOTTOM: gray 4px double
}
DIV.exampleInner {
	PADDING-RIGHT: 4px; BORDER-TOP: #d3d3d3 4px double; PADDING-LEFT: 4px; PADDING-BOTTOM: 4px; MARGIN: 0em; PADDING-TOP: 4px; BORDER-BOTTOM: #d3d3d3 4px double; BACKGROUND-COLOR: #d5dee3
}
DIV.exampleWrapper {
	MARGIN: 4px
}
DIV.exampleHeader {
	FONT-WEIGHT: bold; MARGIN: 4px
}
EM.rfc2119 {
	TEXT-TRANSFORM: lowercase; FONT-STYLE: normal; FONT-VARIANT: small-caps
}
</STYLE>
<LINK href="XML 1.0 3e_files/W3C-REC.css" type=text/css rel=stylesheet>
<META content="MSHTML 6.00.2900.2180" name=GENERATOR></HEAD>
<BODY>
<DIV class=head>
<P><A href="http://www.w3.org/"><IMG height=48 alt=W3C 
src="XML 1.0 3e_files/w3c_home.png" width=72></A></P>
<H1><A id=title name=title>Extensible Markup Language (XML) 1.0 (Third 
Edition)</H1>
<H2><A id=w3c-doctype name=w3c-doctype>W3C Recommendation 04 February 2004</H2>
<DL>
  <DT>This version:
  <DD><A 
  href="http://www.w3.org/TR/2004/REC-xml-20040204">http://www.w3.org/TR/2004/REC-xml-20040204</A>
  <DT>Latest version:
  <DD><A href="http://www.w3.org/TR/REC-xml">http://www.w3.org/TR/REC-xml</A>
  <DT>Previous version:
  <DD><A 
  href="http://www.w3.org/TR/2003/PER-xml-20031030">http://www.w3.org/TR/2003/PER-xml-20031030</A> 

  <DT>Editors:
  <DD>Tim Bray, Textuality and Netscape <A 
  href="mailto:tbray@textuality.com">mailto:tbray@textuality.com</A>
  <DD>Jean Paoli, Microsoft <A 
  href="mailto:jeanpa@microsoft.com">mailto:jeanpa@microsoft.com</A>
  <DD>C. M. Sperberg-McQueen, W3C <A 
  href="mailto:cmsmcq@w3.org">mailto:cmsmcq@w3.org</A>
  <DD>Eve Maler, Sun Microsystems, Inc. <A 
  href="mailto:elm@east.sun.com">mailto:elm@east.sun.com</A> - Second Edition
  <DD>François Yergeau <A 
  href="mailto:francois@yergeau.com">mailto:francois@yergeau.com</A> - Third 
  Edition</DD></DL>
<P>Please refer to the <A 
href="http://www.w3.org/XML/xml-V10-3e-errata"><STRONG>errata</STRONG></A> for 
this document, which may include some normative corrections.</P>
<P>This document is also available in these non-normative formats: <A 
href="http://www.w3.org/TR/REC-xml/REC-xml-20040204.xml">XML</A> and&nbsp;<A 
href="http://www.w3.org/TR/REC-xml/REC-xml-20040204-review.html">XHTML with 
color-coded revision indicators</A>.</P>
<P>See also <A 
href="http://www.w3.org/2003/03/Translations/byTechnology?technology=REC-xml"><STRONG>translations</STRONG></A>.</P>
<P class=copyright><A 
href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</A>&nbsp;©&nbsp;2004&nbsp;<A 
href="http://www.w3.org/"><ACRONYM 
title="World Wide Web Consortium">W3C</ACRONYM></A><SUP>®</SUP> (<A 
href="http://www.csail.mit.edu/"><ACRONYM 
title="Massachusetts Institute of Technology">MIT</ACRONYM></A>, <A 
href="http://www.ercim.org/"><ACRONYM 
title="European Research Consortium for Informatics and Mathematics">ERCIM</ACRONYM></A>, 
<A href="http://www.keio.ac.jp/">Keio</A>), All Rights Reserved. W3C <A 
href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</A>, 
<A 
href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</A>, 
<A href="http://www.w3.org/Consortium/Legal/copyright-documents">document 
use</A> and <A 
href="http://www.w3.org/Consortium/Legal/copyright-software">software 
licensing</A> rules apply.</P></DIV>
<HR>

<DIV>
<H2><A id=abstract name=abstract>Abstract</H2>
<P>The Extensible Markup Language (XML) is a subset of SGML that is completely 
described in this document. Its goal is to enable generic SGML to be served, 
received, and processed on the Web in the way that is now possible with HTML. 
XML has been designed for ease of implementation and for interoperability with 
both SGML and HTML.</P></DIV>
<DIV>
<H2><A id=status name=status>Status of this Document</H2>
<P><EM>This section describes the status of this document at the time of its 
publication. Other documents may supersede this document. A list of current W3C 
publications and the latest revision of this technical report can be found in 
the <A href="http://www.w3.org/TR/">W3C technical reports index</A> at 
http://www.w3.org/TR/.</EM></P>
<P>This document is a <A 
href="http://www.w3.org/2003/06/Process-20030618/tr.html#RecsW3C">Recommendation</A> 
of the W3C. It has been reviewed by W3C Members and other interested parties, 
and has been endorsed by the Director as a W3C Recommendation. It is a stable 
document and may be used as reference material or cited as a normative reference 
from another document. W3C's role in making the Recommendation is to draw 
attention to the specification and to promote its widespread deployment. This 
enhances the functionality and interoperability of the Web.</P>
<P>This document specifies a syntax created by subsetting an existing, widely 
used international text processing standard (Standard Generalized Markup 
Language, ISO 8879:1986(E) as amended and corrected) for use on the World Wide 
Web. It is a product of the <A href="http://www.w3.org/XML/Core/">XML Core 
Working Group</A> as part of the <A href="http://www.w3.org/XML/Activity">XML 
Activity</A>. The English version of this specification is the only normative 
version. However, for translations of this document, see <A 
href="http://www.w3.org/2003/03/Translations/byTechnology?technology=REC-xml">http://www.w3.org/2003/03/Translations/byTechnology?technology=REC-xml</A>.</P>
<P>This third edition is <EM>not</EM> a new version of XML. As a convenience to 
readers, it incorporates the changes dictated by the accumulated errata 
(available at <A 
href="http://www.w3.org/XML/xml-V10-2e-errata">http://www.w3.org/XML/xml-V10-2e-errata</A>) 
to the <A href="http://www.w3.org/TR/2000/REC-xml-20001006">Second Edition of 
XML 1.0, dated 6 October 2000</A>. In addition, markup has been introduced on a 
significant portion of the prescriptions of the specification, clarifying when 
prescriptive keywords such as <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM>, <EM class=rfc2119 
title="Keyword in RFC 2119 context">SHOULD</EM> and <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> are used in the formal sense 
defined in <A href="http://www.w3.org/TR/REC-xml/#rfc2119">[IETF RFC 2119]</A>. 
For the convenience of readers, an <A 
href="http://www.w3.org/TR/REC-xml/REC-xml-20040204-review.html">XHTML version 
with color-coded revision indicators</A> is also provided; this version 
highlights each change due to an erratum published in the <A 
href="http://www.w3.org/XML/xml-V10-2e-errata">errata list</A>, together with a 
link to the particular erratum in that list. Most of the errata in the list 
provide a rationale for the change.</P>
<P>An implementation report is available at <A 
href="http://www.w3.org/XML/2003/09/xml10-3e-implementation.html">http://www.w3.org/XML/2003/09/xml10-3e-implementation.html</A>.</P>
<P>Documentation of intellectual property possibly relevant to this 
recommendation may be found at the Working Group's public <A 
href="http://www.w3.org/2002/08/xmlcore-IPR-statements">IPR disclosure 
page</A>.</P>
<P>Please report errors in this document to <A 
href="mailto:xml-editor@w3.org">xml-editor@w3.org</A>; <A 
href="http://lists.w3.org/Archives/Public/xml-editor/">archives</A> are 
available. The errata list for this third edition is available at <A 
href="http://www.w3.org/XML/xml-V10-3e-errata">http://www.w3.org/XML/xml-V10-3e-errata</A>.</P>
<P>A <A href="http://www.w3.org/XML/Test/">Test Suite</A> is maintained to help 
assessing conformance to this specification.</P></DIV>
<DIV class=toc>
<H2><A id=contents name=contents>Table of Contents</H2>
<P class=toc>1 <A 
href="http://www.w3.org/TR/REC-xml/#sec-intro">Introduction</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;1.1 
<A href="http://www.w3.org/TR/REC-xml/#sec-origin-goals">Origin and 
Goals</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;1.2 <A 
href="http://www.w3.org/TR/REC-xml/#sec-terminology">Terminology</A><BR>2 <A 
href="http://www.w3.org/TR/REC-xml/#sec-documents">Documents</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;2.1 
<A href="http://www.w3.org/TR/REC-xml/#sec-well-formed">Well-Formed XML 
Documents</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;2.2 <A 
href="http://www.w3.org/TR/REC-xml/#charsets">Characters</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;2.3 
<A href="http://www.w3.org/TR/REC-xml/#sec-common-syn">Common Syntactic 
Constructs</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;2.4 <A 
href="http://www.w3.org/TR/REC-xml/#syntax">Character Data and 
Markup</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;2.5 <A 
href="http://www.w3.org/TR/REC-xml/#sec-comments">Comments</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;2.6 
<A href="http://www.w3.org/TR/REC-xml/#sec-pi">Processing 
Instructions</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;2.7 <A 
href="http://www.w3.org/TR/REC-xml/#sec-cdata-sect">CDATA 
Sections</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;2.8 <A 
href="http://www.w3.org/TR/REC-xml/#sec-prolog-dtd">Prolog and Document Type 
Declaration</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;2.9 <A 
href="http://www.w3.org/TR/REC-xml/#sec-rmd">Standalone Document 
Declaration</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;2.10 <A 
href="http://www.w3.org/TR/REC-xml/#sec-white-space">White Space 
Handling</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;2.11 <A 
href="http://www.w3.org/TR/REC-xml/#sec-line-ends">End-of-Line 
Handling</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;2.12 <A 
href="http://www.w3.org/TR/REC-xml/#sec-lang-tag">Language 
Identification</A><BR>3 <A 
href="http://www.w3.org/TR/REC-xml/#sec-logical-struct">Logical 
Structures</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;3.1 <A 
href="http://www.w3.org/TR/REC-xml/#sec-starttags">Start-Tags, End-Tags, and 
Empty-Element Tags</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;3.2 <A 
href="http://www.w3.org/TR/REC-xml/#elemdecls">Element Type 
Declarations</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.2.1 <A 
href="http://www.w3.org/TR/REC-xml/#sec-element-content">Element 
Content</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.2.2 <A 
href="http://www.w3.org/TR/REC-xml/#sec-mixed-content">Mixed 
Content</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;3.3 <A 
href="http://www.w3.org/TR/REC-xml/#attdecls">Attribute-List 
Declarations</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.3.1 <A 
href="http://www.w3.org/TR/REC-xml/#sec-attribute-types">Attribute 
Types</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.3.2 <A 
href="http://www.w3.org/TR/REC-xml/#sec-attr-defaults">Attribute 
Defaults</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3.3.3 <A 
href="http://www.w3.org/TR/REC-xml/#AVNormalize">Attribute-Value 
Normalization</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;3.4 <A 
href="http://www.w3.org/TR/REC-xml/#sec-condition-sect">Conditional 
Sections</A><BR>4 <A 
href="http://www.w3.org/TR/REC-xml/#sec-physical-struct">Physical 
Structures</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;4.1 <A 
href="http://www.w3.org/TR/REC-xml/#sec-references">Character and Entity 
References</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;4.2 <A 
href="http://www.w3.org/TR/REC-xml/#sec-entity-decl">Entity 
Declarations</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.2.1 <A 
href="http://www.w3.org/TR/REC-xml/#sec-internal-ent">Internal 
Entities</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.2.2 <A 
href="http://www.w3.org/TR/REC-xml/#sec-external-ent">External 
Entities</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;4.3 <A 
href="http://www.w3.org/TR/REC-xml/#TextEntities">Parsed 
Entities</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.3.1 <A 
href="http://www.w3.org/TR/REC-xml/#sec-TextDecl">The Text 
Declaration</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.3.2 <A 
href="http://www.w3.org/TR/REC-xml/#wf-entities">Well-Formed Parsed 
Entities</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.3.3 <A 
href="http://www.w3.org/TR/REC-xml/#charencoding">Character Encoding in 
Entities</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;4.4 <A 
href="http://www.w3.org/TR/REC-xml/#entproc">XML Processor Treatment of Entities 
and References</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.4.1 <A 
href="http://www.w3.org/TR/REC-xml/#not-recognized">Not 
Recognized</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.4.2 <A 
href="http://www.w3.org/TR/REC-xml/#included">Included</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.4.3 
<A href="http://www.w3.org/TR/REC-xml/#include-if-valid">Included If 
Validating</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.4.4 <A 
href="http://www.w3.org/TR/REC-xml/#forbidden">Forbidden</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.4.5 
<A href="http://www.w3.org/TR/REC-xml/#inliteral">Included in 
Literal</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.4.6 <A 
href="http://www.w3.org/TR/REC-xml/#notify">Notify</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.4.7 
<A 
href="http://www.w3.org/TR/REC-xml/#bypass">Bypassed</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.4.8 
<A href="http://www.w3.org/TR/REC-xml/#as-PE">Included as 
PE</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4.4.9 <A 
href="http://www.w3.org/TR/REC-xml/#error">Error</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;4.5 
<A href="http://www.w3.org/TR/REC-xml/#intern-replacement">Construction of 
Internal Entity Replacement Text</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;4.6 <A 
href="http://www.w3.org/TR/REC-xml/#sec-predefined-ent">Predefined 
Entities</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;4.7 <A 
href="http://www.w3.org/TR/REC-xml/#Notations">Notation 
Declarations</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;4.8 <A 
href="http://www.w3.org/TR/REC-xml/#sec-doc-entity">Document Entity</A><BR>5 <A 
href="http://www.w3.org/TR/REC-xml/#sec-conformance">Conformance</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;5.1 
<A href="http://www.w3.org/TR/REC-xml/#proc-types">Validating and Non-Validating 
Processors</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;5.2 <A 
href="http://www.w3.org/TR/REC-xml/#safe-behavior">Using XML Processors</A><BR>6 
<A href="http://www.w3.org/TR/REC-xml/#sec-notation">Notation</A><BR></P>
<H3><A id=appendices name=appendices>Appendices</H3>
<P class=toc>A <A 
href="http://www.w3.org/TR/REC-xml/#sec-bibliography">References</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;A.1 
<A href="http://www.w3.org/TR/REC-xml/#sec-existing-stds">Normative 
References</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;A.2 <A 
href="http://www.w3.org/TR/REC-xml/#null">Other References</A><BR>B <A 
href="http://www.w3.org/TR/REC-xml/#CharClasses">Character Classes</A><BR>C <A 
href="http://www.w3.org/TR/REC-xml/#sec-xml-and-sgml">XML and SGML</A> 
(Non-Normative)<BR>D <A 
href="http://www.w3.org/TR/REC-xml/#sec-entexpand">Expansion of Entity and 
Character References</A> (Non-Normative)<BR>E <A 
href="http://www.w3.org/TR/REC-xml/#determinism">Deterministic Content 
Models</A> (Non-Normative)<BR>F <A 
href="http://www.w3.org/TR/REC-xml/#sec-guessing">Autodetection of Character 
Encodings</A> (Non-Normative)<BR>&nbsp;&nbsp;&nbsp;&nbsp;F.1 <A 
href="http://www.w3.org/TR/REC-xml/#sec-guessing-no-ext-info">Detection Without 
External Encoding Information</A><BR>&nbsp;&nbsp;&nbsp;&nbsp;F.2 <A 
href="http://www.w3.org/TR/REC-xml/#sec-guessing-with-ext-info">Priorities in 
the Presence of External Encoding Information</A><BR>G <A 
href="http://www.w3.org/TR/REC-xml/#sec-xml-wg">W3C XML Working Group</A> 
(Non-Normative)<BR>H <A href="http://www.w3.org/TR/REC-xml/#sec-core-wg">W3C XML 
Core Working Group</A> (Non-Normative)<BR>I <A 
href="http://www.w3.org/TR/REC-xml/#prod-notes">Production Notes</A> 
(Non-Normative)<BR></P></DIV>
<HR>

<DIV class=body>
<DIV class=div1>
<H2><A id=sec-intro name=sec-intro>1 Introduction</H2>
<P>Extensible Markup Language, abbreviated XML, describes a class of data 
objects called <A title="XML Document" 
href="http://www.w3.org/TR/REC-xml/#dt-xml-doc">XML documents</A> and partially 
describes the behavior of computer programs which process them. XML is an 
application profile or restricted form of SGML, the Standard Generalized Markup 
Language <A href="http://www.w3.org/TR/REC-xml/#ISO8879">[ISO 8879]</A>. By 
construction, XML documents are conforming SGML documents.</P>
<P>XML documents are made up of storage units called <A title=Entity 
href="http://www.w3.org/TR/REC-xml/#dt-entity">entities</A>, which contain 
either parsed or unparsed data. Parsed data is made up of <A title=Character 
href="http://www.w3.org/TR/REC-xml/#dt-character">characters</A>, some of which 
form <A title="Character Data" 
href="http://www.w3.org/TR/REC-xml/#dt-chardata">character data</A>, and some of 
which form <A title=Markup 
href="http://www.w3.org/TR/REC-xml/#dt-markup">markup</A>. Markup encodes a 
description of the document's storage layout and logical structure. XML provides 
a mechanism to impose constraints on the storage layout and logical 
structure.</P>
<P>[<A id=dt-xml-proc title="XML Processor" name=dt-xml-proc>Definition</A>: A 
software module called an <B>XML processor</B> is used to read XML documents and 
provide access to their content and structure.] [<A id=dt-app title=Application 
name=dt-app>Definition</A>: It is assumed that an XML processor is doing its 
work on behalf of another module, called the <B>application</B>.] This 
specification describes the required behavior of an XML processor in terms of 
how it must read XML data and the information it must provide to the 
application.</P>
<DIV class=div2>
<H3><A id=sec-origin-goals name=sec-origin-goals>1.1 Origin and Goals</H3>
<P>XML was developed by an XML Working Group (originally known as the SGML 
Editorial Review Board) formed under the auspices of the World Wide Web 
Consortium (W3C) in 1996. It was chaired by Jon Bosak of Sun Microsystems with 
the active participation of an XML Special Interest Group (previously known as 
the SGML Working Group) also organized by the W3C. The membership of the XML 
Working Group is given in an appendix. Dan Connolly served as the Working 
Group's contact with the W3C.</P>
<P>The design goals for XML are:</P>
<OL type=1>
  <LI>
  <P>XML shall be straightforwardly usable over the Internet.</P>
  <LI>
  <P>XML shall support a wide variety of applications.</P>
  <LI>
  <P>XML shall be compatible with SGML.</P>
  <LI>
  <P>It shall be easy to write programs which process XML documents.</P>
  <LI>
  <P>The number of optional features in XML is to be kept to the absolute 
  minimum, ideally zero.</P>
  <LI>
  <P>XML documents should be human-legible and reasonably clear.</P>
  <LI>
  <P>The XML design should be prepared quickly.</P>
  <LI>
  <P>The design of XML shall be formal and concise.</P>
  <LI>
  <P>XML documents shall be easy to create.</P>
  <LI>
  <P>Terseness in XML markup is of minimal importance.</P></LI></OL>
<P>This specification, together with associated standards (Unicode <A 
href="http://www.w3.org/TR/REC-xml/#Unicode">[Unicode]</A> and ISO/IEC 10646 <A 
href="http://www.w3.org/TR/REC-xml/#ISO10646">[ISO/IEC 10646]</A> for 
characters, Internet RFC <SPAN>3066 <A 
href="http://www.w3.org/TR/REC-xml/#RFC1766">[IETF RFC 3066]</A></SPAN> for 
language identification tags, ISO 639 <A 
href="http://www.w3.org/TR/REC-xml/#ISO639">[ISO 639]</A> for language name 
codes, and ISO 3166 <A href="http://www.w3.org/TR/REC-xml/#ISO3166">[ISO 
3166]</A> for country name codes), provides all the information necessary to 
understand XML Version 1.0 and construct computer programs to process it.</P>
<P>This version of the XML specification may be distributed freely, as long as 
all text and legal notices remain intact.</P></DIV>
<DIV class=div2>
<H3><A id=sec-terminology name=sec-terminology>1.2 Terminology</H3>
<P>The terminology used to describe XML documents is defined in the body of this 
specification. <SPAN class=mustard>The key words <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM>, <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST NOT</EM>, <EM class=rfc2119 
title="Keyword in RFC 2119 context">REQUIRED</EM>, <EM class=rfc2119 
title="Keyword in RFC 2119 context">SHALL</EM>, <EM class=rfc2119 
title="Keyword in RFC 2119 context">SHALL NOT</EM>, <EM class=rfc2119 
title="Keyword in RFC 2119 context">SHOULD</EM>, <EM class=rfc2119 
title="Keyword in RFC 2119 context">SHOULD NOT</EM>, <EM class=rfc2119 
title="Keyword in RFC 2119 context">RECOMMENDED</EM>, <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM>, and <EM class=rfc2119 
title="Keyword in RFC 2119 context">OPTIONAL</EM>, when <EM class=rfc2119 
title="Keyword in RFC 2119 context">EMPHASIZED</EM>, are to be interpreted as 
described in <A href="http://www.w3.org/TR/REC-xml/#rfc2119">[IETF RFC 
2119]</A>. In addition, </SPAN>the terms defined in the following list are used 
in building those definitions and in describing the actions of an XML 
processor:</P>
<DL>
  <DT class=label>error
  <DD>
  <P>[<A id=dt-error title=Error name=dt-error>Definition</A>: A violation of 
  the rules of this specification; results are undefined. <SPAN 
  class=mustard>Unless otherwise specified, failure to observe a prescription of 
  this specification indicated by one of the keywords <EM class=rfc2119 
  title="Keyword in RFC 2119 context">MUST</EM>, <EM class=rfc2119 
  title="Keyword in RFC 2119 context">REQUIRED</EM>, <EM class=rfc2119 
  title="Keyword in RFC 2119 context">MUST NOT</EM>, <EM class=rfc2119 
  title="Keyword in RFC 2119 context">SHALL</EM> and <EM class=rfc2119 
  title="Keyword in RFC 2119 context">SHALL NOT</EM> is an error.</SPAN> 
  Conforming software <EM class=rfc2119 
  title="Keyword in RFC 2119 context">MAY</EM> detect and report an error and 
  <EM class=rfc2119 title="Keyword in RFC 2119 context">MAY</EM> recover from 
  it.]</P>
  <DT class=label>fatal error
  <DD>
  <P>[<A id=dt-fatal title="Fatal Error" name=dt-fatal>Definition</A>: An error 
  which a conforming <A title="XML Processor" 
  href="http://www.w3.org/TR/REC-xml/#dt-xml-proc">XML processor</A> <EM 
  class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> detect and report 
  to the application. After encountering a fatal error, the processor <EM 
  class=rfc2119 title="Keyword in RFC 2119 context">MAY</EM> continue processing 
  the data to search for further errors and <EM class=rfc2119 
  title="Keyword in RFC 2119 context">MAY</EM> report such errors to the 
  application. In order to support correction of errors, the processor <EM 
  class=rfc2119 title="Keyword in RFC 2119 context">MAY</EM> make unprocessed 
  data from the document (with intermingled character data and markup) available 
  to the application. Once a fatal error is detected, however, the processor <EM 
  class=rfc2119 title="Keyword in RFC 2119 context">MUST NOT</EM> continue 
  normal processing (i.e., it <EM class=rfc2119 
  title="Keyword in RFC 2119 context">MUST NOT</EM> continue to pass character 
  data and information about the document's logical structure to the application 
  in the normal way).]</P>
  <DT class=label>at user option
  <DD>
  <P>[<A id=dt-atuseroption title="At user option" 
  name=dt-atuseroption>Definition</A>: Conforming software <EM class=rfc2119 
  title="Keyword in RFC 2119 context">MAY</EM> or <EM class=rfc2119 
  title="Keyword in RFC 2119 context">MUST</EM> (depending on the modal verb in 
  the sentence) behave as described; if it does, it <EM class=rfc2119 
  title="Keyword in RFC 2119 context">MUST</EM> provide users a means to enable 
  or disable the behavior described.]</P>
  <DT class=label>validity constraint
  <DD>
  <P>[<A id=dt-vc title="Validity constraint" name=dt-vc>Definition</A>: A rule 
  which applies to all <A title=Validity 
  href="http://www.w3.org/TR/REC-xml/#dt-valid">valid</A> XML documents. 
  Violations of validity constraints are errors; they <EM class=rfc2119 
  title="Keyword in RFC 2119 context">MUST</EM>, at user option, be reported by 
  <A title="Validating Processor" 
  href="http://www.w3.org/TR/REC-xml/#dt-validating">validating XML 
  processors</A>.]</P>
  <DT class=label>well-formedness constraint
  <DD>
  <P>[<A id=dt-wfc title="Well-formedness constraint" 
  name=dt-wfc>Definition</A>: A rule which applies to all <A title=Well-Formed 
  href="http://www.w3.org/TR/REC-xml/#dt-wellformed">well-formed</A> XML 
  documents. Violations of well-formedness constraints are <A 
  title="Fatal Error" href="http://www.w3.org/TR/REC-xml/#dt-fatal">fatal 
  errors</A>.]</P>
  <DT class=label>match
  <DD>
  <P>[<A id=dt-match title=match name=dt-match>Definition</A>: (Of strings or 
  names:) Two strings or names being compared <EM class=rfc2119 
  title="Keyword in RFC 2119 context">MUST</EM> be identical. Characters with 
  multiple possible representations in ISO/IEC 10646 (e.g. characters with both 
  precomposed and base+diacritic forms) match only if they have the same 
  representation in both strings. No case folding is performed. (Of strings and 
  rules in the grammar:) A string matches a grammatical production if it belongs 
  to the language generated by that production. (Of content and content models:) 
  An element matches its declaration when it conforms in the fashion described 
  in the constraint <B>[VC: <A 
  href="http://www.w3.org/TR/REC-xml/#elementvalid">Element Valid</A>]</B>.]</P>
  <DT class=label>for compatibility
  <DD>
  <P>[<A id=dt-compat title="For Compatibility" name=dt-compat>Definition</A>: 
  Marks a sentence describing a feature of XML included solely to ensure that 
  XML remains compatible with SGML.]</P>
  <DT class=label>for interoperability
  <DD>
  <P>[<A id=dt-interop title="For interoperability" 
  name=dt-interop>Definition</A>: Marks a sentence describing a non-binding 
  recommendation included to increase the chances that XML documents can be 
  processed by the existing installed base of SGML processors which predate the 
  WebSGML Adaptations Annex to ISO 8879.]</P></DD></DL>
<P></P></DIV></DIV>
<DIV class=div1>
<H2><A id=sec-documents name=sec-documents>2 Documents</H2>
<P>[<A id=dt-xml-doc title="XML Document" name=dt-xml-doc>Definition</A>: A data 
object is an <B>XML document</B> if it is <A title=Well-Formed 
href="http://www.w3.org/TR/REC-xml/#dt-wellformed">well-formed</A>, as defined 
in this specification. A well-formed XML document <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> in addition be <A title=Validity 
href="http://www.w3.org/TR/REC-xml/#dt-valid">valid</A> if it meets certain 
further constraints.]</P>
<P>Each XML document has both a logical and a physical structure. Physically, 
the document is composed of units called <A title=Entity 
href="http://www.w3.org/TR/REC-xml/#dt-entity">entities</A>. An entity <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MAY</EM> <A 
title="Entity Reference" 
href="http://www.w3.org/TR/REC-xml/#dt-entref">refer</A> to other entities to 
cause their inclusion in the document. A document begins in a "root" or <A 
title="Document Entity" href="http://www.w3.org/TR/REC-xml/#dt-docent">document 
entity</A>. Logically, the document is composed of declarations, elements, 
comments, character references, and processing instructions, all of which are 
indicated in the document by explicit markup. The logical and physical 
structures <EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> nest 
properly, as described in <A 
href="http://www.w3.org/TR/REC-xml/#wf-entities"><B>4.3.2 Well-Formed Parsed 
Entities</B></A>.</P>
<DIV class=div2>
<H3><A id=sec-well-formed name=sec-well-formed>2.1 Well-Formed XML 
Documents</H3>
<P>[<A id=dt-wellformed title=Well-Formed name=dt-wellformed>Definition</A>: A 
textual object is a <B>well-formed</B> XML document if:]</P>
<OL type=1>
  <LI>
  <P>Taken as a whole, it matches the production labeled <A 
  href="http://www.w3.org/TR/REC-xml/#NT-document">document</A>.</P>
  <LI>
  <P>It meets all the well-formedness constraints given in this 
  specification.</P>
  <LI>
  <P>Each of the <A title="Text Entity" 
  href="http://www.w3.org/TR/REC-xml/#dt-parsedent">parsed entities</A> which is 
  referenced directly or indirectly within the document is <A title=Well-Formed 
  href="http://www.w3.org/TR/REC-xml/#dt-wellformed">well-formed</A>.</P></LI></OL>
<H5><A id=document name=document>Document</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-document name=NT-document>[1]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>document</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A href="http://www.w3.org/TR/REC-xml/#NT-prolog">prolog</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-element">element</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Misc">Misc</A>*</CODE></TD></TR></TBODY></TABLE>
<P>Matching the <A href="http://www.w3.org/TR/REC-xml/#NT-document">document</A> 
production implies that:</P>
<OL type=1>
  <LI>
  <P>It contains one or more <A title=Element 
  href="http://www.w3.org/TR/REC-xml/#dt-element">elements</A>.</P>
  <LI>
  <P>[<A id=dt-root title="Root Element" name=dt-root>Definition</A>: There is 
  exactly one element, called the <B>root</B>, or document element, no part of 
  which appears in the <A title=Content 
  href="http://www.w3.org/TR/REC-xml/#dt-content">content</A> of any other 
  element.] For all other elements, if the <A title=Start-Tag 
  href="http://www.w3.org/TR/REC-xml/#dt-stag">start-tag</A> is in the content 
  of another element, the <A title="End Tag" 
  href="http://www.w3.org/TR/REC-xml/#dt-etag">end-tag</A> is in the content of 
  the same element. More simply stated, the elements, delimited by start- and 
  end-tags, nest properly within each other.</P></LI></OL>
<P>[<A id=dt-parentchild title=Parent/Child name=dt-parentchild>Definition</A>: 
As a consequence of this, for each non-root element <CODE>C</CODE> in the 
document, there is one other element <CODE>P</CODE> in the document such that 
<CODE>C</CODE> is in the content of <CODE>P</CODE>, but is not in the content of 
any other element that is in the content of <CODE>P</CODE>. <CODE>P</CODE> is 
referred to as the <B>parent</B> of <CODE>C</CODE>, and <CODE>C</CODE> as a 
<B>child</B> of <CODE>P</CODE>.]</P></DIV>
<DIV class=div2>
<H3><A id=charsets name=charsets>2.2 Characters</H3>
<P>[<A id=dt-text title=Text name=dt-text>Definition</A>: A parsed entity 
contains <B>text</B>, a sequence of <A title=Character 
href="http://www.w3.org/TR/REC-xml/#dt-character">characters</A>, which may 
represent markup or character data.] [<A id=dt-character title=Character 
name=dt-character>Definition</A>: A <B>character</B> is an atomic unit of text 
as specified by <SPAN>ISO/IEC 10646:2000 <A 
href="http://www.w3.org/TR/REC-xml/#ISO10646">[ISO/IEC 10646]</A></SPAN>. Legal 
characters are tab, carriage return, line feed, and the legal characters of 
Unicode and ISO/IEC 10646. The versions of these standards cited in <A 
href="http://www.w3.org/TR/REC-xml/#sec-existing-stds"><B>A.1 Normative 
References</B></A> were current at the time this document was prepared. New 
characters may be added to these standards by amendments or new editions. 
Consequently, XML processors <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> accept any character in the range 
specified for <A href="http://www.w3.org/TR/REC-xml/#NT-Char">Char</A>. ]</P>
<H5><A id=char32 name=char32>Character Range</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-Char name=NT-Char>[2]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>Char</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>#x9 | #xA | #xD | [#x20-#xD7FF] | [#xE000-#xFFFD] | 
      [#x10000-#x10FFFF]</CODE></TD>
    <TD><I>/* any Unicode character, excluding the surrogate blocks, FFFE, and 
      FFFF. */</I></TD></TR></TBODY></TABLE>
<P>The mechanism for encoding character code points into bit patterns <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MAY</EM> vary from entity to 
entity. All XML processors <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> accept the UTF-8 and UTF-16 
encodings of <SPAN>Unicode 3.1 <A 
href="http://www.w3.org/TR/REC-xml/#Unicode3">[Unicode3]</A></SPAN>; the 
mechanisms for signaling which of the two is in use, or for bringing other 
encodings into play, are discussed later, in <A 
href="http://www.w3.org/TR/REC-xml/#charencoding"><B>4.3.3 Character Encoding in 
Entities</B></A>.</P>
<DIV class=note>
<P class=prefix><B>Note:</B></P>
<P>Document authors are encouraged to avoid "compatibility characters", as 
defined in section 6.8 of <A 
href="http://www.w3.org/TR/REC-xml/#Unicode">[Unicode]</A> (see also D21 in 
section 3.6 of <A href="http://www.w3.org/TR/REC-xml/#Unicode3">[Unicode3]</A>). 
The characters defined in the following ranges are also discouraged. They are 
either control characters or permanently undefined Unicode characters:</P>
<DIV class=exampleInner><PRE>[#x7F-#x84], [#x86-#x9F], [#xFDD0-#xFDDF],
[#1FFFE-#x1FFFF], [#2FFFE-#x2FFFF], [#3FFFE-#x3FFFF],
[#4FFFE-#x4FFFF], [#5FFFE-#x5FFFF], [#6FFFE-#x6FFFF],
[#7FFFE-#x7FFFF], [#8FFFE-#x8FFFF], [#9FFFE-#x9FFFF],
[#AFFFE-#xAFFFF], [#BFFFE-#xBFFFF], [#CFFFE-#xCFFFF],
[#DFFFE-#xDFFFF], [#EFFFE-#xEFFFF], [#FFFFE-#xFFFFF],
[#10FFFE-#x10FFFF].</PRE></DIV></DIV></DIV>
<DIV class=div2>
<H3><A id=sec-common-syn name=sec-common-syn>2.3 Common Syntactic 
Constructs</H3>
<P>This section defines some symbols used widely in the grammar.</P>
<P><A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> (white space) consists of 
one or more space (#x20) characters, carriage returns, line feeds, or tabs.</P>
<H5><A id=white name=white>White Space</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-S name=NT-S>[3]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>S</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>(#x20 | #x9 | #xD | #xA)+</CODE></TD></TR></TBODY></TABLE>
<DIV class=note>
<P class=prefix><B>Note:</B></P>
<P>The presence of #xD in the above production is maintained purely for backward 
compatibility with the <A 
href="http://www.w3.org/TR/1998/REC-xml-19980210">First Edition</A>. As 
explained in <A href="http://www.w3.org/TR/REC-xml/#sec-line-ends"><B>2.11 
End-of-Line Handling</B></A>, all #xD characters literally present in an XML 
document are either removed or replaced by #xA characters before any other 
processing is done. The only way to get a #xD character to match this production 
is to use a character reference in an entity value literal.</P></DIV>
<P>Characters are classified for convenience as letters, digits, or other 
characters. A letter consists of an alphabetic or syllabic base character or an 
ideographic character. Full definitions of the specific characters in each class 
are given in <A href="http://www.w3.org/TR/REC-xml/#CharClasses"><B>B Character 
Classes</B></A>.</P>
<P>[<A id=dt-name title=Name name=dt-name>Definition</A>: A <B>Name</B> is a 
token beginning with a letter or one of a few punctuation characters, and 
continuing with letters, digits, hyphens, underscores, colons, or full stops, 
together known as name characters.] Names beginning with the string 
"<CODE>xml</CODE>", or <SPAN>with</SPAN> any string which would match 
<CODE>(('X'|'x') ('M'|'m') ('L'|'l'))</CODE>, are reserved for standardization 
in this or future versions of this specification.</P>
<DIV class=note>
<P class=prefix><B>Note:</B></P>
<P>The Namespaces in XML Recommendation <A 
href="http://www.w3.org/TR/REC-xml/#xml-names">[XML Names]</A> assigns a meaning 
to names containing colon characters. Therefore, authors should not use the 
colon in XML names except for namespace purposes, but XML processors must accept 
the colon as a name character.</P></DIV>
<P>An <A href="http://www.w3.org/TR/REC-xml/#NT-Nmtoken">Nmtoken</A> (name 
token) is any mixture of name characters.</P>
<H5><A id=IDAIO1S name=IDAIO1S>Names and Tokens</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-NameChar name=NT-NameChar>[4]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>NameChar</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A href="http://www.w3.org/TR/REC-xml/#NT-Letter">Letter</A> | 
      <A href="http://www.w3.org/TR/REC-xml/#NT-Digit">Digit</A> | '.' | '-' | 
      '_' | ':' | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-CombiningChar">CombiningChar</A> | 
      <A 
  href="http://www.w3.org/TR/REC-xml/#NT-Extender">Extender</A></CODE></TD></TR></TBODY>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-Name name=NT-Name>[5]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>Name</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>(<A href="http://www.w3.org/TR/REC-xml/#NT-Letter">Letter</A> | 
      '_' | ':') (<A 
      href="http://www.w3.org/TR/REC-xml/#NT-NameChar">NameChar</A>)*</CODE></TD></TR></TBODY>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-Names name=NT-Names>[6]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>Names</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> (#x20 
      <A 
  href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A>)*</CODE></TD></TR></TBODY>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-Nmtoken name=NT-Nmtoken>[7]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>Nmtoken</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>(<A 
      href="http://www.w3.org/TR/REC-xml/#NT-NameChar">NameChar</A>)+</CODE></TD></TR></TBODY>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-Nmtokens name=NT-Nmtokens>[8]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>Nmtokens</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A href="http://www.w3.org/TR/REC-xml/#NT-Nmtoken">Nmtoken</A> 
      (#x20 <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Nmtoken">Nmtoken</A>)*</CODE></TD></TR></TBODY></TABLE>
<DIV class=note>
<P class=prefix><B>Note:</B></P>
<P>The <A href="http://www.w3.org/TR/REC-xml/#NT-Names">Names</A> and <A 
href="http://www.w3.org/TR/REC-xml/#NT-Nmtokens">Nmtokens</A> productions are 
used to define the validity of tokenized attribute values after normalization 
(see <A href="http://www.w3.org/TR/REC-xml/#sec-attribute-types"><B>3.3.1 
Attribute Types</B></A>).</P></DIV>
<P>Literal data is any quoted string not containing the quotation mark used as a 
delimiter for that string. Literals are used for specifying the content of 
internal entities (<A 
href="http://www.w3.org/TR/REC-xml/#NT-EntityValue">EntityValue</A>), the values 
of attributes (<A 
href="http://www.w3.org/TR/REC-xml/#NT-AttValue">AttValue</A>), and external 
identifiers (<A 
href="http://www.w3.org/TR/REC-xml/#NT-SystemLiteral">SystemLiteral</A>). Note 
that a <A 
href="http://www.w3.org/TR/REC-xml/#NT-SystemLiteral">SystemLiteral</A> can be 
parsed without scanning for markup.</P>
<H5><A id=IDA2S1S name=IDA2S1S>Literals</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-EntityValue name=NT-EntityValue>[9]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>EntityValue</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'"' ([^%&amp;"] | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-PEReference">PEReference</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Reference">Reference</A>)* '"' 
      </CODE></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD><CODE>|&nbsp; "'" ([^%&amp;'] | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-PEReference">PEReference</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Reference">Reference</A>)* 
      "'"</CODE></TD></TR></TBODY>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-AttValue name=NT-AttValue>[10]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>AttValue</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'"' ([^&lt;&amp;"] | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Reference">Reference</A>)* '"' 
      </CODE></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD><CODE>|&nbsp; "'" ([^&lt;&amp;'] | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Reference">Reference</A>)* 
      "'"</CODE></TD></TR></TBODY>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-SystemLiteral 
    name=NT-SystemLiteral>[11]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>SystemLiteral</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>('"' [^"]* '"') |&nbsp;("'" [^']* "'") </CODE></TD></TR></TBODY>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-PubidLiteral 
    name=NT-PubidLiteral>[12]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>PubidLiteral</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'"' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-PubidChar">PubidChar</A>* '"' | "'" 
      (<A href="http://www.w3.org/TR/REC-xml/#NT-PubidChar">PubidChar</A> - 
      "'")* "'"</CODE></TD></TR></TBODY>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-PubidChar name=NT-PubidChar>[13]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>PubidChar</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>#x20 | #xD | #xA |&nbsp;[a-zA-Z0-9] 
      |&nbsp;[-'()+,./:=?;!*#@$_%]</CODE></TD></TR></TBODY></TABLE>
<DIV class=note>
<P class=prefix><B>Note:</B></P>
<P>Although the <A 
href="http://www.w3.org/TR/REC-xml/#NT-EntityValue">EntityValue</A> production 
allows the definition of a <SPAN>general</SPAN> entity consisting of a single 
explicit <CODE>&lt;</CODE> in the literal (e.g., <CODE>&lt;!ENTITY mylt 
"&lt;"&gt;</CODE>), it is strongly advised to avoid this practice since any 
reference to that entity will cause a well-formedness error.</P></DIV></DIV>
<DIV class=div2>
<H3><A id=syntax name=syntax>2.4 Character Data and Markup</H3>
<P><A title=Text href="http://www.w3.org/TR/REC-xml/#dt-text">Text</A> consists 
of intermingled <A title="Character Data" 
href="http://www.w3.org/TR/REC-xml/#dt-chardata">character data</A> and markup. 
[<A id=dt-markup title=Markup name=dt-markup>Definition</A>: <B>Markup</B> takes 
the form of <A title=Start-Tag 
href="http://www.w3.org/TR/REC-xml/#dt-stag">start-tags</A>, <A title="End Tag" 
href="http://www.w3.org/TR/REC-xml/#dt-etag">end-tags</A>, <A title=Empty 
href="http://www.w3.org/TR/REC-xml/#dt-empty">empty-element tags</A>, <A 
title="Entity Reference" href="http://www.w3.org/TR/REC-xml/#dt-entref">entity 
references</A>, <A title="Character Reference" 
href="http://www.w3.org/TR/REC-xml/#dt-charref">character references</A>, <A 
title=Comment href="http://www.w3.org/TR/REC-xml/#dt-comment">comments</A>, <A 
title="CDATA Section" href="http://www.w3.org/TR/REC-xml/#dt-cdsection">CDATA 
section</A> delimiters, <A title="Document Type Declaration" 
href="http://www.w3.org/TR/REC-xml/#dt-doctype">document type declarations</A>, 
<A title="Processing instruction" 
href="http://www.w3.org/TR/REC-xml/#dt-pi">processing instructions</A>, <A 
href="http://www.w3.org/TR/REC-xml/#NT-XMLDecl">XML declarations</A>, <A 
href="http://www.w3.org/TR/REC-xml/#NT-TextDecl">text declarations</A>, and any 
white space that is at the top level of the document entity (that is, outside 
the document element and not inside any other markup).]</P>
<P>[<A id=dt-chardata title="Character Data" name=dt-chardata>Definition</A>: 
All text that is not markup constitutes the <B>character data</B> of the 
document.]</P>
<P>The ampersand character (&amp;) and the left angle bracket (&lt;) <SPAN 
class=mustard><EM class=rfc2119 title="Keyword in RFC 2119 context">MUST 
NOT</EM></SPAN> appear in their literal form<SPAN class=mustard>, except</SPAN> 
when used as markup delimiters, or within a <A title=Comment 
href="http://www.w3.org/TR/REC-xml/#dt-comment">comment</A>, a <A 
title="Processing instruction" 
href="http://www.w3.org/TR/REC-xml/#dt-pi">processing instruction</A>, or a <A 
title="CDATA Section" href="http://www.w3.org/TR/REC-xml/#dt-cdsection">CDATA 
section</A>. If they are needed elsewhere, they <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> be <A title=escape 
href="http://www.w3.org/TR/REC-xml/#dt-escape">escaped</A> using either <A 
title="Character Reference" 
href="http://www.w3.org/TR/REC-xml/#dt-charref">numeric character references</A> 
or the strings "<CODE>&amp;amp;</CODE>" and "<CODE>&amp;lt;</CODE>" 
respectively. The right angle bracket (&gt;) <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> be represented using the string 
"<CODE>&amp;gt;</CODE>", and <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM>, <A title="For Compatibility" 
href="http://www.w3.org/TR/REC-xml/#dt-compat">for compatibility</A>, be escaped 
using <SPAN>either</SPAN> "<CODE>&amp;gt;</CODE>" or a character reference when 
it appears in the string "<CODE>]]&gt;</CODE>" in content, when that string is 
not marking the end of a <A title="CDATA Section" 
href="http://www.w3.org/TR/REC-xml/#dt-cdsection">CDATA section</A>.</P>
<P>In the content of elements, character data is any string of characters which 
does not contain the start-delimiter of any markup<SPAN> and does not include 
the CDATA-section-close delimiter, "<CODE>]]&gt;</CODE>"</SPAN>. In a CDATA 
section, character data is any string of characters not including the 
CDATA-section-close delimiter, "<CODE>]]&gt;</CODE>".</P>
<P>To allow attribute values to contain both single and double quotes, the 
apostrophe or single-quote character (') <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> be represented as 
"<CODE>&amp;apos;</CODE>", and the double-quote character (") as 
"<CODE>&amp;quot;</CODE>".</P>
<H5><A id=IDA311S name=IDA311S>Character Data</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-CharData name=NT-CharData>[14]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>CharData</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>[^&lt;&amp;]* - ([^&lt;&amp;]* ']]&gt;' 
  [^&lt;&amp;]*)</CODE></TD></TR></TBODY></TABLE></DIV>
<DIV class=div2>
<H3><A id=sec-comments name=sec-comments>2.5 Comments</H3>
<P>[<A id=dt-comment title=Comment name=dt-comment>Definition</A>: 
<B>Comments</B> <EM class=rfc2119 title="Keyword in RFC 2119 context">MAY</EM> 
appear anywhere in a document outside other <A title=Markup 
href="http://www.w3.org/TR/REC-xml/#dt-markup">markup</A>; in addition, they <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MAY</EM> appear within the 
document type declaration at places allowed by the grammar. They are not part of 
the document's <A title="Character Data" 
href="http://www.w3.org/TR/REC-xml/#dt-chardata">character data</A>; an XML 
processor <EM class=rfc2119 title="Keyword in RFC 2119 context">MAY</EM>, but 
need not, make it possible for an application to retrieve the text of comments. 
<A title="For Compatibility" href="http://www.w3.org/TR/REC-xml/#dt-compat">For 
compatibility</A>, the string "<CODE>--</CODE>" (double-hyphen) <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MUST NOT</EM> occur within 
comments.] Parameter entity references <SPAN class=mustard><EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST NOT</EM> be</SPAN> recognized within 
comments.</P>
<H5><A id=IDAX31S name=IDAX31S>Comments</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-Comment name=NT-Comment>[15]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>Comment</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'&lt;!--' ((<A 
      href="http://www.w3.org/TR/REC-xml/#NT-Char">Char</A> - '-') | ('-' (<A 
      href="http://www.w3.org/TR/REC-xml/#NT-Char">Char</A> - '-')))* 
      '--&gt;'</CODE></TD></TR></TBODY></TABLE>
<P>An example of a comment:</P>
<DIV class=exampleInner><PRE>&lt;!-- declarations for &lt;head&gt; &amp; &lt;body&gt; --&gt;</PRE></DIV>
<P>Note that the grammar does not allow a comment ending in 
<CODE>---&gt;</CODE>. The following example is <EM>not</EM> well-formed.</P>
<DIV class=exampleInner><PRE>&lt;!-- B+, B, or B---&gt;</PRE></DIV></DIV>
<DIV class=div2>
<H3><A id=sec-pi name=sec-pi>2.6 Processing Instructions</H3>
<P>[<A id=dt-pi title="Processing instruction" name=dt-pi>Definition</A>: 
<B>Processing instructions</B> (PIs) allow documents to contain instructions for 
applications.]</P>
<H5><A id=IDAP51S name=IDAP51S>Processing Instructions</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-PI name=NT-PI>[16]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>PI</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'&lt;?' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-PITarget">PITarget</A> (<A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> (<A 
      href="http://www.w3.org/TR/REC-xml/#NT-Char">Char</A>* - (<A 
      href="http://www.w3.org/TR/REC-xml/#NT-Char">Char</A>* '?&gt;' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Char">Char</A>*)))? 
    '?&gt;'</CODE></TD></TR></TBODY>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-PITarget name=NT-PITarget>[17]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>PITarget</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> - (('X' 
      | 'x') ('M' | 'm') ('L' | 'l'))</CODE></TD></TR></TBODY></TABLE>
<P>PIs are not part of the document's <A title="Character Data" 
href="http://www.w3.org/TR/REC-xml/#dt-chardata">character data</A>, but <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> be passed through to 
the application. The PI begins with a target (<A 
href="http://www.w3.org/TR/REC-xml/#NT-PITarget">PITarget</A>) used to identify 
the application to which the instruction is directed. The target names 
"<CODE>XML</CODE>", "<CODE>xml</CODE>", and so on are reserved for 
standardization in this or future versions of this specification. The XML <A 
title=Notation href="http://www.w3.org/TR/REC-xml/#dt-notation">Notation</A> 
mechanism <EM class=rfc2119 title="Keyword in RFC 2119 context">MAY</EM> be used 
for formal declaration of PI targets. Parameter entity references <SPAN 
class=mustard><EM class=rfc2119 title="Keyword in RFC 2119 context">MUST 
NOT</EM> be</SPAN> recognized within processing instructions.</P></DIV>
<DIV class=div2>
<H3><A id=sec-cdata-sect name=sec-cdata-sect>2.7 CDATA Sections</H3>
<P>[<A id=dt-cdsection title="CDATA Section" name=dt-cdsection>Definition</A>: 
<B>CDATA sections</B> <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> occur anywhere character data may 
occur; they are used to escape blocks of text containing characters which would 
otherwise be recognized as markup. CDATA sections begin with the string 
"<CODE>&lt;![CDATA[</CODE>" and end with the string "<CODE>]]&gt;</CODE>":]</P>
<H5><A id=IDA1C2S name=IDA1C2S>CDATA Sections</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-CDSect name=NT-CDSect>[18]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>CDSect</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A href="http://www.w3.org/TR/REC-xml/#NT-CDStart">CDStart</A> 
      <A href="http://www.w3.org/TR/REC-xml/#NT-CData">CData</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-CDEnd">CDEnd</A></CODE></TD></TR></TBODY>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-CDStart name=NT-CDStart>[19]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>CDStart</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'&lt;![CDATA['</CODE></TD></TR></TBODY>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-CData name=NT-CData>[20]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>CData</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>(<A href="http://www.w3.org/TR/REC-xml/#NT-Char">Char</A>* - (<A 
      href="http://www.w3.org/TR/REC-xml/#NT-Char">Char</A>* ']]&gt;' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Char">Char</A>*)) 
  </CODE></TD></TR></TBODY>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-CDEnd name=NT-CDEnd>[21]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>CDEnd</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>']]&gt;'</CODE></TD></TR></TBODY></TABLE>
<P>Within a CDATA section, only the <A 
href="http://www.w3.org/TR/REC-xml/#NT-CDEnd">CDEnd</A> string is recognized as 
markup, so that left angle brackets and ampersands may occur in their literal 
form; they need not (and cannot) be escaped using "<CODE>&amp;lt;</CODE>" and 
"<CODE>&amp;amp;</CODE>". CDATA sections cannot nest.</P>
<P>An example of a CDATA section, in which "<CODE>&lt;greeting&gt;</CODE>" and 
"<CODE>&lt;/greeting&gt;</CODE>" are recognized as <A title="Character Data" 
href="http://www.w3.org/TR/REC-xml/#dt-chardata">character data</A>, not <A 
title=Markup href="http://www.w3.org/TR/REC-xml/#dt-markup">markup</A>:</P>
<DIV class=exampleInner><PRE>&lt;![CDATA[&lt;greeting&gt;Hello, world!&lt;/greeting&gt;]]&gt; </PRE></DIV></DIV>
<DIV class=div2>
<H3><A id=sec-prolog-dtd name=sec-prolog-dtd>2.8 Prolog and Document Type 
Declaration</H3>
<P>[<A id=dt-xmldecl title="XML Declaration" name=dt-xmldecl>Definition</A>: XML 
documents <EM class=rfc2119 title="Keyword in RFC 2119 context">SHOULD</EM> 
begin with an <B>XML declaration</B> which specifies the version of XML being 
used.] For example, the following is a complete XML document, <A 
title=Well-Formed 
href="http://www.w3.org/TR/REC-xml/#dt-wellformed">well-formed</A> but not <A 
title=Validity href="http://www.w3.org/TR/REC-xml/#dt-valid">valid</A>:</P>
<DIV class=exampleInner><PRE>&lt;?xml version="1.0"?&gt;
&lt;greeting&gt;Hello, world!&lt;/greeting&gt; </PRE></DIV>
<P>and so is this:</P>
<DIV class=exampleInner><PRE>&lt;greeting&gt;Hello, world!&lt;/greeting&gt;</PRE></DIV>
<P>The function of the markup in an XML document is to describe its storage and 
logical structure and to associate <SPAN>attribute name-value</SPAN> pairs with 
its logical structures. XML provides a mechanism, the <A 
title="Document Type Declaration" 
href="http://www.w3.org/TR/REC-xml/#dt-doctype">document type declaration</A>, 
to define constraints on the logical structure and to support the use of 
predefined storage units. [<A id=dt-valid title=Validity 
name=dt-valid>Definition</A>: An XML document is <B>valid</B> if it has an 
associated document type declaration and if the document complies with the 
constraints expressed in it.]</P>
<P>The document type declaration <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> appear before the first <A 
title=Element href="http://www.w3.org/TR/REC-xml/#dt-element">element</A> in the 
document.</P>
<H5><A id=xmldoc name=xmldoc>Prolog</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-prolog name=NT-prolog>[22]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>prolog</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A href="http://www.w3.org/TR/REC-xml/#NT-XMLDecl">XMLDecl</A>? 
      <A href="http://www.w3.org/TR/REC-xml/#NT-Misc">Misc</A>* (<A 
      href="http://www.w3.org/TR/REC-xml/#NT-doctypedecl">doctypedecl</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Misc">Misc</A>*)?</CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-XMLDecl name=NT-XMLDecl>[23]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>XMLDecl</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'&lt;?xml' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-VersionInfo">VersionInfo</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-EncodingDecl">EncodingDecl</A>? <A 
      href="http://www.w3.org/TR/REC-xml/#NT-SDDecl">SDDecl</A>? <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? '?&gt;'</CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-VersionInfo name=NT-VersionInfo>[24]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>VersionInfo</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> 'version' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Eq">Eq</A> ("'" <A 
      href="http://www.w3.org/TR/REC-xml/#NT-VersionNum">VersionNum</A> "'" | 
      '"' <A href="http://www.w3.org/TR/REC-xml/#NT-VersionNum">VersionNum</A> 
      '"')</CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-Eq name=NT-Eq>[25]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>Eq</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? '=' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>?</CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-VersionNum name=NT-VersionNum>[26]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>VersionNum</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'1.0'</CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-Misc name=NT-Misc>[27]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>Misc</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A href="http://www.w3.org/TR/REC-xml/#NT-Comment">Comment</A> | 
      <A href="http://www.w3.org/TR/REC-xml/#NT-PI">PI</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A></CODE></TD></TR></TBODY></TABLE>
<P>[<A id=dt-doctype title="Document Type Declaration" 
name=dt-doctype>Definition</A>: The XML <B>document type declaration</B> 
contains or points to <A title="markup declaration" 
href="http://www.w3.org/TR/REC-xml/#dt-markupdecl">markup declarations</A> that 
provide a grammar for a class of documents. This grammar is known as a document 
type definition, or <B>DTD</B>. The document type declaration can point to an 
external subset (a special kind of <A title="External Entity" 
href="http://www.w3.org/TR/REC-xml/#dt-extent">external entity</A>) containing 
markup declarations, or can contain the markup declarations directly in an 
internal subset, or can do both. The DTD for a document consists of both subsets 
taken together.]</P>
<P>[<A id=dt-markupdecl title="markup declaration" 
name=dt-markupdecl>Definition</A>: A <B>markup declaration</B> is an <A 
title="Element Type declaration" 
href="http://www.w3.org/TR/REC-xml/#dt-eldecl">element type declaration</A>, an 
<A title="Attribute-List Declaration" 
href="http://www.w3.org/TR/REC-xml/#dt-attdecl">attribute-list declaration</A>, 
an <A title="entity declaration" 
href="http://www.w3.org/TR/REC-xml/#dt-entdecl">entity declaration</A>, or a <A 
title="Notation Declaration" 
href="http://www.w3.org/TR/REC-xml/#dt-notdecl">notation declaration</A>.] These 
declarations <EM class=rfc2119 title="Keyword in RFC 2119 context">MAY</EM> be 
contained in whole or in part within <A title="Parameter entity" 
href="http://www.w3.org/TR/REC-xml/#dt-PE">parameter entities</A>, as described 
in the well-formedness and validity constraints below. For further information, 
see <A href="http://www.w3.org/TR/REC-xml/#sec-physical-struct"><B>4 Physical 
Structures</B></A>.</P>
<H5><A id=dtd name=dtd>Document Type Definition</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-doctypedecl name=NT-doctypedecl>[28]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>doctypedecl</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'&lt;!DOCTYPE' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> (<A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-ExternalID">ExternalID</A>)? <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? ('[' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-intSubset">intSubset</A> ']' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>?)? '&gt;'</CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#vc-roottype">[VC: Root Element 
      Type]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#ExtSubset">[WFC: External 
      Subset]</A></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-DeclSep name=NT-DeclSep>[28a]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>DeclSep</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A 
      href="http://www.w3.org/TR/REC-xml/#NT-PEReference">PEReference</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A></CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#PE-between-Decls">[WFC: PE 
      Between Declarations]</A></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-intSubset name=NT-intSubset>[28b]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>intSubset</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>(<A 
      href="http://www.w3.org/TR/REC-xml/#NT-markupdecl">markupdecl</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-DeclSep">DeclSep</A>)*</CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-markupdecl name=NT-markupdecl>[29]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>markupdecl</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A 
      href="http://www.w3.org/TR/REC-xml/#NT-elementdecl">elementdecl</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-AttlistDecl">AttlistDecl</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-EntityDecl">EntityDecl</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-NotationDecl">NotationDecl</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-PI">PI</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Comment">Comment</A></CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#vc-PEinMarkupDecl">[VC: Proper 
      Declaration/PE Nesting]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#wfc-PEinInternalSubset">[WFC: 
      PEs in Internal Subset]</A></TD></TR></TBODY></TABLE>
<P>Note that it is possible to construct a well-formed document containing a <A 
href="http://www.w3.org/TR/REC-xml/#NT-doctypedecl">doctypedecl</A> that neither 
points to an external subset nor contains an internal subset.</P>
<P>The markup declarations <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> be made up in whole or in part of 
the <A title="Replacement Text" 
href="http://www.w3.org/TR/REC-xml/#dt-repltext">replacement text</A> of <A 
title="Parameter entity" href="http://www.w3.org/TR/REC-xml/#dt-PE">parameter 
entities</A>. The productions later in this specification for individual 
nonterminals (<A 
href="http://www.w3.org/TR/REC-xml/#NT-elementdecl">elementdecl</A>, <A 
href="http://www.w3.org/TR/REC-xml/#NT-AttlistDecl">AttlistDecl</A>, and so on) 
describe the declarations <EM>after</EM> all the parameter entities have been <A 
title=Include href="http://www.w3.org/TR/REC-xml/#dt-include">included</A>.</P>
<P>Parameter entity references are recognized anywhere in the DTD (internal and 
external subsets and external parameter entities), except in literals, 
processing instructions, comments, and the contents of ignored conditional 
sections (see <A href="http://www.w3.org/TR/REC-xml/#sec-condition-sect"><B>3.4 
Conditional Sections</B></A>). They are also recognized in entity value 
literals. The use of parameter entities in the internal subset is restricted as 
described below.</P>
<DIV class=constraint>
<P class=prefix><A id=vc-roottype name=vc-roottype><B>Validity constraint: Root 
Element Type</B></P>
<P>The <A href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> in the document 
type declaration <EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> 
match the element type of the <A title="Root Element" 
href="http://www.w3.org/TR/REC-xml/#dt-root">root element</A>.</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=vc-PEinMarkupDecl name=vc-PEinMarkupDecl><B>Validity 
constraint: Proper Declaration/PE Nesting</B></P>
<P>Parameter-entity <A title="Replacement Text" 
href="http://www.w3.org/TR/REC-xml/#dt-repltext">replacement text</A> <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> be properly nested 
with markup declarations. That is to say, if either the first character or the 
last character of a markup declaration (<A 
href="http://www.w3.org/TR/REC-xml/#NT-markupdecl">markupdecl</A> above) is 
contained in the replacement text for a <A title="Parameter-entity reference" 
href="http://www.w3.org/TR/REC-xml/#dt-PERef">parameter-entity reference</A>, 
both <EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> be 
contained in the same replacement text.</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=wfc-PEinInternalSubset 
name=wfc-PEinInternalSubset><B>Well-formedness constraint: PEs in Internal 
Subset</B></P>
<P>In the internal DTD subset, <A title="Parameter-entity reference" 
href="http://www.w3.org/TR/REC-xml/#dt-PERef">parameter-entity references</A> 
<SPAN class=mustard><EM class=rfc2119 title="Keyword in RFC 2119 context">MUST 
NOT</EM> occur within markup declarations; they <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> occur where markup declarations can 
occur</SPAN>. (This does not apply to references that occur in external 
parameter entities or to the external subset.)</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=ExtSubset name=ExtSubset><B>Well-formedness constraint: 
External Subset</B></P>
<P>The external subset, if any, <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> match the production for <A 
href="http://www.w3.org/TR/REC-xml/#NT-extSubset">extSubset</A>.</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=PE-between-Decls name=PE-between-Decls><B>Well-formedness 
constraint: PE Between Declarations</B></P>
<P>The replacement text of a parameter entity reference in a <A 
href="http://www.w3.org/TR/REC-xml/#NT-DeclSep">DeclSep</A> <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> match the production <A 
href="http://www.w3.org/TR/REC-xml/#NT-extSubsetDecl">extSubsetDecl</A>.</P></DIV>
<P>Like the internal subset, the external subset and any external parameter 
entities referenced in a <A 
href="http://www.w3.org/TR/REC-xml/#NT-DeclSep">DeclSep</A> <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> consist of a series of complete 
markup declarations of the types allowed by the non-terminal symbol <A 
href="http://www.w3.org/TR/REC-xml/#NT-markupdecl">markupdecl</A>, interspersed 
with white space or <A title="Parameter-entity reference" 
href="http://www.w3.org/TR/REC-xml/#dt-PERef">parameter-entity references</A>. 
However, portions of the contents of the external subset or of these external 
parameter entities <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> conditionally be ignored by using 
the <A title="conditional section" 
href="http://www.w3.org/TR/REC-xml/#dt-cond-section">conditional section</A> 
construct; this is not allowed in the internal subset<SPAN> but is allowed in 
external parameter entities referenced in the internal subset</SPAN>.</P>
<H5><A id=ext-Subset name=ext-Subset>External Subset</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-extSubset name=NT-extSubset>[30]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>extSubset</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A 
      href="http://www.w3.org/TR/REC-xml/#NT-TextDecl">TextDecl</A>? <A 
      href="http://www.w3.org/TR/REC-xml/#NT-extSubsetDecl">extSubsetDecl</A></CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-extSubsetDecl 
    name=NT-extSubsetDecl>[31]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>extSubsetDecl</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>( <A 
      href="http://www.w3.org/TR/REC-xml/#NT-markupdecl">markupdecl</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-conditionalSect">conditionalSect</A> 
      | <A 
    href="http://www.w3.org/TR/REC-xml/#NT-DeclSep">DeclSep</A>)*</CODE></TD></TR></TBODY></TABLE>
<P>The external subset and external parameter entities also differ from the 
internal subset in that in them, <A title="Parameter-entity reference" 
href="http://www.w3.org/TR/REC-xml/#dt-PERef">parameter-entity references</A> 
are permitted <EM>within</EM> markup declarations, not only <EM>between</EM> 
markup declarations.</P>
<P>An example of an XML document with a document type declaration:</P>
<DIV class=exampleInner><PRE>&lt;?xml version="1.0"?&gt;
&lt;!DOCTYPE greeting SYSTEM "hello.dtd"&gt;
&lt;greeting&gt;Hello, world!&lt;/greeting&gt; </PRE></DIV>
<P>The <A title="System Identifier" 
href="http://www.w3.org/TR/REC-xml/#dt-sysid">system identifier</A> 
"<CODE>hello.dtd</CODE>" gives the address (a URI reference) of a DTD for the 
document.</P>
<P>The declarations can also be given locally, as in this example:</P>
<DIV class=exampleInner><PRE>&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;!DOCTYPE greeting [
  &lt;!ELEMENT greeting (#PCDATA)&gt;
]&gt;
&lt;greeting&gt;Hello, world!&lt;/greeting&gt;</PRE></DIV>
<P>If both the external and internal subsets are used, the internal subset <SPAN 
class=mustard><EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> 
be</SPAN> considered to occur before the external subset. This has the effect 
that entity and attribute-list declarations in the internal subset take 
precedence over those in the external subset.</P></DIV>
<DIV class=div2>
<H3><A id=sec-rmd name=sec-rmd>2.9 Standalone Document Declaration</H3>
<P>Markup declarations can affect the content of the document, as passed from an 
<A title="XML Processor" href="http://www.w3.org/TR/REC-xml/#dt-xml-proc">XML 
processor</A> to an application; examples are attribute defaults and entity 
declarations. The standalone document declaration, which <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> appear as a component of the XML 
declaration, signals whether or not there are such declarations which appear 
external to the <A title="Document Entity" 
href="http://www.w3.org/TR/REC-xml/#dt-docent">document entity</A> or in 
parameter entities. [<A id=dt-extmkpdecl title="External Markup Declaration" 
name=dt-extmkpdecl>Definition</A>: An <B>external markup declaration</B> is 
defined as a markup declaration occurring in the external subset or in a 
parameter entity (external or internal, the latter being included because 
non-validating processors are not required to read them).]</P>
<H5><A id=fulldtd name=fulldtd>Standalone Document Declaration</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-SDDecl name=NT-SDDecl>[32]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>SDDecl</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> 'standalone' 
      <A href="http://www.w3.org/TR/REC-xml/#NT-Eq">Eq</A> (("'" ('yes' | 'no') 
      "'") | ('"' ('yes' | 'no') '"')) </CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#vc-check-rmd">[VC: Standalone 
      Document Declaration]</A></TD></TR></TBODY></TABLE>
<P>In a standalone document declaration, the value "yes" indicates that there 
are no <A title="External Markup Declaration" 
href="http://www.w3.org/TR/REC-xml/#dt-extmkpdecl">external markup 
declarations</A> which affect the information passed from the XML processor to 
the application. The value "no" indicates that there are or may be such external 
markup declarations. Note that the standalone document declaration only denotes 
the presence of external <EM>declarations</EM>; the presence, in a document, of 
references to external <EM>entities</EM>, when those entities are internally 
declared, does not change its standalone status.</P>
<P>If there are no external markup declarations, the standalone document 
declaration has no meaning. If there are external markup declarations but there 
is no standalone document declaration, the value "no" is assumed.</P>
<P>Any XML document for which <CODE>standalone="no"</CODE> holds can be 
converted algorithmically to a standalone document, which may be desirable for 
some network delivery applications.</P>
<DIV class=constraint>
<P class=prefix><A id=vc-check-rmd name=vc-check-rmd><B>Validity constraint: 
Standalone Document Declaration</B></P>
<P>The standalone document declaration <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> have the value "no" if any 
external markup declarations contain declarations of:</P>
<UL>
  <LI>
  <P>attributes with <A title="Attribute Default" 
  href="http://www.w3.org/TR/REC-xml/#dt-default">default</A> values, if 
  elements to which these attributes apply appear in the document without 
  specifications of values for these attributes, or</P>
  <LI>
  <P>entities (other than <CODE>amp</CODE>, <CODE>lt</CODE>, <CODE>gt</CODE>, 
  <CODE>apos</CODE>, <CODE>quot</CODE>), if <A title="Entity Reference" 
  href="http://www.w3.org/TR/REC-xml/#dt-entref">references</A> to those 
  entities appear in the document, or</P>
  <LI>
  <P>attributes with tokenized types, where the attribute appears in the 
  document with a value such that <A 
  href="http://www.w3.org/TR/REC-xml/#AVNormalize"><CITE>normalization</CITE></A> 
  will produce a different value from that which would be produced in the 
  absence of the declaration, or</P>
  <LI>
  <P>element types with <A title="Element content" 
  href="http://www.w3.org/TR/REC-xml/#dt-elemcontent">element content</A>, if 
  white space occurs directly within any instance of those 
types.</P></LI></UL></DIV>
<P>An example XML declaration with a standalone document declaration:</P>
<DIV class=exampleInner><PRE>&lt;?xml version="1.0" standalone='yes'?&gt;</PRE></DIV></DIV>
<DIV class=div2>
<H3><A id=sec-white-space name=sec-white-space>2.10 White Space Handling</H3>
<P>In editing XML documents, it is often convenient to use "white space" 
(spaces, tabs, and blank lines) to set apart the markup for greater readability. 
Such white space is typically not intended for inclusion in the delivered 
version of the document. On the other hand, "significant" white space that 
should be preserved in the delivered version is common, for example in poetry 
and source code.</P>
<P>An <A title="XML Processor" 
href="http://www.w3.org/TR/REC-xml/#dt-xml-proc">XML processor</A> <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> always pass all 
characters in a document that are not markup through to the application. A <A 
title="Validating Processor" 
href="http://www.w3.org/TR/REC-xml/#dt-validating">validating XML processor</A> 
<EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> also inform the 
application which of these characters constitute white space appearing in <A 
title="Element content" 
href="http://www.w3.org/TR/REC-xml/#dt-elemcontent">element content</A>.</P>
<P>A special <A title=Attribute 
href="http://www.w3.org/TR/REC-xml/#dt-attr">attribute</A> named 
<CODE>xml:space</CODE> <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> be attached to an element to signal 
an intention that in that element, white space should be preserved by 
applications. In valid documents, this attribute, like any other, <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> be <A 
title="Attribute-List Declaration" 
href="http://www.w3.org/TR/REC-xml/#dt-attdecl">declared</A> if it is used. When 
declared, it <EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> be 
given as an <A title="Enumerated Attribute&#10;Values" 
href="http://www.w3.org/TR/REC-xml/#dt-enumerated">enumerated type</A> whose 
values are one or both of "default" and "preserve". For example:</P>
<DIV class=exampleInner><PRE>&lt;!ATTLIST poem  xml:space (default|preserve) 'preserve'&gt;

&lt;!ATTLIST pre xml:space (preserve) #FIXED 'preserve'&gt;</PRE></DIV>
<P>The value "default" signals that applications' default white-space processing 
modes are acceptable for this element; the value "preserve" indicates the intent 
that applications preserve all the white space. This declared intent is 
considered to apply to all elements within the content of the element where it 
is specified, unless <SPAN>overridden</SPAN> with another instance of the 
<CODE>xml:space</CODE> attribute. <SPAN>This specification does not give meaning 
to any value of <CODE>xml:space</CODE> other than "default" and "preserve". It 
is an error for other values to be specified; the XML processor <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MAY</EM> report the error or 
<EM class=rfc2119 title="Keyword in RFC 2119 context">MAY</EM> recover by 
ignoring the attribute specification or by reporting the (erroneous) value to 
the application. Applications may ignore or reject erroneous values.</SPAN></P>
<P>The <A title="Root Element" href="http://www.w3.org/TR/REC-xml/#dt-root">root 
element</A> of any document is considered to have signaled no intentions as 
regards application space handling, unless it provides a value for this 
attribute or the attribute is declared with a default value.</P></DIV>
<DIV class=div2>
<H3><A id=sec-line-ends name=sec-line-ends>2.11 End-of-Line Handling</H3>
<P>XML <A title="Text Entity" 
href="http://www.w3.org/TR/REC-xml/#dt-parsedent">parsed entities</A> are often 
stored in computer files which, for editing convenience, are organized into 
lines. These lines are typically separated by some combination of the characters 
CARRIAGE RETURN (#xD) and LINE FEED (#xA).</P>
<P>To simplify the tasks of <A title=Application 
href="http://www.w3.org/TR/REC-xml/#dt-app">applications</A>, the <SPAN><A 
title="XML Processor" href="http://www.w3.org/TR/REC-xml/#dt-xml-proc">XML 
processor</A> <EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> 
behave as if it</SPAN> normalized all line breaks in external parsed entities 
(including the document entity) on input, before parsing, by translating both 
the two-character sequence #xD #xA and any #xD that is not followed by #xA to a 
single #xA character.</P></DIV>
<DIV class=div2>
<H3><A id=sec-lang-tag name=sec-lang-tag>2.12 Language Identification</H3>
<P>In document processing, it is often useful to identify the natural or formal 
language in which the content is written. A special <A title=Attribute 
href="http://www.w3.org/TR/REC-xml/#dt-attr">attribute</A> named 
<CODE>xml:lang</CODE> <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> be inserted in documents to specify 
the language used in the contents and attribute values of any element in an XML 
document. In valid documents, this attribute, like any other, <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> be <A 
title="Attribute-List Declaration" 
href="http://www.w3.org/TR/REC-xml/#dt-attdecl">declared</A> if it is used. The 
values of the attribute are language identifiers as defined by <A 
href="http://www.w3.org/TR/REC-xml/#RFC1766">[IETF RFC 3066]</A>, <CITE>Tags for 
the Identification of Languages</CITE>, or its successor<SPAN>; in addition, the 
empty string <EM class=rfc2119 title="Keyword in RFC 2119 context">MAY</EM> be 
specified</SPAN>.</P>
<P>(Productions 33 through 38 have been removed.)</P>
<P>For example:</P>
<DIV class=exampleInner><PRE>&lt;p xml:lang="en"&gt;The quick brown fox jumps over the lazy dog.&lt;/p&gt;
&lt;p xml:lang="en-GB"&gt;What colour is it?&lt;/p&gt;
&lt;p xml:lang="en-US"&gt;What color is it?&lt;/p&gt;
&lt;sp who="Faust" desc='leise' xml:lang="de"&gt;
  &lt;l&gt;Habe nun, ach! Philosophie,&lt;/l&gt;
  &lt;l&gt;Juristerei, und Medizin&lt;/l&gt;
  &lt;l&gt;und leider auch Theologie&lt;/l&gt;
  &lt;l&gt;durchaus studiert mit heißem Bemüh'n.&lt;/l&gt;
&lt;/sp&gt;</PRE></DIV>
<P>The intent declared with <CODE>xml:lang</CODE> is considered to apply to all 
attributes and content of the element where it is specified, unless overridden 
with an instance of <CODE>xml:lang</CODE> on another element within that 
content. <SPAN>In particular, the empty value of <CODE>xml:lang</CODE> is used 
on an element B to override a specification of <CODE>xml:lang</CODE> on an 
enclosing element A, without specifying another language. Within B, it is 
considered that there is no language information available, just as if 
<CODE>xml:lang</CODE> had not been specified on B or any of its 
ancestors.</SPAN></P>
<DIV class=note>
<P class=prefix><B>Note:</B></P>
<P>Language information may also be provided by external transport protocols 
(e.g. HTTP or MIME). When available, this information may be used by XML 
applications, but the more local information provided by <CODE>xml:lang</CODE> 
should be considered to override it. </P></DIV>
<P>A simple declaration for <CODE>xml:lang</CODE> might take the form</P>
<DIV class=exampleInner><PRE>xml:lang <SPAN>CDATA</SPAN> #IMPLIED</PRE></DIV>
<P>but specific default values <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> also be given, if appropriate. In a 
collection of French poems for English students, with glosses and notes in 
English, the <CODE>xml:lang</CODE> attribute might be declared this way:</P>
<DIV class=exampleInner><PRE>&lt;!ATTLIST poem   xml:lang <SPAN>CDATA</SPAN> 'fr'&gt;
&lt;!ATTLIST gloss  xml:lang <SPAN>CDATA</SPAN> 'en'&gt;
&lt;!ATTLIST note   xml:lang <SPAN>CDATA</SPAN> 'en'&gt;</PRE></DIV></DIV></DIV>
<DIV class=div1>
<H2><A id=sec-logical-struct name=sec-logical-struct>3 Logical Structures</H2>
<P>[<A id=dt-element title=Element name=dt-element>Definition</A>: Each <A 
title="XML Document" href="http://www.w3.org/TR/REC-xml/#dt-xml-doc">XML 
document</A> contains one or more <B>elements</B>, the boundaries of which are 
either delimited by <A title=Start-Tag 
href="http://www.w3.org/TR/REC-xml/#dt-stag">start-tags</A> and <A 
title="End Tag" href="http://www.w3.org/TR/REC-xml/#dt-etag">end-tags</A>, or, 
for <A title=Empty href="http://www.w3.org/TR/REC-xml/#dt-empty">empty</A> 
elements, by an <A title="empty-element tag" 
href="http://www.w3.org/TR/REC-xml/#dt-eetag">empty-element tag</A>. Each 
element has a type, identified by name, sometimes called its "generic 
identifier" (GI), and <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> have a set of attribute 
specifications.] Each attribute specification has a <A title="Attribute Name" 
href="http://www.w3.org/TR/REC-xml/#dt-attrname">name</A> and a <A 
title="Attribute Value" 
href="http://www.w3.org/TR/REC-xml/#dt-attrval">value</A>.</P>
<H5><A id=IDASK3S name=IDASK3S>Element</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-element name=NT-element>[39]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>element</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A 
      href="http://www.w3.org/TR/REC-xml/#NT-EmptyElemTag">EmptyElemTag</A></CODE></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD><CODE>| <A href="http://www.w3.org/TR/REC-xml/#NT-STag">STag</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-content">content</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-ETag">ETag</A></CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#GIMatch">[WFC: Element Type 
      Match]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#elementvalid">[VC: Element 
      Valid]</A></TD></TR></TBODY></TABLE>
<P>This specification does not constrain the semantics, use, or (beyond syntax) 
names of the element types and attributes, except that names beginning with a 
match to <CODE>(('X'|'x')('M'|'m')('L'|'l'))</CODE> are reserved for 
standardization in this or future versions of this specification.</P>
<DIV class=constraint>
<P class=prefix><A id=GIMatch name=GIMatch><B>Well-formedness constraint: 
Element Type Match</B></P>
<P>The <A href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> in an element's 
end-tag <EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> match 
the element type in the start-tag.</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=elementvalid name=elementvalid><B>Validity constraint: 
Element Valid</B></P>
<P>An element is valid if there is a declaration matching <A 
href="http://www.w3.org/TR/REC-xml/#NT-elementdecl">elementdecl</A> where the <A 
href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> matches the element type, 
and one of the following holds:</P>
<OL type=1>
  <LI>
  <P>The declaration matches <B>EMPTY</B> and the element has no <A 
  title=Content href="http://www.w3.org/TR/REC-xml/#dt-content">content</A> 
  <SPAN>(not even entity references, comments, PIs or white space)</SPAN>.</P>
  <LI>
  <P>The declaration matches <A 
  href="http://www.w3.org/TR/REC-xml/#NT-children">children</A> and the sequence 
  of <A title=Parent/Child 
  href="http://www.w3.org/TR/REC-xml/#dt-parentchild">child elements</A> belongs 
  to the language generated by the regular expression in the content model, with 
  optional white space<SPAN>, comments and PIs (i.e. markup matching production 
  [27] <A href="http://www.w3.org/TR/REC-xml/#NT-Misc">Misc</A>)</SPAN> between 
  the start-tag and the first child element, between child elements, or between 
  the last child element and the end-tag. Note that a CDATA section containing 
  only white space <SPAN>or a reference to an entity whose replacement text is 
  character references expanding to white space</SPAN> <SPAN>do</SPAN> not match 
  the nonterminal <A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>, and hence 
  cannot appear in these positions<SPAN>; however, a reference to an internal 
  entity with a literal value consisting of character references expanding to 
  white space does match <A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>, 
  since its replacement text is the white space resulting from expansion of the 
  character references</SPAN>.</P>
  <LI>
  <P>The declaration matches <A 
  href="http://www.w3.org/TR/REC-xml/#NT-Mixed">Mixed</A> and the content 
  <SPAN>(after replacing any entity references with their replacement 
  text)</SPAN> consists of <A title="Character Data" 
  href="http://www.w3.org/TR/REC-xml/#dt-chardata">character data</A><SPAN>, <A 
  title=Comment href="http://www.w3.org/TR/REC-xml/#dt-comment">comments</A>, <A 
  title="Processing instruction" 
  href="http://www.w3.org/TR/REC-xml/#dt-pi">PIs</A></SPAN> and <A 
  title=Parent/Child href="http://www.w3.org/TR/REC-xml/#dt-parentchild">child 
  elements</A> whose types match names in the content model.</P>
  <LI>
  <P>The declaration matches <B>ANY</B>, and the <SPAN>content <SPAN>(after 
  replacing any entity references with their replacement text)</SPAN> consists 
  of character data and <A title=Parent/Child 
  href="http://www.w3.org/TR/REC-xml/#dt-parentchild">child elements</A> whose 
  types</SPAN> have been declared.</P></LI></OL></DIV>
<DIV class=div2>
<H3><A id=sec-starttags name=sec-starttags>3.1 Start-Tags, End-Tags, and 
Empty-Element Tags</H3>
<P>[<A id=dt-stag title=Start-Tag name=dt-stag>Definition</A>: The beginning of 
every non-empty XML element is marked by a <B>start-tag</B>.]</P>
<H5><A id=IDAWR3S name=IDAWR3S>Start-tag</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-STag name=NT-STag>[40]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>STag</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'&lt;' <A href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> 
      (<A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Attribute">Attribute</A>)* <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? '&gt;'</CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#uniqattspec">[WFC: Unique Att 
      Spec]</A></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-Attribute name=NT-Attribute>[41]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>Attribute</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Eq">Eq</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-AttValue">AttValue</A></CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#ValueType">[VC: Attribute Value 
      Type]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#NoExternalRefs">[WFC: No 
      External Entity References]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#CleanAttrVals">[WFC: No &lt; in 
      Attribute Values]</A></TD></TR></TBODY></TABLE>
<P>The <A href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> in the start- 
and end-tags gives the element's <B>type</B>. [<A id=dt-attr title=Attribute 
name=dt-attr>Definition</A>: The <A 
href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A>-<A 
href="http://www.w3.org/TR/REC-xml/#NT-AttValue">AttValue</A> pairs are referred 
to as the <B>attribute specifications</B> of the element], [<A id=dt-attrname 
title="Attribute Name" name=dt-attrname>Definition</A>: with the <A 
href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> in each pair referred to 
as the <B>attribute name</B>] and [<A id=dt-attrval title="Attribute Value" 
name=dt-attrval>Definition</A>: the content of the <A 
href="http://www.w3.org/TR/REC-xml/#NT-AttValue">AttValue</A> (the text between 
the <CODE>'</CODE> or <CODE>"</CODE> delimiters) as the <B>attribute value</B>.] 
Note that the order of attribute specifications in a start-tag or empty-element 
tag is not significant.</P>
<DIV class=constraint>
<P class=prefix><A id=uniqattspec name=uniqattspec><B>Well-formedness 
constraint: Unique Att Spec</B></P>
<P><SPAN class=mustard>An attribute name <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST NOT</EM></SPAN> appear more than once 
in the same start-tag or empty-element tag.</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=ValueType name=ValueType><B>Validity constraint: Attribute 
Value Type</B></P>
<P>The attribute <EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> 
have been declared; the value <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> be of the type declared for it. 
(For attribute types, see <A 
href="http://www.w3.org/TR/REC-xml/#attdecls"><B>3.3 Attribute-List 
Declarations</B></A>.)</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=NoExternalRefs name=NoExternalRefs><B>Well-formedness 
constraint: No External Entity References</B></P>
<P>Attribute values <SPAN class=mustard><EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST NOT</EM></SPAN> contain direct or 
indirect entity references to external entities.</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=CleanAttrVals name=CleanAttrVals><B>Well-formedness 
constraint: No <CODE>&lt;</CODE> in Attribute Values</B></P>
<P>The <A title="Replacement Text" 
href="http://www.w3.org/TR/REC-xml/#dt-repltext">replacement text</A> of any 
entity referred to directly or indirectly in an attribute value <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MUST NOT</EM> contain a 
<CODE>&lt;</CODE>.</P></DIV>
<P>An example of a start-tag:</P>
<DIV class=exampleInner><PRE>&lt;termdef id="dt-dog" term="dog"&gt;</PRE></DIV>
<P>[<A id=dt-etag title="End Tag" name=dt-etag>Definition</A>: The end of every 
element that begins with a start-tag <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> be marked by an <B>end-tag</B> 
containing a name that echoes the element's type as given in the start-tag:]</P>
<H5><A id=IDAVX3S name=IDAVX3S>End-tag</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-ETag name=NT-ETag>[42]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>ETag</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'&lt;/' <A href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> 
      <A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? 
  '&gt;'</CODE></TD></TR></TBODY></TABLE>
<P>An example of an end-tag:</P>
<DIV class=exampleInner><PRE>&lt;/termdef&gt;</PRE></DIV>
<P>[<A id=dt-content title=Content name=dt-content>Definition</A>: The <A 
title=Text href="http://www.w3.org/TR/REC-xml/#dt-text">text</A> between the 
start-tag and end-tag is called the element's <B>content</B>:]</P>
<H5><A id=IDAFZ3S name=IDAFZ3S>Content of Elements</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-content name=NT-content>[43]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>content</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A 
      href="http://www.w3.org/TR/REC-xml/#NT-CharData">CharData</A>? ((<A 
      href="http://www.w3.org/TR/REC-xml/#NT-element">element</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Reference">Reference</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-CDSect">CDSect</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-PI">PI</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Comment">Comment</A>) <A 
      href="http://www.w3.org/TR/REC-xml/#NT-CharData">CharData</A>?)*</CODE></TD></TR></TBODY></TABLE>
<P>[<A id=dt-empty title=Empty name=dt-empty>Definition</A>: An element with no 
<A href="http://www.w3.org/TR/REC-xml/#NT-content">content</A> is said to be 
<B>empty</B>.] The representation of an empty element is either a start-tag 
immediately followed by an end-tag, or an empty-element tag. [<A id=dt-eetag 
title="empty-element tag" name=dt-eetag>Definition</A>: An <B>empty-element 
tag</B> takes a special form:]</P>
<H5><A id=IDAJ13S name=IDAJ13S>Tags for Empty Elements</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-EmptyElemTag 
    name=NT-EmptyElemTag>[44]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>EmptyElemTag</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'&lt;' <A href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> 
      (<A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Attribute">Attribute</A>)* <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? '/&gt;'</CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#uniqattspec">[WFC: Unique Att 
      Spec]</A></TD></TR></TBODY></TABLE>
<P>Empty-element tags <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> be used for any element which has 
no content, whether or not it is declared using the keyword <B>EMPTY</B>. <A 
title="For interoperability" href="http://www.w3.org/TR/REC-xml/#dt-interop">For 
interoperability</A>, the empty-element tag <EM class=rfc2119 
title="Keyword in RFC 2119 context">SHOULD</EM> be used, and <EM class=rfc2119 
title="Keyword in RFC 2119 context">SHOULD</EM> only be used, for elements which 
are declared EMPTY.</P>
<P>Examples of empty elements:</P>
<DIV class=exampleInner><PRE>&lt;IMG align="left"
 src="http://www.w3.org/Icons/WWW/w3c_home" /&gt;
&lt;br&gt;&lt;/br&gt;
&lt;br/&gt;</PRE></DIV></DIV>
<DIV class=div2>
<H3><A id=elemdecls name=elemdecls>3.2 Element Type Declarations</H3>
<P>The <A title=Element 
href="http://www.w3.org/TR/REC-xml/#dt-element">element</A> structure of an <A 
title="XML Document" href="http://www.w3.org/TR/REC-xml/#dt-xml-doc">XML 
document</A> <EM class=rfc2119 title="Keyword in RFC 2119 context">MAY</EM>, for 
<A title=Validity href="http://www.w3.org/TR/REC-xml/#dt-valid">validation</A> 
purposes, be constrained using element type and attribute-list declarations. An 
element type declaration constrains the element's <A title=Content 
href="http://www.w3.org/TR/REC-xml/#dt-content">content</A>.</P>
<P>Element type declarations often constrain which element types can appear as 
<A title=Parent/Child 
href="http://www.w3.org/TR/REC-xml/#dt-parentchild">children</A> of the element. 
At user option, an XML processor <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> issue a warning when a declaration 
mentions an element type for which no declaration is provided, but this is not 
an error.</P>
<P>[<A id=dt-eldecl title="Element Type declaration" 
name=dt-eldecl>Definition</A>: An <B>element type declaration</B> takes the 
form:]</P>
<H5><A id=IDAN43S name=IDAN43S>Element Type Declaration</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-elementdecl name=NT-elementdecl>[45]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>elementdecl</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'&lt;!ELEMENT' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-contentspec">contentspec</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? '&gt;'</CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#EDUnique">[VC: Unique Element 
      Type Declaration]</A></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-contentspec name=NT-contentspec>[46]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>contentspec</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'EMPTY' | 'ANY' | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Mixed">Mixed</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-children">children</A></CODE></TD></TR></TBODY></TABLE>
<P>where the <A href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> gives the 
element type being declared.</P>
<DIV class=constraint>
<P class=prefix><A id=EDUnique name=EDUnique><B>Validity constraint: Unique 
Element Type Declaration</B></P>
<P><SPAN class=mustard>An element type <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST NOT</EM></SPAN> be declared more than 
once.</P></DIV>
<P>Examples of element type declarations:</P>
<DIV class=exampleInner><PRE>&lt;!ELEMENT br EMPTY&gt;
&lt;!ELEMENT p (#PCDATA|emph)* &gt;
&lt;!ELEMENT %name.para; %content.para; &gt;
&lt;!ELEMENT container ANY&gt;</PRE></DIV>
<DIV class=div3>
<H4><A id=sec-element-content name=sec-element-content>3.2.1 Element 
Content</H4>
<P>[<A id=dt-elemcontent title="Element content" 
name=dt-elemcontent>Definition</A>: An element <A title=Start-Tag 
href="http://www.w3.org/TR/REC-xml/#dt-stag">type</A> has <B>element content</B> 
when elements of that type <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> contain only <A title=Parent/Child 
href="http://www.w3.org/TR/REC-xml/#dt-parentchild">child</A> elements (no 
character data), optionally separated by white space (characters matching the 
nonterminal <A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>).] [<A 
id=dt-content-model title="Content model" name=dt-content-model>Definition</A>: 
In this case, the constraint includes a <B>content model</B>, a simple grammar 
governing the allowed types of the child elements and the order in which they 
are allowed to appear.] The grammar is built on content particles (<A 
href="http://www.w3.org/TR/REC-xml/#NT-cp">cp</A>s), which consist of names, 
choice lists of content particles, or sequence lists of content particles:</P>
<H5><A id=IDALCCU name=IDALCCU>Element-content Models</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-children name=NT-children>[47]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>children</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>(<A href="http://www.w3.org/TR/REC-xml/#NT-choice">choice</A> | 
      <A href="http://www.w3.org/TR/REC-xml/#NT-seq">seq</A>) ('?' | '*' | 
      '+')?</CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-cp name=NT-cp>[48]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>cp</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>(<A href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-choice">choice</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-seq">seq</A>) ('?' | '*' | 
      '+')?</CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-choice name=NT-choice>[49]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>choice</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'(' <A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? <A 
      href="http://www.w3.org/TR/REC-xml/#NT-cp">cp</A> ( <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? '|' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? <A 
      href="http://www.w3.org/TR/REC-xml/#NT-cp">cp</A> )+ <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? ')'</CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#vc-PEinGroup">[VC: Proper 
      Group/PE Nesting]</A></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-seq name=NT-seq>[50]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>seq</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'(' <A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? <A 
      href="http://www.w3.org/TR/REC-xml/#NT-cp">cp</A> ( <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? ',' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? <A 
      href="http://www.w3.org/TR/REC-xml/#NT-cp">cp</A> )* <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? ')'</CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#vc-PEinGroup">[VC: Proper 
      Group/PE Nesting]</A></TD></TR></TBODY></TABLE>
<P>where each <A href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> is the 
type of an element which <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> appear as a <A title=Parent/Child 
href="http://www.w3.org/TR/REC-xml/#dt-parentchild">child</A>. Any content 
particle in a choice list <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> appear in the <A 
title="Element content" 
href="http://www.w3.org/TR/REC-xml/#dt-elemcontent">element content</A> at the 
location where the choice list appears in the grammar; content particles 
occurring in a sequence list <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> each appear in the <A 
title="Element content" 
href="http://www.w3.org/TR/REC-xml/#dt-elemcontent">element content</A> in the 
order given in the list. The optional character following a name or list governs 
whether the element or the content particles in the list may occur one or more 
(<CODE>+</CODE>), zero or more (<CODE>*</CODE>), or zero or one times 
(<CODE>?</CODE>). The absence of such an operator means that the element or 
content particle <EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> 
appear exactly once. This syntax and meaning are identical to those used in the 
productions in this specification.</P>
<P>The content of an element matches a content model if and only if it is 
possible to trace out a path through the content model, obeying the sequence, 
choice, and repetition operators and matching each element in the content 
against an element type in the content model. <A title="For Compatibility" 
href="http://www.w3.org/TR/REC-xml/#dt-compat">For compatibility</A>, it is an 
error if <SPAN>the content model allows an element to match more than one 
occurrence of an element type in the content model</SPAN>. For more information, 
see <A href="http://www.w3.org/TR/REC-xml/#determinism"><B>E Deterministic 
Content Models</B></A>.</P>
<DIV class=constraint>
<P class=prefix><A id=vc-PEinGroup name=vc-PEinGroup><B>Validity constraint: 
Proper Group/PE Nesting</B></P>
<P>Parameter-entity <A title="Replacement Text" 
href="http://www.w3.org/TR/REC-xml/#dt-repltext">replacement text</A> <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> be properly nested 
with parenthesized groups. That is to say, if either of the opening or closing 
parentheses in a <A href="http://www.w3.org/TR/REC-xml/#NT-choice">choice</A>, 
<A href="http://www.w3.org/TR/REC-xml/#NT-seq">seq</A>, or <A 
href="http://www.w3.org/TR/REC-xml/#NT-Mixed">Mixed</A> construct is contained 
in the replacement text for a <A title="Parameter-entity reference" 
href="http://www.w3.org/TR/REC-xml/#dt-PERef">parameter entity</A>, both <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> be contained in the 
same replacement text.</P>
<P><A title="For interoperability" 
href="http://www.w3.org/TR/REC-xml/#dt-interop">For interoperability</A>, if a 
parameter-entity reference appears in a <A 
href="http://www.w3.org/TR/REC-xml/#NT-choice">choice</A>, <A 
href="http://www.w3.org/TR/REC-xml/#NT-seq">seq</A>, or <A 
href="http://www.w3.org/TR/REC-xml/#NT-Mixed">Mixed</A> construct, its 
replacement text <EM class=rfc2119 
title="Keyword in RFC 2119 context">SHOULD</EM> contain at least one non-blank 
character, and neither the first nor last non-blank character of the replacement 
text <EM class=rfc2119 title="Keyword in RFC 2119 context">SHOULD</EM> be a 
connector (<CODE>|</CODE> or <CODE>,</CODE>).</P></DIV>
<P>Examples of element-content models:</P>
<DIV class=exampleInner><PRE>&lt;!ELEMENT spec (front, body, back?)&gt;
&lt;!ELEMENT div1 (head, (p | list | note)*, div2*)&gt;
&lt;!ELEMENT dictionary-body (%div.mix; | %dict.mix;)*&gt;</PRE></DIV></DIV>
<DIV class=div3>
<H4><A id=sec-mixed-content name=sec-mixed-content>3.2.2 Mixed Content</H4>
<P>[<A id=dt-mixed title="Mixed Content" name=dt-mixed>Definition</A>: An 
element <A title=Start-Tag href="http://www.w3.org/TR/REC-xml/#dt-stag">type</A> 
has <B>mixed content</B> when elements of that type <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> contain character data, optionally 
interspersed with <A title=Parent/Child 
href="http://www.w3.org/TR/REC-xml/#dt-parentchild">child</A> elements.] In this 
case, the types of the child elements <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> be constrained, but not their order 
or their number of occurrences:</P>
<H5><A id=IDAVKCU name=IDAVKCU>Mixed-content Declaration</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-Mixed name=NT-Mixed>[51]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>Mixed</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'(' <A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? 
      '#PCDATA' (<A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? '|' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A>)* <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? ')*' </CODE></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD><CODE>| '(' <A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? 
      '#PCDATA' <A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? ')' 
    </CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#vc-PEinGroup">[VC: Proper 
      Group/PE Nesting]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#vc-MixedChildrenUnique">[VC: No 
      Duplicate Types]</A></TD></TR></TBODY></TABLE>
<P>where the <A href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A>s give the 
types of elements that may appear as children. The keyword <B>#PCDATA</B> 
derives historically from the term "parsed character data."</P>
<DIV class=constraint>
<P class=prefix><A id=vc-MixedChildrenUnique 
name=vc-MixedChildrenUnique><B>Validity constraint: No Duplicate Types</B></P>
<P>The same name <EM class=rfc2119 title="Keyword in RFC 2119 context">MUST 
NOT</EM> appear more than once in a single mixed-content declaration.</P></DIV>
<P>Examples of mixed content declarations:</P>
<DIV class=exampleInner><PRE>&lt;!ELEMENT p (#PCDATA|a|ul|b|i|em)*&gt;
&lt;!ELEMENT p (#PCDATA | %font; | %phrase; | %special; | %form;)* &gt;
&lt;!ELEMENT b (#PCDATA)&gt;</PRE></DIV></DIV></DIV>
<DIV class=div2>
<H3><A id=attdecls name=attdecls>3.3 Attribute-List Declarations</H3>
<P><A title=Attribute 
href="http://www.w3.org/TR/REC-xml/#dt-attr">Attributes</A> are used to 
associate name-value pairs with <A title=Element 
href="http://www.w3.org/TR/REC-xml/#dt-element">elements</A>. Attribute 
specifications <SPAN class=mustard><EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST NOT</EM> appear outside of</SPAN> <A 
title=Start-Tag href="http://www.w3.org/TR/REC-xml/#dt-stag">start-tags</A> and 
<A title="empty-element tag" 
href="http://www.w3.org/TR/REC-xml/#dt-eetag">empty-element tags</A>; thus, the 
productions used to recognize them appear in <A 
href="http://www.w3.org/TR/REC-xml/#sec-starttags"><B>3.1 Start-Tags, End-Tags, 
and Empty-Element Tags</B></A>. Attribute-list declarations <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> be used:</P>
<UL>
  <LI>
  <P>To define the set of attributes pertaining to a given element type.</P>
  <LI>
  <P>To establish type constraints for these attributes.</P>
  <LI>
  <P>To provide <A title="Attribute Default" 
  href="http://www.w3.org/TR/REC-xml/#dt-default">default values</A> for 
  attributes.</P></LI></UL>
<P>[<A id=dt-attdecl title="Attribute-List Declaration" 
name=dt-attdecl>Definition</A>: <B>Attribute-list declarations</B> specify the 
name, data type, and default value (if any) of each attribute associated with a 
given element type:]</P>
<H5><A id=IDACPCU name=IDACPCU>Attribute-list Declaration</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-AttlistDecl name=NT-AttlistDecl>[52]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>AttlistDecl</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'&lt;!ATTLIST' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-AttDef">AttDef</A>* <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? 
  '&gt;'</CODE></TD></TR></TBODY>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-AttDef name=NT-AttDef>[53]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>AttDef</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-AttType">AttType</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-DefaultDecl">DefaultDecl</A></CODE></TD></TR></TBODY></TABLE>
<P>The <A href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> in the <A 
href="http://www.w3.org/TR/REC-xml/#NT-AttlistDecl">AttlistDecl</A> rule is the 
type of an element. At user option, an XML processor <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> issue a warning if attributes are 
declared for an element type not itself declared, but this is not an error. The 
<A href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> in the <A 
href="http://www.w3.org/TR/REC-xml/#NT-AttDef">AttDef</A> rule is the name of 
the attribute.</P>
<P>When more than one <A 
href="http://www.w3.org/TR/REC-xml/#NT-AttlistDecl">AttlistDecl</A> is provided 
for a given element type, the contents of all those provided are merged. When 
more than one definition is provided for the same attribute of a given element 
type, the first declaration is binding and later declarations are ignored. <A 
title="For interoperability" href="http://www.w3.org/TR/REC-xml/#dt-interop">For 
interoperability,</A> writers of DTDs <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> choose to provide at most one 
attribute-list declaration for a given element type, at most one attribute 
definition for a given attribute name in an attribute-list declaration, and at 
least one attribute definition in each attribute-list declaration. For 
interoperability, an XML processor <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> at user option issue a warning when 
more than one attribute-list declaration is provided for a given element type, 
or more than one attribute definition is provided for a given attribute, but 
this is not an error.</P>
<DIV class=div3>
<H4><A id=sec-attribute-types name=sec-attribute-types>3.3.1 Attribute 
Types</H4>
<P>XML attribute types are of three kinds: a string type, a set of tokenized 
types, and enumerated types. The string type may take any literal string as a 
value; the tokenized types have varying lexical and semantic constraints. The 
validity constraints noted in the grammar are applied after the attribute value 
has been normalized as described in <SPAN><A 
href="http://www.w3.org/TR/REC-xml/#AVNormalize"><B>3.3.3 Attribute-Value 
Normalization</B></A></SPAN>.</P>
<H5><A id=IDAVSCU name=IDAVSCU>Attribute Types</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-AttType name=NT-AttType>[54]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>AttType</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A 
      href="http://www.w3.org/TR/REC-xml/#NT-StringType">StringType</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-TokenizedType">TokenizedType</A> | 
      <A 
      href="http://www.w3.org/TR/REC-xml/#NT-EnumeratedType">EnumeratedType</A></CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-StringType name=NT-StringType>[55]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>StringType</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'CDATA'</CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-TokenizedType 
    name=NT-TokenizedType>[56]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>TokenizedType</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'ID'</CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#id">[VC: ID]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#one-id-per-el">[VC: One ID per 
      Element Type]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#id-default">[VC: ID Attribute 
      Default]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD><CODE>| 'IDREF'</CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#idref">[VC: IDREF]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD><CODE>| 'IDREFS'</CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#idref">[VC: IDREF]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD><CODE>| 'ENTITY'</CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#entname">[VC: Entity 
    Name]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD><CODE>| 'ENTITIES'</CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#entname">[VC: Entity 
    Name]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD><CODE>| 'NMTOKEN'</CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#nmtok">[VC: Name 
  Token]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD><CODE>| 'NMTOKENS'</CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#nmtok">[VC: Name 
  Token]</A></TD></TR></TBODY></TABLE>
<DIV class=constraint>
<P class=prefix><A id=id name=id><B>Validity constraint: ID</B></P>
<P>Values of type <B>ID</B> <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> match the <A 
href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> production. A name <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MUST NOT</EM> appear more than 
once in an XML document as a value of this type; i.e., ID values <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> uniquely identify 
the elements which bear them.</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=one-id-per-el name=one-id-per-el><B>Validity constraint: 
One ID per Element Type</B></P>
<P><SPAN class=mustard>An element type <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST NOT</EM></SPAN> have more than one ID 
attribute specified.</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=id-default name=id-default><B>Validity constraint: ID 
Attribute Default</B></P>
<P>An ID attribute <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> have a declared default of 
<B>#IMPLIED</B> or <B>#REQUIRED</B>.</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=idref name=idref><B>Validity constraint: IDREF</B></P>
<P>Values of type <B>IDREF</B> <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> match the <A 
href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> production, and values of 
type <B>IDREFS</B> <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> match <A 
href="http://www.w3.org/TR/REC-xml/#NT-Names">Names</A>; each <A 
href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> match the value of an ID attribute 
on some element in the XML document; i.e. <B>IDREF</B> values <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> match the value of some ID 
attribute.</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=entname name=entname><B>Validity constraint: Entity 
Name</B></P>
<P>Values of type <B>ENTITY</B> <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> match the <A 
href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> production, values of type 
<B>ENTITIES</B> <EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> 
match <A href="http://www.w3.org/TR/REC-xml/#NT-Names">Names</A>; each <A 
href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> match the name of an <A 
title="Unparsed Entity" 
href="http://www.w3.org/TR/REC-xml/#dt-unparsed">unparsed entity</A> declared in 
the <A title="Document Type Declaration" 
href="http://www.w3.org/TR/REC-xml/#dt-doctype">DTD</A>.</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=nmtok name=nmtok><B>Validity constraint: Name 
Token</B></P>
<P>Values of type <B>NMTOKEN</B> <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> match the <A 
href="http://www.w3.org/TR/REC-xml/#NT-Nmtoken">Nmtoken</A> production; values 
of type <B>NMTOKENS</B> <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> match <A 
href="http://www.w3.org/TR/REC-xml/#NT-Nmtokens">Nmtokens</A>.</P></DIV>
<P>[<A id=dt-enumerated title="Enumerated Attribute&#10;Values" 
name=dt-enumerated>Definition</A>: <B>Enumerated attributes</B> <SPAN 
class=mustard><EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM></SPAN> take one of a list of 
values provided in the declaration]. There are two kinds of enumerated 
types:</P>
<H5><A id=IDAP0CU name=IDAP0CU>Enumerated Attribute Types</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-EnumeratedType 
      name=NT-EnumeratedType>[57]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>EnumeratedType</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A 
      href="http://www.w3.org/TR/REC-xml/#NT-NotationType">NotationType</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Enumeration">Enumeration</A></CODE></TD></TR></TBODY>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-NotationType 
    name=NT-NotationType>[58]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>NotationType</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'NOTATION' <A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> 
      '(' <A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> (<A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? '|' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A>)* <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? ')' </CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#notatn">[VC: Notation 
      Attributes]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#OneNotationPer">[VC: One 
      Notation Per Element Type]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#NoNotationEmpty">[VC: No 
      Notation on Empty Element]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#NoDuplicateTokens">[VC: No 
      Duplicate Tokens]</A></TD></TR></TBODY>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-Enumeration name=NT-Enumeration>[59]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>Enumeration</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'(' <A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Nmtoken">Nmtoken</A> (<A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? '|' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Nmtoken">Nmtoken</A>)* <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? ')'</CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#enum">[VC: 
  Enumeration]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#NoDuplicateTokens">[VC: No 
      Duplicate Tokens]</A></TD></TR></TBODY></TABLE>
<P>A <B>NOTATION</B> attribute identifies a <A title=Notation 
href="http://www.w3.org/TR/REC-xml/#dt-notation">notation</A>, declared in the 
DTD with associated system and/or public identifiers, to be used in interpreting 
the element to which the attribute is attached.</P>
<DIV class=constraint>
<P class=prefix><A id=notatn name=notatn><B>Validity constraint: Notation 
Attributes</B></P>
<P>Values of this type <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> match one of the <A 
href="http://www.w3.org/TR/REC-xml/#Notations"><CITE>notation</CITE></A> names 
included in the declaration; all notation names in the declaration <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> be 
declared.</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=OneNotationPer name=OneNotationPer><B>Validity constraint: 
One Notation Per Element Type</B></P>
<P><SPAN class=mustard>An element type <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST NOT</EM></SPAN> have more than one 
<B>NOTATION</B> attribute specified.</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=NoNotationEmpty name=NoNotationEmpty><B>Validity 
constraint: No Notation on Empty Element</B></P>
<P><A title="For Compatibility" 
href="http://www.w3.org/TR/REC-xml/#dt-compat">For compatibility</A>, an 
attribute of type <B>NOTATION</B> <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST NOT</EM> be declared on an element 
declared <B>EMPTY</B>.</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=NoDuplicateTokens name=NoDuplicateTokens><B>Validity 
constraint: No Duplicate Tokens</B></P>
<P>The notation names in a single <A 
href="http://www.w3.org/TR/REC-xml/#NT-NotationType">NotationType</A> attribute 
declaration, as well as the <A 
href="http://www.w3.org/TR/REC-xml/#NT-Nmtoken">NmToken</A>s in a single <A 
href="http://www.w3.org/TR/REC-xml/#NT-Enumeration">Enumeration</A> attribute 
declaration, <EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> all 
be distinct.</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=enum name=enum><B>Validity constraint: Enumeration</B></P>
<P>Values of this type <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> match one of the <A 
href="http://www.w3.org/TR/REC-xml/#NT-Nmtoken">Nmtoken</A> tokens in the 
declaration.</P></DIV>
<P><A title="For interoperability" 
href="http://www.w3.org/TR/REC-xml/#dt-interop">For interoperability,</A> the 
same <A href="http://www.w3.org/TR/REC-xml/#NT-Nmtoken">Nmtoken</A> <EM 
class=rfc2119 title="Keyword in RFC 2119 context">SHOULD NOT</EM> occur more 
than once in the enumerated attribute types of a single element type.</P></DIV>
<DIV class=div3>
<H4><A id=sec-attr-defaults name=sec-attr-defaults>3.3.2 Attribute Defaults</H4>
<P>An <A title="Attribute-List Declaration" 
href="http://www.w3.org/TR/REC-xml/#dt-attdecl">attribute declaration</A> 
provides information on whether the attribute's presence is <EM class=rfc2119 
title="Keyword in RFC 2119 context">REQUIRED</EM>, and if not, how an XML 
processor <SPAN>is to</SPAN> react if a declared attribute is absent in a 
document.</P>
<H5><A id=IDAGCDU name=IDAGCDU>Attribute Defaults</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-DefaultDecl name=NT-DefaultDecl>[60]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>DefaultDecl</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'#REQUIRED' |&nbsp;'#IMPLIED' </CODE></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD><CODE>| (('#FIXED' S)? <A 
      href="http://www.w3.org/TR/REC-xml/#NT-AttValue">AttValue</A>)</CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#RequiredAttr">[VC: Required 
      Attribute]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#defattrvalid">[VC: Attribute 
      Default Value Syntactically Correct]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#CleanAttrVals">[WFC: No &lt; in 
      Attribute Values]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#FixedAttr">[VC: Fixed Attribute 
      Default]</A></TD></TR></TBODY></TABLE>
<P>In an attribute declaration, <B>#REQUIRED</B> means that the attribute <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> always be provided, 
<B>#IMPLIED</B> that no default value is provided. [<A id=dt-default 
title="Attribute Default" name=dt-default>Definition</A>: If the declaration is 
neither <B>#REQUIRED</B> nor <B>#IMPLIED</B>, then the <A 
href="http://www.w3.org/TR/REC-xml/#NT-AttValue">AttValue</A> value contains the 
declared <B>default</B> value; the <B>#FIXED</B> keyword states that the 
attribute <EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> always 
have the default value. When an XML processor encounters an <SPAN>element 
without a specification for an attribute for which it has read a default value 
declaration, it <EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> 
report the attribute with the declared default value to the 
application</SPAN>.]</P>
<DIV class=constraint>
<P class=prefix><A id=RequiredAttr name=RequiredAttr><B>Validity constraint: 
Required Attribute</B></P>
<P>If the default declaration is the keyword <B>#REQUIRED</B>, then the 
attribute <EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> be 
specified for all elements of the type in the attribute-list 
declaration.</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=defattrvalid name=defattrvalid><B>Validity constraint: 
<SPAN>Attribute Default Value Syntactically Correct</SPAN></B></P>
<P>The declared default value <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> meet the <SPAN>syntactic</SPAN> 
constraints of the declared attribute type.</P>
<P>Note that only the syntactic constraints of the type are required here; other 
constraints (e.g. that the value be the name of a declared unparsed entity, for 
an attribute of type ENTITY) may come into play if the declared default value is 
actually used (an element without a specification for this attribute 
occurs).</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=FixedAttr name=FixedAttr><B>Validity constraint: Fixed 
Attribute Default</B></P>
<P>If an attribute has a default value declared with the <B>#FIXED</B> keyword, 
instances of that attribute <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> match the default value.</P></DIV>
<P>Examples of attribute-list declarations:</P>
<DIV class=exampleInner><PRE>&lt;!ATTLIST termdef
          id      ID      #REQUIRED
          name    CDATA   #IMPLIED&gt;
&lt;!ATTLIST list
          type    (bullets|ordered|glossary)  "ordered"&gt;
&lt;!ATTLIST form
          method  CDATA   #FIXED "POST"&gt;</PRE></DIV></DIV>
<DIV class=div3>
<H4><A id=AVNormalize name=AVNormalize>3.3.3 Attribute-Value Normalization</H4>
<P>Before the value of an attribute is passed to the application or checked for 
validity, the XML processor <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> normalize the attribute value by 
applying the algorithm below, or by using some other method such that the value 
passed to the application is the same as that produced by the algorithm.</P>
<OL type=1>
  <LI>
  <P>All line breaks <EM class=rfc2119 
  title="Keyword in RFC 2119 context">MUST</EM> have been normalized on input to 
  #xA as described in <A 
  href="http://www.w3.org/TR/REC-xml/#sec-line-ends"><B>2.11 End-of-Line 
  Handling</B></A>, so the rest of this algorithm operates on text normalized in 
  this way.</P>
  <LI>
  <P>Begin with a normalized value consisting of the empty string.</P>
  <LI>
  <P>For each character, entity reference, or character reference in the 
  unnormalized attribute value, beginning with the first and continuing to the 
  last, do the following:</P>
  <UL>
    <LI>
    <P>For a character reference, append the referenced character to the 
    normalized value.</P>
    <LI>
    <P>For an entity reference, recursively apply step 3 of this algorithm to 
    the replacement text of the entity.</P>
    <LI>
    <P>For a white space character (#x20, #xD, #xA, #x9), append a space 
    character (#x20) to the normalized value.</P>
    <LI>
    <P>For another character, append the character to the normalized 
    value.</P></LI></UL></LI></OL>
<P>If the attribute type is not CDATA, then the XML processor <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> further process the normalized 
attribute value by discarding any leading and trailing space (#x20) characters, 
and by replacing sequences of space (#x20) characters by a single space (#x20) 
character.</P>
<P>Note that if the unnormalized attribute value contains a character reference 
to a white space character other than space (#x20), the normalized value 
contains the referenced character itself (#xD, #xA or #x9). This contrasts with 
the case where the unnormalized value contains a white space character (not a 
reference), which is replaced with a space character (#x20) in the normalized 
value and also contrasts with the case where the unnormalized value contains an 
entity reference whose replacement text contains a white space character; being 
recursively processed, the white space character is replaced with a space 
character (#x20) in the normalized value.</P>
<P>All attributes for which no declaration has been read <EM class=rfc2119 
title="Keyword in RFC 2119 context">SHOULD</EM> be treated by a non-validating 
processor as if declared <B>CDATA</B>.</P>
<P>It is an error if an <SPAN><A title="Attribute Value" 
href="http://www.w3.org/TR/REC-xml/#dt-attrval">attribute value</A> contains a 
<A title="Entity Reference" 
href="http://www.w3.org/TR/REC-xml/#dt-entref">reference</A> to an entity for 
which no declaration has been read.</SPAN></P>
<P>Following are examples of attribute normalization. Given the following 
declarations:</P>
<DIV class=exampleInner><PRE>&lt;!ENTITY d "&amp;#xD;"&gt;
&lt;!ENTITY a "&amp;#xA;"&gt;
&lt;!ENTITY da "&amp;#xD;&amp;#xA;"&gt;</PRE></DIV>
<P>the attribute specifications in the left column below would be normalized to 
the character sequences of the middle column if the attribute <CODE>a</CODE> is 
declared <B>NMTOKENS</B> and to those of the right columns if <CODE>a</CODE> is 
declared <B>CDATA</B>.</P>
<TABLE border=1 frame=border>
  <THEAD>
  <TR>
    <TH>Attribute specification</TH>
    <TH>a is NMTOKENS</TH>
    <TH>a is CDATA</TH></TR></THEAD>
  <TBODY>
  <TR>
    <TD>
      <DIV class=exampleInner><PRE>a="

xyz"</PRE></DIV></TD>
    <TD>
      <DIV class=exampleInner><PRE>x y z</PRE></DIV></TD>
    <TD>
      <DIV class=exampleInner><PRE>#x20 #x20 x y z</PRE></DIV></TD></TR>
  <TR>
    <TD>
      <DIV class=exampleInner><PRE>a="&amp;d;&amp;d;A&amp;a;<SPAN>&amp;#x20;</SPAN>&amp;a;B&amp;da;"</PRE></DIV></TD>
    <TD>
      <DIV class=exampleInner><PRE>A #x20 B</PRE></DIV></TD>
    <TD>
      <DIV class=exampleInner><PRE>#x20 #x20 A #x20 <SPAN>#x20</SPAN> #x20 B #x20 #x20</PRE></DIV></TD></TR>
  <TR>
    <TD>
      <DIV class=exampleInner><PRE>a=
"&amp;#xd;&amp;#xd;A&amp;#xa;&amp;#xa;B&amp;#xd;&amp;#xa;"</PRE></DIV></TD>
    <TD>
      <DIV class=exampleInner><PRE>#xD #xD A #xA #xA B #xD #xA</PRE></DIV></TD>
    <TD>
      <DIV class=exampleInner><PRE>#xD #xD A #xA #xA B #xD #xA</PRE></DIV></TD></TR></TBODY></TABLE>
<P>Note that the last example is invalid (but well-formed) if <CODE>a</CODE> is 
declared to be of type <B>NMTOKENS</B>.</P></DIV></DIV>
<DIV class=div2>
<H3><A id=sec-condition-sect name=sec-condition-sect>3.4 Conditional 
Sections</H3>
<P>[<A id=dt-cond-section title="conditional section" 
name=dt-cond-section>Definition</A>: <B>Conditional sections</B> are portions of 
the <A title="Document Type Declaration" 
href="http://www.w3.org/TR/REC-xml/#dt-doctype">document type declaration 
external subset</A> <SPAN>or of external parameter entities </SPAN>which are 
included in, or excluded from, the logical structure of the DTD based on the 
keyword which governs them.]</P>
<H5><A id=IDA5MDU name=IDA5MDU>Conditional Section</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-conditionalSect 
      name=NT-conditionalSect>[61]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>conditionalSect</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A 
      href="http://www.w3.org/TR/REC-xml/#NT-includeSect">includeSect</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-ignoreSect">ignoreSect</A></CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-includeSect name=NT-includeSect>[62]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>includeSect</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'&lt;![' S? 'INCLUDE' S? '[' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-extSubsetDecl">extSubsetDecl</A> 
      ']]&gt;' </CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#condsec-nesting">[VC: Proper 
      Conditional Section/PE Nesting]</A></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-ignoreSect name=NT-ignoreSect>[63]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>ignoreSect</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'&lt;![' S? 'IGNORE' S? '[' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-ignoreSectContents">ignoreSectContents</A>* 
      ']]&gt;'</CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#condsec-nesting">[VC: Proper 
      Conditional Section/PE Nesting]</A></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-ignoreSectContents 
      name=NT-ignoreSectContents>[64]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>ignoreSectContents</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A href="http://www.w3.org/TR/REC-xml/#NT-Ignore">Ignore</A> 
      ('&lt;![' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-ignoreSectContents">ignoreSectContents</A> 
      ']]&gt;' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Ignore">Ignore</A>)*</CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-Ignore name=NT-Ignore>[65]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>Ignore</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A href="http://www.w3.org/TR/REC-xml/#NT-Char">Char</A>* - (<A 
      href="http://www.w3.org/TR/REC-xml/#NT-Char">Char</A>* ('&lt;![' | 
      ']]&gt;') <A href="http://www.w3.org/TR/REC-xml/#NT-Char">Char</A>*) 
      </CODE></TD></TR></TBODY></TABLE>
<DIV class=constraint>
<P class=prefix><A id=condsec-nesting name=condsec-nesting><B>Validity 
constraint: Proper Conditional Section/PE Nesting</B></P>
<P>If any of the "<CODE>&lt;![</CODE>", "<CODE>[</CODE>", or 
"<CODE>]]&gt;</CODE>" of a conditional section is contained in the replacement 
text for a parameter-entity reference, all of them <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> be contained in the same 
replacement text.</P></DIV>
<P>Like the internal and external DTD subsets, a conditional section may contain 
one or more complete declarations, comments, processing instructions, or nested 
conditional sections, intermingled with white space.</P>
<P>If the keyword of the conditional section is <B>INCLUDE</B>, then the 
contents of the conditional section <SPAN class=mustard><EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> be considered</SPAN> part of the 
DTD. If the keyword of the conditional section is <B>IGNORE</B>, then the 
contents of the conditional section <SPAN class=mustard><EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> be considered as</SPAN> not 
logically part of the DTD. If a conditional section with a keyword of 
<B>INCLUDE</B> occurs within a larger conditional section with a keyword of 
<B>IGNORE</B>, both the outer and the inner conditional sections <SPAN 
class=mustard><EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> 
be</SPAN> ignored. The contents of an ignored conditional section <SPAN 
class=mustard><EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> 
be</SPAN> parsed by ignoring all characters after the "<CODE>[</CODE>" following 
the keyword, except conditional section starts "<CODE>&lt;![</CODE>" and ends 
"<CODE>]]&gt;</CODE>", until the matching conditional section end is found. 
Parameter entity references <SPAN class=mustard><EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST NOT</EM> be</SPAN> recognized in this 
process.</P>
<P>If the keyword of the conditional section is a parameter-entity reference, 
the parameter entity <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> be replaced by its content before 
the processor decides whether to include or ignore the conditional section.</P>
<P>An example:</P>
<DIV class=exampleInner><PRE>&lt;!ENTITY % draft 'INCLUDE' &gt;
&lt;!ENTITY % final 'IGNORE' &gt;

&lt;![%draft;[
&lt;!ELEMENT book (comments*, title, body, supplements?)&gt;
]]&gt;
&lt;![%final;[
&lt;!ELEMENT book (title, body, supplements?)&gt;
]]&gt;</PRE></DIV></DIV></DIV>
<DIV class=div1>
<H2><A id=sec-physical-struct name=sec-physical-struct>4 Physical 
Structures</H2>
<P>[<A id=dt-entity title=Entity name=dt-entity>Definition</A>: An XML document 
may consist of one or many storage units. These are called <B>entities</B>; they 
all have <B>content</B> and are all (except for the <A title="Document Entity" 
href="http://www.w3.org/TR/REC-xml/#dt-docent">document entity</A> and the <A 
title="Document Type Declaration" 
href="http://www.w3.org/TR/REC-xml/#dt-doctype">external DTD subset</A>) 
identified by entity <B>name</B>.] Each XML document has one entity called the 
<A title="Document Entity" 
href="http://www.w3.org/TR/REC-xml/#dt-docent">document entity</A>, which serves 
as the starting point for the <A title="XML Processor" 
href="http://www.w3.org/TR/REC-xml/#dt-xml-proc">XML processor</A> and may 
contain the whole document.</P>
<P>Entities may be either parsed or unparsed. [<A id=dt-parsedent 
title="Text Entity" name=dt-parsedent>Definition</A>: <SPAN>The contents of a 
<B>parsed entity</B></SPAN> are referred to as its <A title="Replacement Text" 
href="http://www.w3.org/TR/REC-xml/#dt-repltext">replacement text</A>; this <A 
title=Text href="http://www.w3.org/TR/REC-xml/#dt-text">text</A> is considered 
an integral part of the document.]</P>
<P>[<A id=dt-unparsed title="Unparsed Entity" name=dt-unparsed>Definition</A>: 
An <B>unparsed entity</B> is a resource whose contents may or may not be <A 
title=Text href="http://www.w3.org/TR/REC-xml/#dt-text">text</A>, and if text, 
may be other than XML. Each unparsed entity has an associated <A title=Notation 
href="http://www.w3.org/TR/REC-xml/#dt-notation">notation</A>, identified by 
name. Beyond a requirement that an XML processor make the identifiers for the 
entity and notation available to the application, XML places no constraints on 
the contents of unparsed entities.]</P>
<P>Parsed entities are invoked by name using entity references; unparsed 
entities by name, given in the value of <B>ENTITY</B> or <B>ENTITIES</B> 
attributes.</P>
<P>[<A id=gen-entity title="general entity" name=gen-entity>Definition</A>: 
<B>General entities</B> are entities for use within the document content. In 
this specification, general entities are sometimes referred to with the 
unqualified term <EM>entity</EM> when this leads to no ambiguity.] [<A id=dt-PE 
title="Parameter entity" name=dt-PE>Definition</A>: <B>Parameter entities</B> 
are parsed entities for use within the DTD.] These two types of entities use 
different forms of reference and are recognized in different contexts. 
Furthermore, they occupy different namespaces; a parameter entity and a general 
entity with the same name are two distinct entities.</P>
<DIV class=div2>
<H3><A id=sec-references name=sec-references>4.1 Character and Entity 
References</H3>
<P>[<A id=dt-charref title="Character Reference" name=dt-charref>Definition</A>: 
A <B>character reference</B> refers to a specific character in the ISO/IEC 10646 
character set, for example one not directly accessible from available input 
devices.]</P>
<H5><A id=IDA2VDU name=IDA2VDU>Character Reference</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-CharRef name=NT-CharRef>[66]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>CharRef</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'&amp;#' [0-9]+ ';' </CODE></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD><CODE>| '&amp;#x' [0-9a-fA-F]+ ';'</CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#wf-Legalchar">[WFC: Legal 
      Character]</A></TD></TR></TBODY></TABLE>
<DIV class=constraint>
<P class=prefix><A id=wf-Legalchar name=wf-Legalchar><B>Well-formedness 
constraint: Legal Character</B></P>
<P>Characters referred to using character references <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> match the production for <A 
href="http://www.w3.org/TR/REC-xml/#NT-Char">Char</A>.</P></DIV>
<P>If the character reference begins with "<CODE>&amp;#x</CODE>", the digits and 
letters up to the terminating <CODE>;</CODE> provide a hexadecimal 
representation of the character's code point in ISO/IEC 10646. If it begins just 
with "<CODE>&amp;#</CODE>", the digits up to the terminating <CODE>;</CODE> 
provide a decimal representation of the character's code point.</P>
<P>[<A id=dt-entref title="Entity Reference" name=dt-entref>Definition</A>: An 
<B>entity reference</B> refers to the content of a named entity.] [<A 
id=dt-GERef title="General Entity Reference" name=dt-GERef>Definition</A>: 
References to parsed general entities use ampersand (<CODE>&amp;</CODE>) and 
semicolon (<CODE>;</CODE>) as delimiters.] [<A id=dt-PERef 
title="Parameter-entity reference" name=dt-PERef>Definition</A>: 
<B>Parameter-entity references</B> use percent-sign (<CODE>%</CODE>) and 
semicolon (<CODE>;</CODE>) as delimiters.]</P>
<H5><A id=IDAMYDU name=IDAMYDU>Entity Reference</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-Reference name=NT-Reference>[67]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>Reference</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A 
      href="http://www.w3.org/TR/REC-xml/#NT-EntityRef">EntityRef</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-CharRef">CharRef</A></CODE></TD></TR></TBODY>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-EntityRef name=NT-EntityRef>[68]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>EntityRef</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'&amp;' <A href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> 
      ';'</CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#wf-entdeclared">[WFC: Entity 
      Declared]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#vc-entdeclared">[VC: Entity 
      Declared]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#textent">[WFC: Parsed 
      Entity]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#norecursion">[WFC: No 
      Recursion]</A></TD></TR></TBODY>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-PEReference name=NT-PEReference>[69]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>PEReference</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'%' <A href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> 
      ';'</CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#vc-entdeclared">[VC: Entity 
      Declared]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#norecursion">[WFC: No 
      Recursion]</A></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#indtd">[WFC: In 
  DTD]</A></TD></TR></TBODY></TABLE>
<DIV class=constraint>
<P class=prefix><A id=wf-entdeclared name=wf-entdeclared><B>Well-formedness 
constraint: Entity Declared</B></P>
<P>In a document without any DTD, a document with only an internal DTD subset 
which contains no parameter entity references, or a document with 
"<CODE>standalone='yes'</CODE>", for an entity reference that does not occur 
within the external subset or a parameter entity, the <A 
href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> given in the entity 
reference <EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> <A 
title=match href="http://www.w3.org/TR/REC-xml/#dt-match">match</A> that in an 
<A href="http://www.w3.org/TR/REC-xml/#sec-entity-decl"><CITE>entity 
declaration</CITE></A> that does not occur within the external subset or a 
parameter entity, except that well-formed documents need not declare any of the 
following entities: <CODE>amp</CODE>, <CODE>lt</CODE>, <CODE>gt</CODE>, 
<CODE>apos</CODE>, <CODE>quot</CODE>. The declaration of a general entity <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> precede any 
reference to it which appears in a default value in an attribute-list 
declaration.</P>
<P><SPAN>Note that non-validating processors are <A 
href="http://www.w3.org/TR/REC-xml/#include-if-valid"><CITE>not obligated 
to</CITE></A> to read and process entity declarations occurring in parameter 
entities or in the external subset</SPAN>; for such documents, the rule that an 
entity must be declared is a well-formedness constraint only if <A 
href="http://www.w3.org/TR/REC-xml/#sec-rmd"><CITE>standalone='yes'</CITE></A>.</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=vc-entdeclared name=vc-entdeclared><B>Validity constraint: 
Entity Declared</B></P>
<P>In a document with an external subset or external parameter entities with 
"<CODE>standalone='no'</CODE>", the <A 
href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> given in the entity 
reference <EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> <A 
title=match href="http://www.w3.org/TR/REC-xml/#dt-match">match</A> that in an 
<A href="http://www.w3.org/TR/REC-xml/#sec-entity-decl"><CITE>entity 
declaration</CITE></A>. For interoperability, valid documents <EM class=rfc2119 
title="Keyword in RFC 2119 context">SHOULD</EM> declare the entities 
<CODE>amp</CODE>, <CODE>lt</CODE>, <CODE>gt</CODE>, <CODE>apos</CODE>, 
<CODE>quot</CODE>, in the form specified in <A 
href="http://www.w3.org/TR/REC-xml/#sec-predefined-ent"><B>4.6 Predefined 
Entities</B></A>. The declaration of a parameter entity <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> precede any reference to it. 
Similarly, the declaration of a general entity <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> precede any attribute-list 
declaration containing a default value with a direct or indirect reference to 
that general entity.</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=textent name=textent><B>Well-formedness constraint: Parsed 
Entity</B></P>
<P>An entity reference <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST NOT</EM> contain the name of an <A 
title="Unparsed Entity" 
href="http://www.w3.org/TR/REC-xml/#dt-unparsed">unparsed entity</A>. Unparsed 
entities may be referred to only in <A title="Attribute Value" 
href="http://www.w3.org/TR/REC-xml/#dt-attrval">attribute values</A> declared to 
be of type <B>ENTITY</B> or <B>ENTITIES</B>.</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=norecursion name=norecursion><B>Well-formedness 
constraint: No Recursion</B></P>
<P>A parsed entity <EM class=rfc2119 title="Keyword in RFC 2119 context">MUST 
NOT</EM> contain a recursive reference to itself, either directly or 
indirectly.</P></DIV>
<DIV class=constraint>
<P class=prefix><A id=indtd name=indtd><B>Well-formedness constraint: In 
DTD</B></P>
<P>Parameter-entity references <SPAN class=mustard><EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST NOT</EM> appear outside</SPAN> the <A 
title="Document Type Declaration" 
href="http://www.w3.org/TR/REC-xml/#dt-doctype">DTD</A>.</P></DIV>
<P>Examples of character and entity references:</P>
<DIV class=exampleInner><PRE>Type &lt;key&gt;less-than&lt;/key&gt; (&amp;#x3C;) to save options.
This document was prepared on &amp;docdate; and
is classified &amp;security-level;.</PRE></DIV>
<P>Example of a parameter-entity reference:</P>
<DIV class=exampleInner><PRE>&lt;!-- declare the parameter entity "ISOLat2"... --&gt;
&lt;!ENTITY % ISOLat2
         SYSTEM "http://www.xml.com/iso/isolat2-xml.entities" &gt;
&lt;!-- ... now reference it. --&gt;
%ISOLat2;</PRE></DIV></DIV>
<DIV class=div2>
<H3><A id=sec-entity-decl name=sec-entity-decl>4.2 Entity Declarations</H3>
<P>[<A id=dt-entdecl title="entity declaration" name=dt-entdecl>Definition</A>: 
Entities are declared thus:]</P>
<H5><A id=IDAEAEU name=IDAEAEU>Entity Declaration</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-EntityDecl name=NT-EntityDecl>[70]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>EntityDecl</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A href="http://www.w3.org/TR/REC-xml/#NT-GEDecl">GEDecl</A> | 
      <A href="http://www.w3.org/TR/REC-xml/#NT-PEDecl">PEDecl</A></CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-GEDecl name=NT-GEDecl>[71]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>GEDecl</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'&lt;!ENTITY' <A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> 
      <A href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-EntityDef">EntityDef</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? '&gt;'</CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-PEDecl name=NT-PEDecl>[72]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>PEDecl</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'&lt;!ENTITY' <A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> 
      '%' <A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-PEDef">PEDef</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? '&gt;'</CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-EntityDef name=NT-EntityDef>[73]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>EntityDef</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A 
      href="http://www.w3.org/TR/REC-xml/#NT-EntityValue">EntityValue</A>| (<A 
      href="http://www.w3.org/TR/REC-xml/#NT-ExternalID">ExternalID</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-NDataDecl">NDataDecl</A>?)</CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-PEDef name=NT-PEDef>[74]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>PEDef</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A 
      href="http://www.w3.org/TR/REC-xml/#NT-EntityValue">EntityValue</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-ExternalID">ExternalID</A></CODE></TD></TR></TBODY></TABLE>
<P>The <A href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> identifies the 
entity in an <A title="Entity Reference" 
href="http://www.w3.org/TR/REC-xml/#dt-entref">entity reference</A> or, in the 
case of an unparsed entity, in the value of an <B>ENTITY</B> or <B>ENTITIES</B> 
attribute. If the same entity is declared more than once, the first declaration 
encountered is binding; at user option, an XML processor <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> issue a warning if entities are 
declared multiple times.</P>
<DIV class=div3>
<H4><A id=sec-internal-ent name=sec-internal-ent>4.2.1 Internal Entities</H4>
<P>[<A id=dt-internent title="Internal Entity Replacement Text" 
name=dt-internent>Definition</A>: If the entity definition is an <A 
href="http://www.w3.org/TR/REC-xml/#NT-EntityValue">EntityValue</A>, the defined 
entity is called an <B>internal entity</B>. There is no separate physical 
storage object, and the content of the entity is given in the declaration.] Note 
that some processing of entity and character references in the <A 
title="Literal Entity Value" 
href="http://www.w3.org/TR/REC-xml/#dt-litentval">literal entity value</A> may 
be required to produce the correct <A title="Replacement Text" 
href="http://www.w3.org/TR/REC-xml/#dt-repltext">replacement text</A>: see <A 
href="http://www.w3.org/TR/REC-xml/#intern-replacement"><B>4.5 Construction of 
Internal Entity Replacement Text</B></A>.</P>
<P>An internal entity is a <A title="Text Entity" 
href="http://www.w3.org/TR/REC-xml/#dt-parsedent">parsed entity</A>.</P>
<P>Example of an internal entity declaration:</P>
<DIV class=exampleInner><PRE>&lt;!ENTITY Pub-Status "This is a pre-release of the
 specification."&gt;</PRE></DIV></DIV>
<DIV class=div3>
<H4><A id=sec-external-ent name=sec-external-ent>4.2.2 External Entities</H4>
<P>[<A id=dt-extent title="External Entity" name=dt-extent>Definition</A>: If 
the entity is not internal, it is an <B>external entity</B>, declared as 
follows:]</P>
<H5><A id=IDARGEU name=IDARGEU>External Entity Declaration</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-ExternalID name=NT-ExternalID>[75]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>ExternalID</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'SYSTEM' <A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-SystemLiteral">SystemLiteral</A></CODE></TD></TR>
  <TR vAlign=baseline>
    <TD>
    <TD>
    <TD>
    <TD><CODE>| 'PUBLIC' <A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-PubidLiteral">PubidLiteral</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-SystemLiteral">SystemLiteral</A></CODE></TD></TR></TBODY>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-NDataDecl name=NT-NDataDecl>[76]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>NDataDecl</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> 'NDATA' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A></CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#not-declared">[VC: Notation 
      Declared]</A></TD></TR></TBODY></TABLE>
<P>If the <A href="http://www.w3.org/TR/REC-xml/#NT-NDataDecl">NDataDecl</A> is 
present, this is a general <A title="Unparsed Entity" 
href="http://www.w3.org/TR/REC-xml/#dt-unparsed">unparsed entity</A>; otherwise 
it is a parsed entity.</P>
<DIV class=constraint>
<P class=prefix><A id=not-declared name=not-declared><B>Validity constraint: 
Notation Declared</B></P>
<P>The <A href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> match the declared 
name of a <A title=Notation 
href="http://www.w3.org/TR/REC-xml/#dt-notation">notation</A>.</P></DIV>
<P>[<A id=dt-sysid title="System Identifier" name=dt-sysid>Definition</A>: The 
<A href="http://www.w3.org/TR/REC-xml/#NT-SystemLiteral">SystemLiteral</A> is 
called the entity's <B>system identifier</B>. It is <SPAN>meant to be converted 
to</SPAN> a URI reference (as defined in <A 
href="http://www.w3.org/TR/REC-xml/#rfc2396">[IETF RFC 2396]</A>, updated by <A 
href="http://www.w3.org/TR/REC-xml/#rfc2732">[IETF RFC 2732]</A>), <SPAN>as part 
of the process of dereferencing it</SPAN> to obtain input for the XML processor 
to construct the entity's replacement text.] It is an error for a fragment 
identifier (beginning with a <CODE>#</CODE> character) to be part of a system 
identifier. Unless otherwise provided by information outside the scope of this 
specification (e.g. a special XML element type defined by a particular DTD, or a 
processing instruction defined by a particular application specification), 
relative URIs are relative to the location of the resource within which the 
entity declaration occurs. <SPAN>This is defined to be the external entity 
containing the '&lt;' which starts the declaration, at the point when it is 
parsed as a declaration.</SPAN> A URI might thus be relative to the <A 
title="Document Entity" href="http://www.w3.org/TR/REC-xml/#dt-docent">document 
entity</A>, to the entity containing the <A title="Document Type Declaration" 
href="http://www.w3.org/TR/REC-xml/#dt-doctype">external DTD subset</A>, or to 
some other <A title="External Entity" 
href="http://www.w3.org/TR/REC-xml/#dt-extent">external parameter entity</A>. 
<SPAN>Attempts to retrieve the resource identified by a URI <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> be redirected at the parser level 
(for example, in an entity resolver) or below (at the protocol level, for 
example, via an HTTP <CODE>Location:</CODE> header). In the absence of 
additional information outside the scope of this specification within the 
resource, the base URI of a resource is always the URI of the actual resource 
returned. In other words, it is the URI of the resource retrieved after all 
redirection has occurred.</SPAN></P>
<P>System identifiers (and other XML strings meant to be used as URI references) 
<EM class=rfc2119 title="Keyword in RFC 2119 context">MAY</EM> contain 
characters that, according to <A 
href="http://www.w3.org/TR/REC-xml/#rfc2396">[IETF RFC 2396]</A> and <A 
href="http://www.w3.org/TR/REC-xml/#rfc2732">[IETF RFC 2732]</A>, must be 
escaped before a URI can be used to retrieve the referenced resource. The 
characters to be escaped are the control characters #x0 to #x1F and #x7F (most 
of which cannot appear in XML), space #x20, the delimiters '&lt;' #x3C, '&gt;' 
#x3E and '"' #x22, the <EM>unwise</EM> characters '{' #x7B, '}' #x7D, '|' #x7C, 
'\' #x5C, '^' #x5E and '`' #x60, as well as all characters above #x7F. Since 
escaping is not always a fully reversible process, it <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> be performed only when absolutely 
necessary and as late as possible in a processing chain. In particular, neither 
the process of converting a relative URI to an absolute one nor the process of 
passing a URI reference to a process or software component responsible for 
dereferencing it <EM class=rfc2119 
title="Keyword in RFC 2119 context">SHOULD</EM> trigger escaping. When escaping 
does occur, it <EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> 
be performed as follows:</P>
<OL type=1>
  <LI>
  <P>Each character <SPAN>to be escaped</SPAN> is <SPAN>represented in</SPAN> 
  UTF-8 <SPAN><A 
  href="http://www.w3.org/TR/REC-xml/#Unicode3">[Unicode3]</A></SPAN> as one or 
  more bytes.</P>
  <LI>
  <P><SPAN>The resulting bytes</SPAN> are escaped with the URI escaping 
  mechanism (that is, converted to <CODE>%</CODE><VAR>HH</VAR>, where HH is the 
  hexadecimal notation of the byte value).</P>
  <LI>
  <P>The original character is replaced by the resulting character 
  sequence.</P></LI></OL>
<P>[<A id=dt-pubid title="Public identifier" name=dt-pubid>Definition</A>: In 
addition to a system identifier, an external identifier <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> include a <B>public 
identifier</B>.] An XML processor attempting to retrieve the entity's content 
<EM class=rfc2119 title="Keyword in RFC 2119 context">MAY</EM> use <SPAN>any 
combination of the public and system identifiers as well as additional 
information outside the scope of this specification</SPAN> to try to generate an 
alternative URI reference. If the processor is unable to do so, it <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> use the URI 
reference specified in the system literal. Before a match is attempted, all 
strings of white space in the public identifier <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> be normalized to single space 
characters (#x20), and leading and trailing white space <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> be removed.</P>
<P>Examples of external entity declarations:</P>
<DIV class=exampleInner><PRE>&lt;!ENTITY open-hatch
         SYSTEM "http://www.textuality.com/boilerplate/OpenHatch.xml"&gt;
&lt;!ENTITY open-hatch
         PUBLIC "-//Textuality//TEXT Standard open-hatch boilerplate//EN"
         "http://www.textuality.com/boilerplate/OpenHatch.xml"&gt;
&lt;!ENTITY hatch-pic
         SYSTEM "../grafix/OpenHatch.gif"
         NDATA gif &gt;</PRE></DIV></DIV></DIV>
<DIV class=div2>
<H3><A id=TextEntities name=TextEntities>4.3 Parsed Entities</H3>
<DIV class=div3>
<H4><A id=sec-TextDecl name=sec-TextDecl>4.3.1 The Text Declaration</H4>
<P>External parsed entities <EM class=rfc2119 
title="Keyword in RFC 2119 context">SHOULD</EM> each begin with a <B>text 
declaration</B>.</P>
<H5><A id=IDAMPEU name=IDAMPEU>Text Declaration</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-TextDecl name=NT-TextDecl>[77]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>TextDecl</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'&lt;?xml' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-VersionInfo">VersionInfo</A>? <A 
      href="http://www.w3.org/TR/REC-xml/#NT-EncodingDecl">EncodingDecl</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? 
  '?&gt;'</CODE></TD></TR></TBODY></TABLE>
<P>The text declaration <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> be provided literally, not by 
reference to a parsed entity. <SPAN class=mustard>The</SPAN> text declaration 
<SPAN class=mustard><EM class=rfc2119 title="Keyword in RFC 2119 context">MUST 
NOT</EM></SPAN> appear at any position other than the beginning of an external 
parsed entity. The text declaration in an external parsed entity is not 
considered part of its <A title="Replacement Text" 
href="http://www.w3.org/TR/REC-xml/#dt-repltext">replacement text</A>.</P></DIV>
<DIV class=div3>
<H4><A id=wf-entities name=wf-entities>4.3.2 Well-Formed Parsed Entities</H4>
<P>The document entity is well-formed if it matches the production labeled <A 
href="http://www.w3.org/TR/REC-xml/#NT-document">document</A>. An external 
general parsed entity is well-formed if it matches the production labeled <A 
href="http://www.w3.org/TR/REC-xml/#NT-extParsedEnt">extParsedEnt</A>. All 
external parameter entities are well-formed by definition.</P>
<H5><A id=IDAWZEU name=IDAWZEU>Well-Formed External Parsed Entity</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-extParsedEnt 
    name=NT-extParsedEnt>[78]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>extParsedEnt</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A 
      href="http://www.w3.org/TR/REC-xml/#NT-TextDecl">TextDecl</A>? <A 
      href="http://www.w3.org/TR/REC-xml/#NT-content">content</A></CODE></TD></TR></TBODY></TABLE>
<P>An internal general parsed entity is well-formed if its replacement text 
matches the production labeled <A 
href="http://www.w3.org/TR/REC-xml/#NT-content">content</A>. All internal 
parameter entities are well-formed by definition.</P>
<P>A consequence of well-formedness in <SPAN>general</SPAN> entities is that the 
logical and physical structures in an XML document are properly nested; no <A 
title=Start-Tag href="http://www.w3.org/TR/REC-xml/#dt-stag">start-tag</A>, <A 
title="End Tag" href="http://www.w3.org/TR/REC-xml/#dt-etag">end-tag</A>, <A 
title=Empty href="http://www.w3.org/TR/REC-xml/#dt-empty">empty-element tag</A>, 
<A title=Element href="http://www.w3.org/TR/REC-xml/#dt-element">element</A>, <A 
title=Comment href="http://www.w3.org/TR/REC-xml/#dt-comment">comment</A>, <A 
title="Processing instruction" 
href="http://www.w3.org/TR/REC-xml/#dt-pi">processing instruction</A>, <A 
title="Character Reference" 
href="http://www.w3.org/TR/REC-xml/#dt-charref">character reference</A>, or <A 
title="Entity Reference" href="http://www.w3.org/TR/REC-xml/#dt-entref">entity 
reference</A> can begin in one entity and end in another.</P></DIV>
<DIV class=div3>
<H4><A id=charencoding name=charencoding>4.3.3 Character Encoding in 
Entities</H4>
<P>Each external parsed entity in an XML document <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> use a different encoding for its 
characters. All XML processors <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> be able to read entities in both 
the UTF-8 and UTF-16 encodings. The terms "UTF-8" and "UTF-16" in this 
specification do not apply to character encodings with any other labels, even if 
the encodings or labels are very similar to UTF-8 or UTF-16.</P>
<P>Entities encoded in UTF-16 <SPAN><EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM></SPAN> <SPAN>and entities encoded 
in UTF-8 <EM class=rfc2119 title="Keyword in RFC 2119 context">MAY</EM></SPAN> 
begin with the Byte Order Mark described by Annex H of <A 
href="http://www.w3.org/TR/REC-xml/#ISO10646-2000">[ISO/IEC 10646:2000]</A>, 
section 2.4 of <A href="http://www.w3.org/TR/REC-xml/#Unicode">[Unicode]</A>, 
and section 2.7 of <A 
href="http://www.w3.org/TR/REC-xml/#Unicode3">[Unicode3]</A> (the ZERO WIDTH 
NO-BREAK SPACE character, #xFEFF). This is an encoding signature, not part of 
either the markup or the character data of the XML document. XML processors <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> be able to use this 
character to differentiate between UTF-8 and UTF-16 encoded documents.</P>
<P>Although an XML processor is required to read only entities in the UTF-8 and 
UTF-16 encodings, it is recognized that other encodings are used around the 
world, and it may be desired for XML processors to read entities that use them. 
In the absence of external character encoding information (such as MIME 
headers), parsed entities which are stored in an encoding other than UTF-8 or 
UTF-16 <EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> begin 
with a text declaration (see <A 
href="http://www.w3.org/TR/REC-xml/#sec-TextDecl"><B>4.3.1 The Text 
Declaration</B></A>) containing an encoding declaration:</P>
<H5><A id=IDAY3EU name=IDAY3EU>Encoding Declaration</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-EncodingDecl 
    name=NT-EncodingDecl>[80]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>EncodingDecl</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> 'encoding' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Eq">Eq</A> ('"' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-EncName">EncName</A> '"' | "'" <A 
      href="http://www.w3.org/TR/REC-xml/#NT-EncName">EncName</A> "'" ) 
    </CODE></TD></TR></TBODY>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-EncName name=NT-EncName>[81]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>EncName</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>[A-Za-z] ([A-Za-z0-9._] | '-')*</CODE></TD>
    <TD><I>/* Encoding name contains only Latin characters 
*/</I></TD></TR></TBODY></TABLE>
<P>In the <A title="Document Entity" 
href="http://www.w3.org/TR/REC-xml/#dt-docent">document entity</A>, the encoding 
declaration is part of the <A title="XML Declaration" 
href="http://www.w3.org/TR/REC-xml/#dt-xmldecl">XML declaration</A>. The <A 
href="http://www.w3.org/TR/REC-xml/#NT-EncName">EncName</A> is the name of the 
encoding used.</P>
<P>In an encoding declaration, the values "<CODE>UTF-8</CODE>", 
"<CODE>UTF-16</CODE>", "<CODE>ISO-10646-UCS-2</CODE>", and 
"<CODE>ISO-10646-UCS-4</CODE>" <EM class=rfc2119 
title="Keyword in RFC 2119 context">SHOULD</EM> be used for the various 
encodings and transformations of Unicode / ISO/IEC 10646, the values 
"<CODE>ISO-8859-1</CODE>", "<CODE>ISO-8859-2</CODE>", ... 
"<CODE>ISO-8859-</CODE><VAR>n</VAR>" (where <VAR>n</VAR> is the part number) <EM 
class=rfc2119 title="Keyword in RFC 2119 context">SHOULD</EM> be used for the 
parts of ISO 8859, and the values "<CODE>ISO-2022-JP</CODE>", 
"<CODE>Shift_JIS</CODE>", and "<CODE>EUC-JP</CODE>" <EM class=rfc2119 
title="Keyword in RFC 2119 context">SHOULD</EM> be used for the various encoded 
forms of JIS X-0208-1997. It is <EM class=rfc2119 
title="Keyword in RFC 2119 context">RECOMMENDED</EM> that character encodings 
registered (as <EM>charset</EM>s) with the Internet Assigned Numbers Authority 
<A href="http://www.w3.org/TR/REC-xml/#IANA">[IANA-CHARSETS]</A>, other than 
those just listed, be referred to using their registered names; other encodings 
<EM class=rfc2119 title="Keyword in RFC 2119 context">SHOULD</EM> use names 
starting with an "x-" prefix. XML processors <EM class=rfc2119 
title="Keyword in RFC 2119 context">SHOULD</EM> match character encoding names 
in a case-insensitive way and <EM class=rfc2119 
title="Keyword in RFC 2119 context">SHOULD</EM> either interpret an 
IANA-registered name as the encoding registered at IANA for that name or treat 
it as unknown (processors are, of course, not required to support all 
IANA-registered encodings).</P>
<P>In the absence of information provided by an external transport protocol 
(e.g. HTTP or MIME), it is <SPAN>a <A title="Fatal Error" 
href="http://www.w3.org/TR/REC-xml/#dt-fatal">fatal error</A></SPAN> for an 
entity including an encoding declaration to be presented to the XML processor in 
an encoding other than that named in the declaration, or for an entity which 
begins with neither a Byte Order Mark nor an encoding declaration to use an 
encoding other than UTF-8. Note that since ASCII is a subset of UTF-8, ordinary 
ASCII entities do not strictly need an encoding declaration.</P>
<P>It is a <A title="Fatal Error" 
href="http://www.w3.org/TR/REC-xml/#dt-fatal">fatal error</A> for a <A 
href="http://www.w3.org/TR/REC-xml/#NT-TextDecl">TextDecl</A> to occur other 
than at the beginning of an external entity.</P>
<P>It is a <A title="Fatal Error" 
href="http://www.w3.org/TR/REC-xml/#dt-fatal">fatal error</A> when an XML 
processor encounters an entity with an encoding that it is unable to process. It 
is a <A title="Fatal Error" href="http://www.w3.org/TR/REC-xml/#dt-fatal">fatal 
error</A> if an XML entity is determined (via default, encoding declaration, or 
higher-level protocol) to be in a certain encoding but contains 
<SPAN>byte</SPAN> sequences that are not legal in that encoding. 
<SPAN>Specifically, it is a fatal error if an entity encoded in UTF-8 contains 
any irregular code unit sequences, as defined in Unicode 3.1 <A 
href="http://www.w3.org/TR/REC-xml/#Unicode3">[Unicode3]</A>.</SPAN> 
<SPAN>Unless an encoding is determined by a higher-level protocol, </SPAN>it is 
also a <A title="Fatal Error" 
href="http://www.w3.org/TR/REC-xml/#dt-fatal">fatal error</A> if an XML entity 
contains no encoding declaration and its content is not legal UTF-8 or 
UTF-16.</P>
<P>Examples of text declarations containing encoding declarations:</P>
<DIV class=exampleInner><PRE>&lt;?xml encoding='UTF-8'?&gt;
&lt;?xml encoding='EUC-JP'?&gt;</PRE></DIV></DIV></DIV>
<DIV class=div2>
<H3><A id=entproc name=entproc>4.4 XML Processor Treatment of Entities and 
References</H3>
<P>The table below summarizes the contexts in which character references, entity 
references, and invocations of unparsed entities might appear and the <EM 
class=rfc2119 title="Keyword in RFC 2119 context">REQUIRED</EM> behavior of an 
<A title="XML Processor" href="http://www.w3.org/TR/REC-xml/#dt-xml-proc">XML 
processor</A> in each case. The labels in the leftmost column describe the 
recognition context: </P>
<DL>
  <DT class=label>Reference in Content
  <DD>
  <P>as a reference anywhere after the <A title=Start-Tag 
  href="http://www.w3.org/TR/REC-xml/#dt-stag">start-tag</A> and before the <A 
  title="End Tag" href="http://www.w3.org/TR/REC-xml/#dt-etag">end-tag</A> of an 
  element; corresponds to the nonterminal <A 
  href="http://www.w3.org/TR/REC-xml/#NT-content">content</A>.</P>
  <DT class=label>Reference in Attribute Value
  <DD>
  <P>as a reference within either the value of an attribute in a <A 
  title=Start-Tag href="http://www.w3.org/TR/REC-xml/#dt-stag">start-tag</A>, or 
  a default value in an <A title="Attribute-List Declaration" 
  href="http://www.w3.org/TR/REC-xml/#dt-attdecl">attribute declaration</A>; 
  corresponds to the nonterminal <A 
  href="http://www.w3.org/TR/REC-xml/#NT-AttValue">AttValue</A>.</P>
  <DT class=label>Occurs as Attribute Value
  <DD>
  <P>as a <A href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A>, not a 
  reference, appearing either as the value of an attribute which has been 
  declared as type <B>ENTITY</B>, or as one of the space-separated tokens in the 
  value of an attribute which has been declared as type <B>ENTITIES</B>.</P>
  <DT class=label>Reference in Entity Value
  <DD>
  <P>as a reference within a parameter or internal entity's <A 
  title="Literal Entity Value" 
  href="http://www.w3.org/TR/REC-xml/#dt-litentval">literal entity value</A> in 
  the entity's declaration; corresponds to the nonterminal <A 
  href="http://www.w3.org/TR/REC-xml/#NT-EntityValue">EntityValue</A>.</P>
  <DT class=label>Reference in DTD
  <DD>
  <P>as a reference within either the internal or external subsets of the <A 
  title="Document Type Declaration" 
  href="http://www.w3.org/TR/REC-xml/#dt-doctype">DTD</A>, but outside of an <A 
  href="http://www.w3.org/TR/REC-xml/#NT-EntityValue">EntityValue</A>, <A 
  href="http://www.w3.org/TR/REC-xml/#NT-AttValue">AttValue</A>, <A 
  href="http://www.w3.org/TR/REC-xml/#NT-PI">PI</A>, <A 
  href="http://www.w3.org/TR/REC-xml/#NT-Comment">Comment</A>, <A 
  href="http://www.w3.org/TR/REC-xml/#NT-SystemLiteral">SystemLiteral</A>, <A 
  href="http://www.w3.org/TR/REC-xml/#NT-PubidLiteral">PubidLiteral</A>, or the 
  contents of an ignored conditional section (see <A 
  href="http://www.w3.org/TR/REC-xml/#sec-condition-sect"><B>3.4 Conditional 
  Sections</B></A>).</P>
  <P>.</P></DD></DL>
<P></P>
<TABLE cellPadding=7 border=1 frame=border>
  <TBODY align=middle>
  <TR>
    <TD rowSpan=2></TD>
    <TD vAlign=bottom align=middle colSpan=4>Entity Type</TD>
    <TD align=middle rowSpan=2>Character</TD></TR>
  <TR vAlign=bottom align=middle>
    <TD>Parameter</TD>
    <TD>Internal General</TD>
    <TD>External Parsed General</TD>
    <TD>Unparsed</TD></TR>
  <TR vAlign=center align=middle>
    <TD align=right>Reference in Content</TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#not-recognized"><CITE>Not 
      recognized</CITE></A></TD>
    <TD><A 
      href="http://www.w3.org/TR/REC-xml/#included"><CITE>Included</CITE></A></TD>
    <TD><A 
      href="http://www.w3.org/TR/REC-xml/#include-if-valid"><CITE>Included if 
      validating</CITE></A></TD>
    <TD><A 
      href="http://www.w3.org/TR/REC-xml/#forbidden"><CITE>Forbidden</CITE></A></TD>
    <TD><A 
      href="http://www.w3.org/TR/REC-xml/#included"><CITE>Included</CITE></A></TD></TR>
  <TR vAlign=center align=middle>
    <TD align=right>Reference in Attribute Value</TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#not-recognized"><CITE>Not 
      recognized</CITE></A></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#inliteral"><CITE>Included in 
      literal</CITE></A></TD>
    <TD><A 
      href="http://www.w3.org/TR/REC-xml/#forbidden"><CITE>Forbidden</CITE></A></TD>
    <TD><A 
      href="http://www.w3.org/TR/REC-xml/#forbidden"><CITE>Forbidden</CITE></A></TD>
    <TD><A 
      href="http://www.w3.org/TR/REC-xml/#included"><CITE>Included</CITE></A></TD></TR>
  <TR vAlign=center align=middle>
    <TD align=right>Occurs as Attribute Value</TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#not-recognized"><CITE>Not 
      recognized</CITE></A></TD>
    <TD><A 
      href="http://www.w3.org/TR/REC-xml/#forbidden"><CITE>Forbidden</CITE></A></TD>
    <TD><A 
      href="http://www.w3.org/TR/REC-xml/#forbidden"><CITE>Forbidden</CITE></A></TD>
    <TD><A 
    href="http://www.w3.org/TR/REC-xml/#notify"><CITE>Notify</CITE></A></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#not-recognized"><CITE>Not 
      recognized</CITE></A></TD></TR>
  <TR vAlign=center align=middle>
    <TD align=right>Reference in EntityValue</TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#inliteral"><CITE>Included in 
      literal</CITE></A></TD>
    <TD><A 
      href="http://www.w3.org/TR/REC-xml/#bypass"><CITE>Bypassed</CITE></A></TD>
    <TD><A 
      href="http://www.w3.org/TR/REC-xml/#bypass"><CITE>Bypassed</CITE></A></TD>
    <TD><A 
      href="http://www.w3.org/TR/REC-xml/#error"><CITE><SPAN>Error</SPAN></CITE></A></TD>
    <TD><A 
      href="http://www.w3.org/TR/REC-xml/#included"><CITE>Included</CITE></A></TD></TR>
  <TR vAlign=center align=middle>
    <TD align=right>Reference in DTD</TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#as-PE"><CITE>Included as 
      PE</CITE></A></TD>
    <TD><A 
      href="http://www.w3.org/TR/REC-xml/#forbidden"><CITE>Forbidden</CITE></A></TD>
    <TD><A 
      href="http://www.w3.org/TR/REC-xml/#forbidden"><CITE>Forbidden</CITE></A></TD>
    <TD><A 
      href="http://www.w3.org/TR/REC-xml/#forbidden"><CITE>Forbidden</CITE></A></TD>
    <TD><A 
      href="http://www.w3.org/TR/REC-xml/#forbidden"><CITE>Forbidden</CITE></A></TD></TR></TBODY></TABLE>
<DIV class=div3>
<H4><A id=not-recognized name=not-recognized>4.4.1 Not Recognized</H4>
<P>Outside the DTD, the <CODE>%</CODE> character has no special significance; 
thus, what would be parameter entity references in the DTD are not recognized as 
markup in <A href="http://www.w3.org/TR/REC-xml/#NT-content">content</A>. 
Similarly, the names of unparsed entities are not recognized except when they 
appear in the value of an appropriately declared attribute.</P></DIV>
<DIV class=div3>
<H4><A id=included name=included>4.4.2 Included</H4>
<P>[<A id=dt-include title=Include name=dt-include>Definition</A>: An entity is 
<B>included</B> when its <A title="Replacement Text" 
href="http://www.w3.org/TR/REC-xml/#dt-repltext">replacement text</A> is 
retrieved and processed, in place of the reference itself, as though it were 
part of the document at the location the reference was recognized.] The 
replacement text <EM class=rfc2119 title="Keyword in RFC 2119 context">MAY</EM> 
contain both <A title="Character Data" 
href="http://www.w3.org/TR/REC-xml/#dt-chardata">character data</A> and (except 
for parameter entities) <A title=Markup 
href="http://www.w3.org/TR/REC-xml/#dt-markup">markup</A>, which <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> be recognized in the 
usual way. (The string "<CODE>AT&amp;amp;T;</CODE>" expands to 
"<CODE>AT&amp;T;</CODE>" and the remaining ampersand is not recognized as an 
entity-reference delimiter.) A character reference is <B>included</B> when the 
indicated character is processed in place of the reference itself. </P></DIV>
<DIV class=div3>
<H4><A id=include-if-valid name=include-if-valid>4.4.3 Included If 
Validating</H4>
<P>When an XML processor recognizes a reference to a parsed entity, in order to 
<A title=Validity href="http://www.w3.org/TR/REC-xml/#dt-valid">validate</A> the 
document, the processor <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> <A title=Include 
href="http://www.w3.org/TR/REC-xml/#dt-include">include</A> its replacement 
text. If the entity is external, and the processor is not attempting to validate 
the XML document, the processor <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM>, but need not, include the entity's 
replacement text. If a non-validating processor does not include the replacement 
text, it <EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> inform 
the application that it recognized, but did not read, the entity.</P>
<P>This rule is based on the recognition that the automatic inclusion provided 
by the SGML and XML entity mechanism, primarily designed to support modularity 
in authoring, is not necessarily appropriate for other applications, in 
particular document browsing. Browsers, for example, when encountering an 
external parsed entity reference, might choose to provide a visual indication of 
the entity's presence and retrieve it for display only on demand.</P></DIV>
<DIV class=div3>
<H4><A id=forbidden name=forbidden>4.4.4 Forbidden</H4>
<P>The following are forbidden, and constitute <A title="Fatal Error" 
href="http://www.w3.org/TR/REC-xml/#dt-fatal">fatal errors</A>:</P>
<UL>
  <LI>
  <P>the appearance of a reference to an <A title="Unparsed Entity" 
  href="http://www.w3.org/TR/REC-xml/#dt-unparsed">unparsed entity</A><SPAN>, 
  except in the <A 
  href="http://www.w3.org/TR/REC-xml/#NT-EntityValue">EntityValue</A> in an 
  entity declaration</SPAN>.</P>
  <LI>
  <P>the appearance of any character or general-entity reference in the DTD 
  except within an <A 
  href="http://www.w3.org/TR/REC-xml/#NT-EntityValue">EntityValue</A> or <A 
  href="http://www.w3.org/TR/REC-xml/#NT-AttValue">AttValue</A>.</P>
  <LI>
  <P>a reference to an external entity in an attribute value.</P></LI></UL></DIV>
<DIV class=div3>
<H4><A id=inliteral name=inliteral>4.4.5 Included in Literal</H4>
<P>When an <A title="Entity Reference" 
href="http://www.w3.org/TR/REC-xml/#dt-entref">entity reference</A> appears in 
an attribute value, or a parameter entity reference appears in a literal entity 
value, its <A title="Replacement Text" 
href="http://www.w3.org/TR/REC-xml/#dt-repltext">replacement text</A> <SPAN 
class=mustard><EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> 
be</SPAN> processed in place of the reference itself as though it were part of 
the document at the location the reference was recognized, except that a single 
or double quote character in the replacement text <SPAN class=mustard><EM 
class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> always be</SPAN> 
treated as a normal data character and <SPAN class=mustard><EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST NOT</EM></SPAN> terminate the literal. 
For example, this is well-formed:</P>
<DIV class=exampleInner><PRE>&lt;!ENTITY % YN '"Yes"' &gt;
&lt;!ENTITY WhatHeSaid "He said %YN;" &gt;</PRE></DIV>
<P>while this is not:</P>
<DIV class=exampleInner><PRE>&lt;!ENTITY EndAttr "27'" &gt;
&lt;element attribute='a-&amp;EndAttr;&gt;</PRE></DIV></DIV>
<DIV class=div3>
<H4><A id=notify name=notify>4.4.6 Notify</H4>
<P>When the name of an <A title="Unparsed Entity" 
href="http://www.w3.org/TR/REC-xml/#dt-unparsed">unparsed entity</A> appears as 
a token in the value of an attribute of declared type <B>ENTITY</B> or 
<B>ENTITIES</B>, a validating processor <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> inform the application of the <A 
title="System Identifier" 
href="http://www.w3.org/TR/REC-xml/#dt-sysid">system</A> and <A 
title="Public identifier" 
href="http://www.w3.org/TR/REC-xml/#dt-pubid">public</A> (if any) identifiers 
for both the entity and its associated <A title=Notation 
href="http://www.w3.org/TR/REC-xml/#dt-notation">notation</A>.</P></DIV>
<DIV class=div3>
<H4><A id=bypass name=bypass>4.4.7 Bypassed</H4>
<P>When a general entity reference appears in the <A 
href="http://www.w3.org/TR/REC-xml/#NT-EntityValue">EntityValue</A> in an entity 
declaration, it <SPAN class=mustard><EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> be</SPAN> bypassed and left as 
is.</P></DIV>
<DIV class=div3>
<H4><A id=as-PE name=as-PE>4.4.8 Included as PE</H4>
<P>Just as with external parsed entities, parameter entities need only be <A 
href="http://www.w3.org/TR/REC-xml/#include-if-valid"><CITE>included if 
validating</CITE></A>. When a parameter-entity reference is recognized in the 
DTD and included, its <A title="Replacement Text" 
href="http://www.w3.org/TR/REC-xml/#dt-repltext">replacement text</A> <SPAN 
class=mustard><EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> 
be</SPAN> enlarged by the attachment of one leading and one following space 
(#x20) character; the intent is to constrain the replacement text of parameter 
entities to contain an integral number of grammatical tokens in the DTD. This 
behavior <SPAN class=mustard><EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST NOT</EM></SPAN> apply to parameter 
entity references within entity values; these are described in <A 
href="http://www.w3.org/TR/REC-xml/#inliteral"><B>4.4.5 Included in 
Literal</B></A>.</P></DIV>
<DIV class=div3>
<H4><A id=error name=error>4.4.9 Error</H4>
<P>It is an <A title=Error 
href="http://www.w3.org/TR/REC-xml/#dt-error">error</A> for a reference to an 
unparsed entity to appear in the <A 
href="http://www.w3.org/TR/REC-xml/#NT-EntityValue">EntityValue</A> in an entity 
declaration.</P></DIV></DIV>
<DIV class=div2>
<H3><A id=intern-replacement name=intern-replacement>4.5 Construction of Entity 
Replacement Text</H3>
<P>In discussing the treatment of entities, it is useful to distinguish two 
forms of the entity's value. [<A id=dt-litentval title="Literal Entity Value" 
name=dt-litentval>Definition</A>: <SPAN>For an internal entity, </SPAN>the 
<B>literal entity value</B> is the quoted string actually present in the entity 
declaration, corresponding to the non-terminal <A 
href="http://www.w3.org/TR/REC-xml/#NT-EntityValue">EntityValue</A>.] [<A 
id=dt-extlitentval title="Literal Entity Value" 
name=dt-extlitentval>Definition</A>: For an external entity, the <B>literal 
entity value</B> is the exact text contained in the entity.] [<A id=dt-repltext 
title="Replacement Text" name=dt-repltext>Definition</A>: <SPAN>For an internal 
entity, </SPAN>the <B>replacement text</B> is the content of the entity, after 
replacement of character references and parameter-entity references.] [<A 
id=dt-extrepltext title="Replacement Text" name=dt-extrepltext>Definition</A>: 
For an external entity, the <B>replacement text</B> is the content of the 
entity, after stripping the text declaration (leaving any surrounding 
whitespace) if there is one but without any replacement of character references 
or parameter-entity references.]</P>
<P>The literal entity value as given in an internal entity declaration (<A 
href="http://www.w3.org/TR/REC-xml/#NT-EntityValue">EntityValue</A>) <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MAY</EM> contain character, 
parameter-entity, and general-entity references. Such references <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> be contained 
entirely within the literal entity value. The actual replacement text that is <A 
title=Include href="http://www.w3.org/TR/REC-xml/#dt-include">included</A><SPAN> 
(or <A title="" href="http://www.w3.org/TR/REC-xml/#inliteral">included in 
literal</A>)</SPAN> as described above <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> contain the <EM>replacement 
text</EM> of any parameter entities referred to, and <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> contain the character referred to, 
in place of any character references in the literal entity value; however, 
general-entity references <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> be left as-is, unexpanded. For 
example, given the following declarations:</P>
<DIV class=exampleInner><PRE>&lt;!ENTITY % pub    "&amp;#xc9;ditions Gallimard" &gt;
&lt;!ENTITY   rights "All rights reserved" &gt;
&lt;!ENTITY   book   "La Peste: Albert Camus,
&amp;#xA9; 1947 %pub;. &amp;rights;" &gt;</PRE></DIV>
<P>then the replacement text for the entity "<CODE>book</CODE>" is:</P>
<DIV class=exampleInner><PRE>La Peste: Albert Camus,
© 1947 Éditions Gallimard. &amp;rights;</PRE></DIV>
<P>The general-entity reference "<CODE>&amp;rights;</CODE>" would be expanded 
should the reference "<CODE>&amp;book;</CODE>" appear in the document's content 
or an attribute value.</P>
<P>These simple rules may have complex interactions; for a detailed discussion 
of a difficult example, see <A 
href="http://www.w3.org/TR/REC-xml/#sec-entexpand"><B>D Expansion of Entity and 
Character References</B></A>.</P></DIV>
<DIV class=div2>
<H3><A id=sec-predefined-ent name=sec-predefined-ent>4.6 Predefined 
Entities</H3>
<P>[<A id=dt-escape title=escape name=dt-escape>Definition</A>: Entity and 
character references <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> both be used to <B>escape</B> the 
left angle bracket, ampersand, and other delimiters. A set of general entities 
(<CODE>amp</CODE>, <CODE>lt</CODE>, <CODE>gt</CODE>, <CODE>apos</CODE>, 
<CODE>quot</CODE>) is specified for this purpose. Numeric character references 
<EM class=rfc2119 title="Keyword in RFC 2119 context">MAY</EM> also be used; 
they are expanded immediately when recognized and <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> be treated as character data, so 
the numeric character references "<CODE>&amp;#60;</CODE>" and 
"<CODE>&amp;#38;</CODE>" <EM class=rfc2119 
title="Keyword in RFC 2119 context">MAY</EM> be used to escape <CODE>&lt;</CODE> 
and <CODE>&amp;</CODE> when they occur in character data.]</P>
<P>All XML processors <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> recognize these entities whether 
they are declared or not. <A title="For interoperability" 
href="http://www.w3.org/TR/REC-xml/#dt-interop">For interoperability</A>, valid 
XML documents <EM class=rfc2119 title="Keyword in RFC 2119 context">SHOULD</EM> 
declare these entities, like any others, before using them. If the entities 
<CODE>lt</CODE> or <CODE>amp</CODE> are declared, they <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> be declared as internal entities 
whose replacement text is a character reference to the respective character 
(less-than sign or ampersand) being escaped; the double escaping is <EM 
class=rfc2119 title="Keyword in RFC 2119 context">REQUIRED</EM> for these 
entities so that references to them produce a well-formed result. If the 
entities <CODE>gt</CODE>, <CODE>apos</CODE>, or <CODE>quot</CODE> are declared, 
they <EM class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM> be declared 
as internal entities whose replacement text is the single character being 
escaped (or a character reference to that character; the double escaping here is 
<SPAN class=mustard><EM class=rfc2119 
title="Keyword in RFC 2119 context">OPTIONAL</EM></SPAN> but harmless). For 
example:</P>
<DIV class=exampleInner><PRE>&lt;!ENTITY lt     "&amp;#38;#60;"&gt;
&lt;!ENTITY gt     "&amp;#62;"&gt;
&lt;!ENTITY amp    "&amp;#38;#38;"&gt;
&lt;!ENTITY apos   "&amp;#39;"&gt;
&lt;!ENTITY quot   "&amp;#34;"&gt;</PRE></DIV></DIV>
<DIV class=div2>
<H3><A id=Notations name=Notations>4.7 Notation Declarations</H3>
<P>[<A id=dt-notation title=Notation name=dt-notation>Definition</A>: 
<B>Notations</B> identify by name the format of <A title="External Entity" 
href="http://www.w3.org/TR/REC-xml/#dt-extent">unparsed entities</A>, the format 
of elements which bear a notation attribute, or the application to which a <A 
title="Processing instruction" 
href="http://www.w3.org/TR/REC-xml/#dt-pi">processing instruction</A> is 
addressed.]</P>
<P>[<A id=dt-notdecl title="Notation Declaration" 
name=dt-notdecl>Definition</A>: <B>Notation declarations</B> provide a name for 
the notation, for use in entity and attribute-list declarations and in attribute 
specifications, and an external identifier for the notation which may allow an 
XML processor or its client application to locate a helper application capable 
of processing data in the given notation.]</P>
<H5><A id=IDAC4FU name=IDAC4FU>Notation Declarations</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-NotationDecl 
    name=NT-NotationDecl>[82]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>NotationDecl</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'&lt;!NOTATION' <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> (<A 
      href="http://www.w3.org/TR/REC-xml/#NT-ExternalID">ExternalID</A> | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-PublicID">PublicID</A>) <A 
      href="http://www.w3.org/TR/REC-xml/#NT-S">S</A>? '&gt;'</CODE></TD>
    <TD><A href="http://www.w3.org/TR/REC-xml/#UniqueNotationName">[VC: Unique 
      Notation Name]</A></TD></TR></TBODY>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-PublicID name=NT-PublicID>[83]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>PublicID</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>'PUBLIC' <A href="http://www.w3.org/TR/REC-xml/#NT-S">S</A> <A 
      href="http://www.w3.org/TR/REC-xml/#NT-PubidLiteral">PubidLiteral</A></CODE></TD></TR></TBODY></TABLE>
<DIV class=constraint>
<P class=prefix><A id=UniqueNotationName name=UniqueNotationName><B>Validity 
constraint: Unique Notation Name</B></P>
<P><SPAN class=mustard>A given <A 
href="http://www.w3.org/TR/REC-xml/#NT-Name">Name</A> <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST NOT</EM> be declared in more than one 
notation declaration.</SPAN></P></DIV>
<P>XML processors <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> provide applications with the name 
and external identifier(s) of any notation declared and referred to in an 
attribute value, attribute definition, or entity declaration. They <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MAY</EM> additionally resolve 
the external identifier into the <A title="System Identifier" 
href="http://www.w3.org/TR/REC-xml/#dt-sysid">system identifier</A>, file name, 
or other information needed to allow the application to call a processor for 
data in the notation described. (It is not an error, however, for XML documents 
to declare and refer to notations for which notation-specific applications are 
not available on the system where the XML processor or application is 
running.)</P></DIV>
<DIV class=div2>
<H3><A id=sec-doc-entity name=sec-doc-entity>4.8 Document Entity</H3>
<P>[<A id=dt-docent title="Document Entity" name=dt-docent>Definition</A>: The 
<B>document entity</B> serves as the root of the entity tree and a 
starting-point for an <A title="XML Processor" 
href="http://www.w3.org/TR/REC-xml/#dt-xml-proc">XML processor</A>.] This 
specification does not specify how the document entity is to be located by an 
XML processor; unlike other entities, the document entity has no name and might 
well appear on a processor input stream without any identification at 
all.</P></DIV></DIV>
<DIV class=div1>
<H2><A id=sec-conformance name=sec-conformance>5 Conformance</H2>
<DIV class=div2>
<H3><A id=proc-types name=proc-types>5.1 Validating and Non-Validating 
Processors</H3>
<P>Conforming <A title="XML Processor" 
href="http://www.w3.org/TR/REC-xml/#dt-xml-proc">XML processors</A> fall into 
two classes: validating and non-validating.</P>
<P>Validating and non-validating processors alike <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> report violations of this 
specification's well-formedness constraints in the content of the <A 
title="Document Entity" href="http://www.w3.org/TR/REC-xml/#dt-docent">document 
entity</A> and any other <A title="Text Entity" 
href="http://www.w3.org/TR/REC-xml/#dt-parsedent">parsed entities</A> that they 
read.</P>
<P>[<A id=dt-validating title="Validating Processor" 
name=dt-validating>Definition</A>: <B>Validating processors</B> <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MUST</EM>, at user option, 
report violations of the constraints expressed by the declarations in the <A 
title="Document Type Declaration" 
href="http://www.w3.org/TR/REC-xml/#dt-doctype">DTD</A>, and failures to fulfill 
the validity constraints given in this specification.] To accomplish this, 
validating XML processors <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> read and process the entire DTD 
and all external parsed entities referenced in the document.</P>
<P>Non-validating processors are <EM class=rfc2119 
title="Keyword in RFC 2119 context">REQUIRED</EM> to check only the <A 
title="Document Entity" href="http://www.w3.org/TR/REC-xml/#dt-docent">document 
entity</A>, including the entire internal DTD subset, for well-formedness. [<A 
id=dt-use-mdecl title="Process Declarations" name=dt-use-mdecl>Definition</A>: 
While they are not required to check the document for validity, they are <EM 
class=rfc2119 title="Keyword in RFC 2119 context">REQUIRED</EM> to 
<B>process</B> all the declarations they read in the internal DTD subset and in 
any parameter entity that they read, up to the first reference to a parameter 
entity that they do <EM>not</EM> read; that is to say, they <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> use the information in those 
declarations to <A 
href="http://www.w3.org/TR/REC-xml/#AVNormalize"><CITE>normalize</CITE></A> 
attribute values, <A 
href="http://www.w3.org/TR/REC-xml/#included"><CITE>include</CITE></A> the 
replacement text of internal entities, and supply <A 
href="http://www.w3.org/TR/REC-xml/#sec-attr-defaults"><CITE>default attribute 
values</CITE></A>.] Except when <CODE>standalone="yes"</CODE>, they <EM 
class=rfc2119 title="Keyword in RFC 2119 context">MUST NOT</EM> <A 
title="Process Declarations" 
href="http://www.w3.org/TR/REC-xml/#dt-use-mdecl">process</A> <A 
title="entity declaration" 
href="http://www.w3.org/TR/REC-xml/#dt-entdecl">entity declarations</A> or <A 
title="Attribute-List Declaration" 
href="http://www.w3.org/TR/REC-xml/#dt-attdecl">attribute-list declarations</A> 
encountered after a reference to a parameter entity that is not read, since the 
entity may have contained overriding declarations<SPAN>; when 
<CODE>standalone="yes"</CODE>, processors <EM class=rfc2119 
title="Keyword in RFC 2119 context">MUST</EM> process these 
declarations</SPAN>.</P>
<P>Note that when processing invalid documents with a non-validating processor 
the application may not be presented with consistent information. For example, 
several requirements for uniqueness within the document may not be met, 
including more than one element with the same id, duplicate declarations of 
elements or notations with the same name, etc. In these cases the behavior of 
the parser with respect to reporting such information to the application is 
undefined.</P></DIV>
<DIV class=div2>
<H3><A id=safe-behavior name=safe-behavior>5.2 Using XML Processors</H3>
<P>The behavior of a validating XML processor is highly predictable; it must 
read every piece of a document and report all well-formedness and validity 
violations. Less is required of a non-validating processor; it need not read any 
part of the document other than the document entity. This has two effects that 
may be important to users of XML processors:</P>
<UL>
  <LI>
  <P>Certain well-formedness errors, specifically those that require reading 
  external entities, <SPAN>may fail to</SPAN> be detected by a non-validating 
  processor. Examples include the constraints entitled <A 
  href="http://www.w3.org/TR/REC-xml/#wf-entdeclared"><CITE>Entity 
  Declared</CITE></A>, <A 
  href="http://www.w3.org/TR/REC-xml/#textent"><CITE>Parsed Entity</CITE></A>, 
  and <A href="http://www.w3.org/TR/REC-xml/#norecursion"><CITE>No 
  Recursion</CITE></A>, as well as some of the cases described as <A 
  href="http://www.w3.org/TR/REC-xml/#forbidden"><CITE>forbidden</CITE></A> in 
  <A href="http://www.w3.org/TR/REC-xml/#entproc"><B>4.4 XML Processor Treatment 
  of Entities and References</B></A>.</P>
  <LI>
  <P>The information passed from the processor to the application may vary, 
  depending on whether the processor reads parameter and external entities. For 
  example, a non-validating processor <SPAN>may fail to</SPAN> <A 
  href="http://www.w3.org/TR/REC-xml/#AVNormalize"><CITE>normalize</CITE></A> 
  attribute values, <A 
  href="http://www.w3.org/TR/REC-xml/#included"><CITE>include</CITE></A> the 
  replacement text of internal entities, or supply <A 
  href="http://www.w3.org/TR/REC-xml/#sec-attr-defaults"><CITE>default attribute 
  values</CITE></A>, where doing so depends on having read declarations in 
  external or parameter entities.</P></LI></UL>
<P>For maximum reliability in interoperating between different XML processors, 
applications which use non-validating processors <EM class=rfc2119 
title="Keyword in RFC 2119 context">SHOULD NOT</EM> rely on any behaviors not 
required of such processors. Applications which require <SPAN>DTD</SPAN> 
facilities <SPAN>not related to validation (</SPAN>such as the 
<SPAN>declaration</SPAN> of default attributes <SPAN>and</SPAN> internal 
entities <SPAN>that are or may be specified</SPAN> in external entities) <EM 
class=rfc2119 title="Keyword in RFC 2119 context">SHOULD</EM> use validating XML 
processors.</P></DIV></DIV>
<DIV class=div1>
<H2><A id=sec-notation name=sec-notation>6 Notation</H2>
<P>The formal grammar of XML is given in this specification using a simple 
Extended Backus-Naur Form (EBNF) notation. Each rule in the grammar defines one 
symbol, in the form</P>
<DIV class=exampleInner><PRE>symbol ::= expression</PRE></DIV>
<P>Symbols are written with an initial capital letter if they are the start 
symbol of a regular language, otherwise with an initial lowercase letter. 
Literal strings are quoted.</P>
<P>Within the expression on the right-hand side of a rule, the following 
expressions are used to match strings of one or more characters: </P>
<DL>
  <DT class=label><CODE>#xN</CODE>
  <DD>
  <P>where <CODE>N</CODE> is a hexadecimal integer, the expression matches the 
  character <SPAN>whose</SPAN><SPAN> number (code point) in</SPAN> ISO/IEC 10646 
  <SPAN>is <CODE>N</CODE></SPAN>. The number of leading zeros in the 
  <CODE>#xN</CODE> form is insignificant.</P>
  <DT class=label><CODE>[a-zA-Z]</CODE>, <CODE>[#xN-#xN]</CODE>
  <DD>
  <P>matches any <A href="http://www.w3.org/TR/REC-xml/#NT-Char">Char</A> with a 
  value in the range(s) indicated (inclusive).</P>
  <DT class=label><CODE>[abc]</CODE>, <CODE>[#xN#xN#xN]</CODE>
  <DD>
  <P>matches any <A href="http://www.w3.org/TR/REC-xml/#NT-Char">Char</A> with a 
  value among the characters enumerated. Enumerations and ranges can be mixed in 
  one set of brackets.</P>
  <DT class=label><CODE>[^a-z]</CODE>, <CODE>[^#xN-#xN]</CODE>
  <DD>
  <P>matches any <A href="http://www.w3.org/TR/REC-xml/#NT-Char">Char</A> with a 
  value <EM>outside</EM> the range indicated.</P>
  <DT class=label><CODE>[^abc]</CODE>, <CODE>[^#xN#xN#xN]</CODE>
  <DD>
  <P>matches any <A href="http://www.w3.org/TR/REC-xml/#NT-Char">Char</A> with a 
  value not among the characters given. Enumerations and ranges of forbidden 
  values can be mixed in one set of brackets.</P>
  <DT class=label><CODE>"string"</CODE>
  <DD>
  <P>matches a literal string <A title=match 
  href="http://www.w3.org/TR/REC-xml/#dt-match">matching</A> that given inside 
  the double quotes.</P>
  <DT class=label><CODE>'string'</CODE>
  <DD>
  <P>matches a literal string <A title=match 
  href="http://www.w3.org/TR/REC-xml/#dt-match">matching</A> that given inside 
  the single quotes.</P></DD></DL>
<P>These symbols may be combined to match more complex patterns as follows, 
where <CODE>A</CODE> and <CODE>B</CODE> represent simple expressions: </P>
<DL>
  <DT class=label>(<CODE>expression</CODE>)
  <DD>
  <P><CODE>expression</CODE> is treated as a unit and may be combined as 
  described in this list.</P>
  <DT class=label><CODE>A?</CODE>
  <DD>
  <P>matches <CODE>A</CODE> or nothing; optional <CODE>A</CODE>.</P>
  <DT class=label><CODE>A B</CODE>
  <DD>
  <P>matches <CODE>A</CODE> followed by <CODE>B</CODE>. This operator has higher 
  precedence than alternation; thus <CODE>A B | C D</CODE> is identical to 
  <CODE>(A B) | (C D)</CODE>.</P>
  <DT class=label><CODE>A | B</CODE>
  <DD>
  <P>matches <CODE>A</CODE> or <CODE>B</CODE>.</P>
  <DT class=label><CODE>A - B</CODE>
  <DD>
  <P>matches any string that matches <CODE>A</CODE> but does not match 
  <CODE>B</CODE>.</P>
  <DT class=label><CODE>A+</CODE>
  <DD>
  <P>matches one or more occurrences of <CODE>A</CODE>. Concatenation has higher 
  precedence than alternation; thus <CODE>A+ | B+</CODE> is identical to 
  <CODE>(A+) | (B+)</CODE>.</P>
  <DT class=label><CODE>A*</CODE>
  <DD>
  <P>matches zero or more occurrences of <CODE>A</CODE>. Concatenation has 
  higher precedence than alternation; thus <CODE>A* | B*</CODE> is identical to 
  <CODE>(A*) | (B*)</CODE>.</P></DD></DL>
<P>Other notations used in the productions are: </P>
<DL>
  <DT class=label><CODE>/* ... */</CODE>
  <DD>
  <P>comment.</P>
  <DT class=label><CODE>[ wfc: ... ]</CODE>
  <DD>
  <P>well-formedness constraint; this identifies by name a constraint on <A 
  title=Well-Formed 
  href="http://www.w3.org/TR/REC-xml/#dt-wellformed">well-formed</A> documents 
  associated with a production.</P>
  <DT class=label><CODE>[ vc: ... ]</CODE>
  <DD>
  <P>validity constraint; this identifies by name a constraint on <A 
  title=Validity href="http://www.w3.org/TR/REC-xml/#dt-valid">valid</A> 
  documents associated with a production.</P></DD></DL>
<P></P></DIV></DIV>
<DIV class=back>
<DIV class=div1>
<H2><A id=sec-bibliography name=sec-bibliography>A References</H2>
<DIV class=div2>
<H3><A id=sec-existing-stds name=sec-existing-stds>A.1 Normative References</H3>
<DL>
  <DT class=label><A name=IANA>IANA-CHARSETS
  <DD>(Internet Assigned Numbers Authority) <A 
  href="http://www.iana.org/assignments/character-sets"><CITE>Official Names for 
  Character Sets</CITE></A>, ed. Keld Simonsen et al. (See 
  http://www.iana.org/assignments/character-sets.)
  <DT class=label><A name=rfc2119>IETF RFC 2119
  <DD>IETF (Internet Engineering Task Force). <A 
  href="http://www.ietf.org/rfc/rfc2119.txt"><CITE>RFC 2119: Key words for use 
  in RFCs to Indicate Requirement Levels</CITE></A>. Scott Bradner, 1997. (See 
  http://www.ietf.org/rfc/rfc2119.txt.)
  <DT class=label><A name=rfc2396>IETF RFC 2396
  <DD>IETF (Internet Engineering Task Force). <A 
  href="http://www.ietf.org/rfc/rfc2396.txt"><CITE>RFC 2396: Uniform Resource 
  Identifiers (URI): Generic Syntax</CITE></A>. T. Berners-Lee, R. Fielding, L. 
  Masinter. 1998. (See http://www.ietf.org/rfc/rfc2396.txt.)
  <DT class=label><A name=rfc2732>IETF RFC 2732
  <DD>IETF (Internet Engineering Task Force). <A 
  href="http://www.ietf.org/rfc/rfc2732.txt"><CITE>RFC 2732: Format for Literal 
  IPv6 Addresses in URL's</CITE></A>. R. Hinden, B. Carpenter, L. Masinter. 
  1999. (See http://www.ietf.org/rfc/rfc2732.txt.)
  <DT class=label><A name=RFC1766>IETF RFC 3066
  <DD>IETF (Internet Engineering Task Force). <A 
  href="http://www.ietf.org/rfc/rfc3066.txt"><CITE>RFC 3066: Tags for the 
  Identification of Languages</CITE></A>, ed. H. Alvestrand. 2001. (See 
  http://www.ietf.org/rfc/rfc3066.txt.)
  <DT class=label><A id=ISO10646 name=ISO10646>ISO/IEC 10646
  <DD><SPAN>ISO (International Organization for Standardization). <CITE>ISO/IEC 
  10646-1:2000. Information technology — Universal Multiple-Octet Coded 
  Character Set (UCS) — Part 1: Architecture and Basic Multilingual Plane</CITE> 
  and <CITE>ISO/IEC 10646-2:2001. Information technology — Universal 
  Multiple-Octet Coded Character Set (UCS) — Part 2: Supplementary 
  Planes</CITE>, as, from time to time, amended, replaced by a new edition or 
  expanded by the addition of new parts. [Geneva]: International Organization 
  for Standardization. (See <A href="http://www.iso.ch/">http://www.iso.ch/</A> 
  for the latest version.)</SPAN>
  <DT class=label><A id=ISO10646-2000 name=ISO10646-2000>ISO/IEC 10646:2000
  <DD>ISO (International Organization for Standardization). <CITE>ISO/IEC 
  10646-1:2000. Information technology — Universal Multiple-Octet Coded 
  Character Set (UCS) — Part 1: Architecture and Basic Multilingual 
  Plane.</CITE> [Geneva]: International Organization for Standardization, 2000.
  <DT class=label><A id=Unicode name=Unicode>Unicode
  <DD>The Unicode Consortium. <EM>The Unicode Standard, Version 2.0.</EM> 
  Reading, Mass.: Addison-Wesley Developers Press, 1996.
  <DT class=label><A id=Unicode3 name=Unicode3>Unicode3
  <DD><SPAN>The Unicode Consortium. <EM>The Unicode Standard, Version 
  3.<SPAN>2</SPAN></EM>, defined by: <EM>The Unicode Standard, Version 3.0</EM> 
  (Reading, MA, Addison-Wesley, 2000. ISBN 0-201-61633-5), as amended by the 
  <EM>Unicode Standard Annex #27: Unicode 3.1</EM> (<A 
  href="http://www.unicode.org/reports/tr27/">http://www.unicode.org/reports/tr27/</A>)<SPAN> 
  and the <EM>Unicode Standard Annex #28: Unicode 3.2</EM> (<A 
  href="http://www.unicode.org/reports/tr28/">http://www.unicode.org/reports/tr28/</A>)</SPAN>.</SPAN></DD></DL></DIV>
<DIV class=div2>
<H3><A id=null name=null>A.2 Other References</H3>
<DL>
  <DT class=label><A id=Aho name=Aho>Aho/Ullman
  <DD>Aho, Alfred V., Ravi Sethi, and Jeffrey D. Ullman. <CITE>Compilers: 
  Principles, Techniques, and Tools</CITE>. Reading: Addison-Wesley, 1986, rpt. 
  corr. 1988.
  <DT class=label><A id=ABK name=ABK>Brüggemann-Klein
  <DD>Brüggemann-Klein, Anne. <A 
  href="ftp://ftp.informatik.uni-freiburg.de/documents/papers/brueggem/habil.ps"><CITE>Formal 
  Models in Document Processing</CITE></A>. Habilitationsschrift. Faculty of 
  Mathematics at the University of Freiburg, 1993. (See 
  ftp://ftp.informatik.uni-freiburg.de/documents/papers/brueggem/habil.ps.)
  <DT class=label><A id=ABKDW name=ABKDW>Brüggemann-Klein and Wood
  <DD>Brüggemann-Klein, Anne, and Derick Wood. <CITE>Deterministic Regular 
  Languages</CITE>. Universität Freiburg, Institut für Informatik, Bericht 38, 
  Oktober 1991. Extended abstract in A. Finkel, M. Jantzen, Hrsg., STACS 1992, 
  S. 173-184. Springer-Verlag, Berlin 1992. Lecture Notes in Computer Science 
  577. Full version titled <CITE>One-Unambiguous Regular Languages</CITE> in 
  Information and Computation 140 (2): 229-253, February 1998.
  <DT class=label><A id=Clark name=Clark>Clark
  <DD>James Clark. <A 
  href="http://www.w3.org/TR/NOTE-sgml-xml-971215"><CITE>Comparison of SGML and 
  XML</CITE></A>. (See http://www.w3.org/TR/NOTE-sgml-xml-971215.)
  <DT class=label><A name=IANA-LANGCODES>IANA-LANGCODES
  <DD>(Internet Assigned Numbers Authority) <A 
  href="http://www.iana.org/assignments/language-tags"><CITE>Registry of 
  Language Tags</CITE></A>, ed. Keld Simonsen et al. (See 
  http://www.iana.org/assignments/language-tags.)
  <DT class=label><A name=RFC2141>IETF RFC 2141
  <DD>IETF (Internet Engineering Task Force). <A 
  href="http://www.ietf.org/rfc/rfc2141.txt"><CITE>RFC 2141: URN 
  Syntax</CITE></A>, ed. R. Moats. 1997. (See 
  http://www.ietf.org/rfc/rfc2141.txt.)
  <DT class=label><A name=rfc2376>IETF RFC 3023
  <DD>IETF (Internet Engineering Task Force). <A 
  href="http://www.ietf.org/rfc/rfc3023.txt"><CITE>RFC 3023: XML Media 
  Types</CITE></A>. eds. M. Murata, S. St.Laurent, D. Kohn. 2001. (See 
  http://www.ietf.org/rfc/rfc3023.txt.)
  <DT class=label><A id=rfc2781 name=rfc2781>IETF RFC 2781
  <DD>IETF (Internet Engineering Task Force). <A 
  href="http://www.ietf.org/rfc/rfc2781.txt"><CITE>RFC 2781: UTF-16, an encoding 
  of ISO 10646</CITE></A>, ed. P. Hoffman, F. Yergeau. 2000. (See 
  http://www.ietf.org/rfc/rfc2781.txt.)
  <DT class=label><A id=ISO639 name=ISO639>ISO 639
  <DD>(International Organization for Standardization). <CITE>ISO 639:1988 (E). 
  Code for the representation of names of languages.</CITE> [Geneva]: 
  International Organization for Standardization, 1988.
  <DT class=label><A id=ISO3166 name=ISO3166>ISO 3166
  <DD>(International Organization for Standardization). <CITE>ISO 3166-1:1997 
  (E). Codes for the representation of names of countries and their subdivisions 
  — Part 1: Country codes</CITE> [Geneva]: International Organization for 
  Standardization, 1997.
  <DT class=label><A id=ISO8879 name=ISO8879>ISO 8879
  <DD>ISO (International Organization for Standardization). <CITE>ISO 
  8879:1986(E). Information processing — Text and Office Systems — Standard 
  Generalized Markup Language (SGML).</CITE> First edition — 1986-10-15. 
  [Geneva]: International Organization for Standardization, 1986. 
  <DT class=label><A id=ISO10744 name=ISO10744>ISO/IEC 10744
  <DD>ISO (International Organization for Standardization). <CITE>ISO/IEC 
  10744-1992 (E). Information technology — Hypermedia/Time-based Structuring 
  Language (HyTime). </CITE>[Geneva]: International Organization for 
  Standardization, 1992. <EM>Extended Facilities Annexe.</EM> [Geneva]: 
  International Organization for Standardization, 1996. 
  <DT class=label><A name=websgml>WEBSGML
  <DD>ISO (International Organization for Standardization). <A 
  href="http://www.sgmlsource.com/8879/n0029.htm"><CITE>ISO 8879:1986 TC2. 
  Information technology — Document Description and Processing 
  Languages</CITE></A>. [Geneva]: International Organization for 
  Standardization, 1998. (See http://www.sgmlsource.com/8879/n0029.htm.)
  <DT class=label><A id=xml-names name=xml-names>XML Names
  <DD>Tim Bray, Dave Hollander, and Andrew Layman, editors. <A 
  href="http://www.w3.org/TR/REC-xml-names/"><CITE>Namespaces in XML</CITE></A>. 
  Textuality, Hewlett-Packard, and Microsoft. World Wide Web Consortium, 1999. 
  (See http://www.w3.org/TR/REC-xml-names/.)</DD></DL></DIV></DIV>
<DIV class=div1>
<H2><A id=CharClasses name=CharClasses>B Character Classes</H2>
<P>Following the characteristics defined in the Unicode standard, characters are 
classed as base characters (among others, these contain the alphabetic 
characters of the Latin alphabet), ideographic characters, and combining 
characters (among others, this class contains most diacritics). Digits and 
extenders are also distinguished.</P>
<H5><A id=CHARACTERS name=CHARACTERS>Characters</H5>
<TABLE class=scrap summary=Scrap>
  <TBODY>
  <TR vAlign=baseline>
    <TD><A id=NT-Letter name=NT-Letter>[84]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>Letter</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE><A href="http://www.w3.org/TR/REC-xml/#NT-BaseChar">BaseChar</A> 
      | <A 
      href="http://www.w3.org/TR/REC-xml/#NT-Ideographic">Ideographic</A></CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-BaseChar name=NT-BaseChar>[85]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>BaseChar</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>[#x0041-#x005A] |&nbsp;[#x0061-#x007A] |&nbsp;[#x00C0-#x00D6] 
      |&nbsp;[#x00D8-#x00F6] |&nbsp;[#x00F8-#x00FF] |&nbsp;[#x0100-#x0131] 
      |&nbsp;[#x0134-#x013E] |&nbsp;[#x0141-#x0148] |&nbsp;[#x014A-#x017E] 
      |&nbsp;[#x0180-#x01C3] |&nbsp;[#x01CD-#x01F0] |&nbsp;[#x01F4-#x01F5] 
      |&nbsp;[#x01FA-#x0217] |&nbsp;[#x0250-#x02A8] |&nbsp;[#x02BB-#x02C1] 
      |&nbsp;#x0386 |&nbsp;[#x0388-#x038A] |&nbsp;#x038C |&nbsp;[#x038E-#x03A1] 
      |&nbsp;[#x03A3-#x03CE] |&nbsp;[#x03D0-#x03D6] |&nbsp;#x03DA |&nbsp;#x03DC 
      |&nbsp;#x03DE |&nbsp;#x03E0 |&nbsp;[#x03E2-#x03F3] |&nbsp;[#x0401-#x040C] 
      |&nbsp;[#x040E-#x044F] |&nbsp;[#x0451-#x045C] |&nbsp;[#x045E-#x0481] 
      |&nbsp;[#x0490-#x04C4] |&nbsp;[#x04C7-#x04C8] |&nbsp;[#x04CB-#x04CC] 
      |&nbsp;[#x04D0-#x04EB] |&nbsp;[#x04EE-#x04F5] |&nbsp;[#x04F8-#x04F9] 
      |&nbsp;[#x0531-#x0556] |&nbsp;#x0559 |&nbsp;[#x0561-#x0586] 
      |&nbsp;[#x05D0-#x05EA] |&nbsp;[#x05F0-#x05F2] |&nbsp;[#x0621-#x063A] 
      |&nbsp;[#x0641-#x064A] |&nbsp;[#x0671-#x06B7] |&nbsp;[#x06BA-#x06BE] 
      |&nbsp;[#x06C0-#x06CE] |&nbsp;[#x06D0-#x06D3] |&nbsp;#x06D5 
      |&nbsp;[#x06E5-#x06E6] |&nbsp;[#x0905-#x0939] |&nbsp;#x093D 
      |&nbsp;[#x0958-#x0961] |&nbsp;[#x0985-#x098C] |&nbsp;[#x098F-#x0990] 
      |&nbsp;[#x0993-#x09A8] |&nbsp;[#x09AA-#x09B0] |&nbsp;#x09B2 
      |&nbsp;[#x09B6-#x09B9] |&nbsp;[#x09DC-#x09DD] |&nbsp;[#x09DF-#x09E1] 
      |&nbsp;[#x09F0-#x09F1] |&nbsp;[#x0A05-#x0A0A] |&nbsp;[#x0A0F-#x0A10] 
      |&nbsp;[#x0A13-#x0A28] |&nbsp;[#x0A2A-#x0A30] |&nbsp;[#x0A32-#x0A33] 
      |&nbsp;[#x0A35-#x0A36] |&nbsp;[#x0A38-#x0A39] |&nbsp;[#x0A59-#x0A5C] 
      |&nbsp;#x0A5E |&nbsp;[#x0A72-#x0A74] |&nbsp;[#x0A85-#x0A8B] |&nbsp;#x0A8D 
      |&nbsp;[#x0A8F-#x0A91] |&nbsp;[#x0A93-#x0AA8] |&nbsp;[#x0AAA-#x0AB0] 
      |&nbsp;[#x0AB2-#x0AB3] |&nbsp;[#x0AB5-#x0AB9] |&nbsp;#x0ABD |&nbsp;#x0AE0 
      |&nbsp;[#x0B05-#x0B0C] |&nbsp;[#x0B0F-#x0B10] |&nbsp;[#x0B13-#x0B28] 
      |&nbsp;[#x0B2A-#x0B30] |&nbsp;[#x0B32-#x0B33] |&nbsp;[#x0B36-#x0B39] 
      |&nbsp;#x0B3D |&nbsp;[#x0B5C-#x0B5D] |&nbsp;[#x0B5F-#x0B61] 
      |&nbsp;[#x0B85-#x0B8A] |&nbsp;[#x0B8E-#x0B90] |&nbsp;[#x0B92-#x0B95] 
      |&nbsp;[#x0B99-#x0B9A] |&nbsp;#x0B9C |&nbsp;[#x0B9E-#x0B9F] 
      |&nbsp;[#x0BA3-#x0BA4] |&nbsp;[#x0BA8-#x0BAA] |&nbsp;[#x0BAE-#x0BB5] 
      |&nbsp;[#x0BB7-#x0BB9] |&nbsp;[#x0C05-#x0C0C] |&nbsp;[#x0C0E-#x0C10] 
      |&nbsp;[#x0C12-#x0C28] |&nbsp;[#x0C2A-#x0C33] |&nbsp;[#x0C35-#x0C39] 
      |&nbsp;[#x0C60-#x0C61] |&nbsp;[#x0C85-#x0C8C] |&nbsp;[#x0C8E-#x0C90] 
      |&nbsp;[#x0C92-#x0CA8] |&nbsp;[#x0CAA-#x0CB3] |&nbsp;[#x0CB5-#x0CB9] 
      |&nbsp;#x0CDE |&nbsp;[#x0CE0-#x0CE1] |&nbsp;[#x0D05-#x0D0C] 
      |&nbsp;[#x0D0E-#x0D10] |&nbsp;[#x0D12-#x0D28] |&nbsp;[#x0D2A-#x0D39] 
      |&nbsp;[#x0D60-#x0D61] |&nbsp;[#x0E01-#x0E2E] |&nbsp;#x0E30 
      |&nbsp;[#x0E32-#x0E33] |&nbsp;[#x0E40-#x0E45] |&nbsp;[#x0E81-#x0E82] 
      |&nbsp;#x0E84 |&nbsp;[#x0E87-#x0E88] |&nbsp;#x0E8A |&nbsp;#x0E8D 
      |&nbsp;[#x0E94-#x0E97] |&nbsp;[#x0E99-#x0E9F] |&nbsp;[#x0EA1-#x0EA3] 
      |&nbsp;#x0EA5 |&nbsp;#x0EA7 |&nbsp;[#x0EAA-#x0EAB] |&nbsp;[#x0EAD-#x0EAE] 
      |&nbsp;#x0EB0 |&nbsp;[#x0EB2-#x0EB3] |&nbsp;#x0EBD |&nbsp;[#x0EC0-#x0EC4] 
      |&nbsp;[#x0F40-#x0F47] |&nbsp;[#x0F49-#x0F69] |&nbsp;[#x10A0-#x10C5] 
      |&nbsp;[#x10D0-#x10F6] |&nbsp;#x1100 |&nbsp;[#x1102-#x1103] 
      |&nbsp;[#x1105-#x1107] |&nbsp;#x1109 |&nbsp;[#x110B-#x110C] 
      |&nbsp;[#x110E-#x1112] |&nbsp;#x113C |&nbsp;#x113E |&nbsp;#x1140 
      |&nbsp;#x114C |&nbsp;#x114E |&nbsp;#x1150 |&nbsp;[#x1154-#x1155] 
      |&nbsp;#x1159 |&nbsp;[#x115F-#x1161] |&nbsp;#x1163 |&nbsp;#x1165 
      |&nbsp;#x1167 |&nbsp;#x1169 |&nbsp;[#x116D-#x116E] |&nbsp;[#x1172-#x1173] 
      |&nbsp;#x1175 |&nbsp;#x119E |&nbsp;#x11A8 |&nbsp;#x11AB 
      |&nbsp;[#x11AE-#x11AF] |&nbsp;[#x11B7-#x11B8] |&nbsp;#x11BA 
      |&nbsp;[#x11BC-#x11C2] |&nbsp;#x11EB |&nbsp;#x11F0 |&nbsp;#x11F9 
      |&nbsp;[#x1E00-#x1E9B] |&nbsp;[#x1EA0-#x1EF9] |&nbsp;[#x1F00-#x1F15] 
      |&nbsp;[#x1F18-#x1F1D] |&nbsp;[#x1F20-#x1F45] |&nbsp;[#x1F48-#x1F4D] 
      |&nbsp;[#x1F50-#x1F57] |&nbsp;#x1F59 |&nbsp;#x1F5B |&nbsp;#x1F5D 
      |&nbsp;[#x1F5F-#x1F7D] |&nbsp;[#x1F80-#x1FB4] |&nbsp;[#x1FB6-#x1FBC] 
      |&nbsp;#x1FBE |&nbsp;[#x1FC2-#x1FC4] |&nbsp;[#x1FC6-#x1FCC] 
      |&nbsp;[#x1FD0-#x1FD3] |&nbsp;[#x1FD6-#x1FDB] |&nbsp;[#x1FE0-#x1FEC] 
      |&nbsp;[#x1FF2-#x1FF4] |&nbsp;[#x1FF6-#x1FFC] |&nbsp;#x2126 
      |&nbsp;[#x212A-#x212B] |&nbsp;#x212E |&nbsp;[#x2180-#x2182] 
      |&nbsp;[#x3041-#x3094] |&nbsp;[#x30A1-#x30FA] |&nbsp;[#x3105-#x312C] 
      |&nbsp;[#xAC00-#xD7A3] </CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-Ideographic name=NT-Ideographic>[86]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>Ideographic</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>[#x4E00-#x9FA5] |&nbsp;#x3007 |&nbsp;[#x3021-#x3029] 
  </CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-CombiningChar 
    name=NT-CombiningChar>[87]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>CombiningChar</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>[#x0300-#x0345] |&nbsp;[#x0360-#x0361] |&nbsp;[#x0483-#x0486] 
      |&nbsp;[#x0591-#x05A1] |&nbsp;[#x05A3-#x05B9] |&nbsp;[#x05BB-#x05BD] 
      |&nbsp;#x05BF |&nbsp;[#x05C1-#x05C2] |&nbsp;#x05C4 |&nbsp;[#x064B-#x0652] 
      |&nbsp;#x0670 |&nbsp;[#x06D6-#x06DC] |&nbsp;[#x06DD-#x06DF] 
      |&nbsp;[#x06E0-#x06E4] |&nbsp;[#x06E7-#x06E8] |&nbsp;[#x06EA-#x06ED] 
      |&nbsp;[#x0901-#x0903] |&nbsp;#x093C |&nbsp;[#x093E-#x094C] |&nbsp;#x094D 
      |&nbsp;[#x0951-#x0954] |&nbsp;[#x0962-#x0963] |&nbsp;[#x0981-#x0983] 
      |&nbsp;#x09BC |&nbsp;#x09BE |&nbsp;#x09BF |&nbsp;[#x09C0-#x09C4] 
      |&nbsp;[#x09C7-#x09C8] |&nbsp;[#x09CB-#x09CD] |&nbsp;#x09D7 
      |&nbsp;[#x09E2-#x09E3] |&nbsp;#x0A02 |&nbsp;#x0A3C |&nbsp;#x0A3E 
      |&nbsp;#x0A3F |&nbsp;[#x0A40-#x0A42] |&nbsp;[#x0A47-#x0A48] 
      |&nbsp;[#x0A4B-#x0A4D] |&nbsp;[#x0A70-#x0A71] |&nbsp;[#x0A81-#x0A83] 
      |&nbsp;#x0ABC |&nbsp;[#x0ABE-#x0AC5] |&nbsp;[#x0AC7-#x0AC9] 
      |&nbsp;[#x0ACB-#x0ACD] |&nbsp;[#x0B01-#x0B03] |&nbsp;#x0B3C 
      |&nbsp;[#x0B3E-#x0B43] |&nbsp;[#x0B47-#x0B48] |&nbsp;[#x0B4B-#x0B4D] 
      |&nbsp;[#x0B56-#x0B57] |&nbsp;[#x0B82-#x0B83] |&nbsp;[#x0BBE-#x0BC2] 
      |&nbsp;[#x0BC6-#x0BC8] |&nbsp;[#x0BCA-#x0BCD] |&nbsp;#x0BD7 
      |&nbsp;[#x0C01-#x0C03] |&nbsp;[#x0C3E-#x0C44] |&nbsp;[#x0C46-#x0C48] 
      |&nbsp;[#x0C4A-#x0C4D] |&nbsp;[#x0C55-#x0C56] |&nbsp;[#x0C82-#x0C83] 
      |&nbsp;[#x0CBE-#x0CC4] |&nbsp;[#x0CC6-#x0CC8] |&nbsp;[#x0CCA-#x0CCD] 
      |&nbsp;[#x0CD5-#x0CD6] |&nbsp;[#x0D02-#x0D03] |&nbsp;[#x0D3E-#x0D43] 
      |&nbsp;[#x0D46-#x0D48] |&nbsp;[#x0D4A-#x0D4D] |&nbsp;#x0D57 |&nbsp;#x0E31 
      |&nbsp;[#x0E34-#x0E3A] |&nbsp;[#x0E47-#x0E4E] |&nbsp;#x0EB1 
      |&nbsp;[#x0EB4-#x0EB9] |&nbsp;[#x0EBB-#x0EBC] |&nbsp;[#x0EC8-#x0ECD] 
      |&nbsp;[#x0F18-#x0F19] |&nbsp;#x0F35 |&nbsp;#x0F37 |&nbsp;#x0F39 
      |&nbsp;#x0F3E |&nbsp;#x0F3F |&nbsp;[#x0F71-#x0F84] |&nbsp;[#x0F86-#x0F8B] 
      |&nbsp;[#x0F90-#x0F95] |&nbsp;#x0F97 |&nbsp;[#x0F99-#x0FAD] 
      |&nbsp;[#x0FB1-#x0FB7] |&nbsp;#x0FB9 |&nbsp;[#x20D0-#x20DC] |&nbsp;#x20E1 
      |&nbsp;[#x302A-#x302F] |&nbsp;#x3099 |&nbsp;#x309A </CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-Digit name=NT-Digit>[88]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>Digit</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>[#x0030-#x0039] |&nbsp;[#x0660-#x0669] |&nbsp;[#x06F0-#x06F9] 
      |&nbsp;[#x0966-#x096F] |&nbsp;[#x09E6-#x09EF] |&nbsp;[#x0A66-#x0A6F] 
      |&nbsp;[#x0AE6-#x0AEF] |&nbsp;[#x0B66-#x0B6F] |&nbsp;[#x0BE7-#x0BEF] 
      |&nbsp;[#x0C66-#x0C6F] |&nbsp;[#x0CE6-#x0CEF] |&nbsp;[#x0D66-#x0D6F] 
      |&nbsp;[#x0E50-#x0E59] |&nbsp;[#x0ED0-#x0ED9] |&nbsp;[#x0F20-#x0F29] 
      </CODE></TD></TR>
  <TR vAlign=baseline>
    <TD><A id=NT-Extender name=NT-Extender>[89]&nbsp;&nbsp;&nbsp;</A></TD>
    <TD><CODE>Extender</CODE></TD>
    <TD>&nbsp;&nbsp;&nbsp;::=&nbsp;&nbsp;&nbsp;</TD>
    <TD><CODE>#x00B7 |&nbsp;#x02D0 |&nbsp;#x02D1 |&nbsp;#x0387 |&nbsp;#x0640 
      |&nbsp;#x0E46 |&nbsp;#x0EC6 |&nbsp;#x3005 |&nbsp;[#x3031-#x3035] 
      |&nbsp;[#x309D-#x309E] |&nbsp;[#x30FC-#x30FE] </CODE></TD></TR></TBODY></TABLE>
<P>The character classes defined here can be derived from the Unicode 2.0 
character database as follows:</P>
<UL>
  <LI>
  <P>Name start characters must have one of the categories Ll, Lu, Lo, Lt, 
  Nl.</P>
  <LI>
  <P>Name characters other than Name-start characters must have one of the 
  categories Mc, Me, Mn, Lm, or Nd.</P>
  <LI>
  <P>Characters in the compatibility area (i.e. with character code greater than 
  #xF900 and less than #xFFFE) are not allowed in XML names.</P>
  <LI>
  <P>Characters which have a font or compatibility decomposition (i.e. those 
  with a "compatibility formatting tag" in field 5 of the database -- marked by 
  field 5 beginning with a "&lt;") are not allowed.</P>
  <LI>
  <P>The following characters are treated as name-start characters rather than 
  name characters, because the property file classifies them as Alphabetic: 
  [#x02BB-#x02C1], #x0559, #x06E5, #x06E6.</P>
  <LI>
  <P>Characters #x20DD-#x20E0 are excluded (in accordance with Unicode 2.0, 
  section 5.14).</P>
  <LI>
  <P>Character #x00B7 is classified as an extender, because the property list so 
  identifies it.</P>
  <LI>
  <P>Character #x0387 is added as a name character, because #x00B7 is its 
  canonical equivalent.</P>
  <LI>
  <P>Characters ':' and '_' are allowed as name-start characters.</P>
  <LI>
  <P>Characters '-' and '.' are allowed as name characters.</P></LI></UL></DIV>
<DIV class=div1>
<H2><A id=sec-xml-and-sgml name=sec-xml-and-sgml>C XML and SGML 
(Non-Normative)</H2>
<P>XML is designed to be a subset of SGML, in that every XML document should 
also be a conforming SGML document. For a detailed comparison of the additional 
restrictions that XML places on documents beyond those of SGML, see <A 
href="http://www.w3.org/TR/REC-xml/#Clark">[Clark]</A>.</P></DIV>
<DIV class=div1>
<H2><A id=sec-entexpand name=sec-entexpand>D Expansion of Entity and Character 
References (Non-Normative)</H2>
<P>This appendix contains some examples illustrating the sequence of entity- and 
character-reference recognition and expansion, as specified in <A 
href="http://www.w3.org/TR/REC-xml/#entproc"><B>4.4 XML Processor Treatment of 
Entities and References</B></A>.</P>
<P>If the DTD contains the declaration</P>
<DIV class=exampleInner><PRE>&lt;!ENTITY example "&lt;p&gt;An ampersand (&amp;#38;#38;) may be escaped
numerically (&amp;#38;#38;#38;) or with a general entity
(&amp;amp;amp;).&lt;/p&gt;" &gt;</PRE></DIV>
<P>then the XML processor will recognize the character references when it parses 
the entity declaration, and resolve them before storing the following string as 
the value of the entity "<CODE>example</CODE>":</P>
<DIV class=exampleInner><PRE>&lt;p&gt;An ampersand (&amp;#38;) may be escaped
numerically (&amp;#38;#38;) or with a general entity
(&amp;amp;amp;).&lt;/p&gt;</PRE></DIV>
<P>A reference in the document to "<CODE>&amp;example;</CODE>" will cause the 
text to be reparsed, at which time the start- and end-tags of the <CODE>p</CODE> 
element will be recognized and the three references will be recognized and 
expanded, resulting in a <CODE>p</CODE> element with the following content (all 
data, no delimiters or markup):</P>
<DIV class=exampleInner><PRE>An ampersand (&amp;) may be escaped
numerically (&amp;#38;) or with a general entity
(&amp;amp;).</PRE></DIV>
<P>A more complex example will illustrate the rules and their effects fully. In 
the following example, the line numbers are solely for reference.</P>
<DIV class=exampleInner><PRE>1 &lt;?xml version='1.0'?&gt;
2 &lt;!DOCTYPE test [
3 &lt;!ELEMENT test (#PCDATA) &gt;
4 &lt;!ENTITY % xx '&amp;#37;zz;'&gt;
5 &lt;!ENTITY % zz '&amp;#60;!ENTITY tricky "error-prone" &gt;' &gt;
6 %xx;
7 ]&gt;
8 &lt;test&gt;This sample shows a &amp;tricky; method.&lt;/test&gt;</PRE></DIV>
<P>This produces the following:</P>
<UL>
  <LI>
  <P>in line 4, the reference to character 37 is expanded immediately, and the 
  parameter entity "<CODE>xx</CODE>" is stored in the symbol table with the 
  value "<CODE>%zz;</CODE>". Since the replacement text is not rescanned, the 
  reference to parameter entity "<CODE>zz</CODE>" is not recognized. (And it 
  would be an error if it were, since "<CODE>zz</CODE>" is not yet 
declared.)</P>
  <LI>
  <P>in line 5, the character reference "<CODE>&amp;#60;</CODE>" is expanded 
  immediately and the parameter entity "<CODE>zz</CODE>" is stored with the 
  replacement text "<CODE>&lt;!ENTITY tricky "error-prone" &gt;</CODE>", which 
  is a well-formed entity declaration.</P>
  <LI>
  <P>in line 6, the reference to "<CODE>xx</CODE>" is recognized, and the 
  replacement text of "<CODE>xx</CODE>" (namely "<CODE>%zz;</CODE>") is parsed. 
  The reference to "<CODE>zz</CODE>" is recognized in its turn, and its 
  replacement text ("<CODE>&lt;!ENTITY tricky "error-prone" &gt;</CODE>") is 
  parsed. The general entity "<CODE>tricky</CODE>" has now been declared, with 
  the replacement text "<CODE>error-prone</CODE>".</P>
  <LI>
  <P>in line 8, the reference to the general entity "<CODE>tricky</CODE>" is 
  recognized, and it is expanded, so the full content of the <CODE>test</CODE> 
  element is the self-describing (and ungrammatical) string <EM>This sample 
  shows a error-prone method.</EM></P></LI></UL></DIV>
<DIV class=div1>
<H2><A id=determinism name=determinism>E Deterministic Content Models 
(Non-Normative)</H2>
<P>As noted in <A 
href="http://www.w3.org/TR/REC-xml/#sec-element-content"><B>3.2.1 Element 
Content</B></A>, it is required that content models in element type declarations 
be deterministic. This requirement is <A title="For Compatibility" 
href="http://www.w3.org/TR/REC-xml/#dt-compat">for compatibility</A> with SGML 
(which calls deterministic content models "unambiguous"); XML processors built 
using SGML systems may flag non-deterministic content models as errors.</P>
<P>For example, the content model <CODE>((b, c) | (b, d))</CODE> is 
non-deterministic, because given an initial <CODE>b</CODE> the XML processor 
cannot know which <CODE>b</CODE> in the model is being matched without looking 
ahead to see which element follows the <CODE>b</CODE>. In this case, the two 
references to <CODE>b</CODE> can be collapsed into a single reference, making 
the model read <CODE>(b, (c | d))</CODE>. An initial <CODE>b</CODE> now clearly 
matches only a single name in the content model. The processor doesn't need to 
look ahead to see what follows; either <CODE>c</CODE> or <CODE>d</CODE> would be 
accepted.</P>
<P>More formally: a finite state automaton may be constructed from the content 
model using the standard algorithms, e.g. algorithm 3.5 in section 3.9 of Aho, 
Sethi, and Ullman <A href="http://www.w3.org/TR/REC-xml/#Aho">[Aho/Ullman]</A>. 
In many such algorithms, a follow set is constructed for each position in the 
regular expression (i.e., each leaf node in the syntax tree for the regular 
expression); if any position has a follow set in which more than one following 
position is labeled with the same element type name, then the content model is 
in error and may be reported as an error.</P>
<P>Algorithms exist which allow many but not all non-deterministic content 
models to be reduced automatically to equivalent deterministic models; see 
Brüggemann-Klein 1991 <A 
href="http://www.w3.org/TR/REC-xml/#ABK">[Brüggemann-Klein]</A>.</P></DIV>
<DIV class=div1>
<H2><A id=sec-guessing name=sec-guessing>F Autodetection of Character Encodings 
(Non-Normative)</H2>
<P>The XML encoding declaration functions as an internal label on each entity, 
indicating which character encoding is in use. Before an XML processor can read 
the internal label, however, it apparently has to know what character encoding 
is in use—which is what the internal label is trying to indicate. In the general 
case, this is a hopeless situation. It is not entirely hopeless in XML, however, 
because XML limits the general case in two ways: each implementation is assumed 
to support only a finite set of character encodings, and the XML encoding 
declaration is restricted in position and content in order to make it feasible 
to autodetect the character encoding in use in each entity in normal cases. 
Also, in many cases other sources of information are available in addition to 
the XML data stream itself. Two cases may be distinguished, depending on whether 
the XML entity is presented to the processor without, or with, any accompanying 
(external) information. We consider the first case first.</P>
<DIV class=div2>
<H3><A id=sec-guessing-no-ext-info name=sec-guessing-no-ext-info>F.1 Detection 
Without External Encoding Information</H3>
<P>Because each XML entity not accompanied by external encoding information and 
not in UTF-8 or UTF-16 encoding must begin with an XML encoding declaration, in 
which the first characters must be '<CODE>&lt;?xml</CODE>', any conforming 
processor can detect, after two to four octets of input, which of the following 
cases apply. In reading this list, it may help to know that in UCS-4, '&lt;' is 
"<CODE>#x0000003C</CODE>" and '?' is "<CODE>#x0000003F</CODE>", and the Byte 
Order Mark required of UTF-16 data streams is "<CODE>#xFEFF</CODE>". The 
notation <VAR>##</VAR> is used to denote any byte value except that two 
consecutive <VAR>##</VAR>s cannot be both 00.</P>
<P>With a Byte Order Mark:</P>
<TABLE border=1 frame=border>
  <TBODY>
  <TR>
    <TD><CODE>00 00 FE FF</CODE></TD>
    <TD>UCS-4, big-endian machine (1234 order)</TD></TR>
  <TR>
    <TD><CODE>FF FE 00 00</CODE></TD>
    <TD>UCS-4, little-endian machine (4321 order)</TD></TR>
  <TR>
    <TD><CODE>00 00 FF FE</CODE></TD>
    <TD>UCS-4, unusual octet order (2143)</TD></TR>
  <TR>
    <TD><CODE>FE FF 00 00</CODE></TD>
    <TD>UCS-4, unusual octet order (3412)</TD></TR>
  <TR>
    <TD><CODE>FE FF ## ##</CODE></TD>
    <TD>UTF-16, big-endian</TD></TR>
  <TR>
    <TD><CODE>FF FE ## ##</CODE></TD>
    <TD>UTF-16, little-endian</TD></TR>
  <TR>
    <TD><CODE>EF BB BF</CODE></TD>
    <TD>UTF-8</TD></TR></TBODY></TABLE>
<P>Without a Byte Order Mark:</P>
<TABLE border=1 frame=border>
  <TBODY>
  <TR>
    <TD><CODE>00&nbsp;00&nbsp;00&nbsp;3C</CODE></TD>
    <TD rowSpan=4>UCS-4 or other encoding with a 32-bit code unit and ASCII 
      characters encoded as ASCII values, in respectively big-endian (1234), 
      little-endian (4321) and two unusual byte orders (2143 and 3412). The 
      encoding declaration must be read to determine which of UCS-4 or other 
      supported 32-bit encodings applies.</TD></TR>
  <TR>
    <TD><CODE>3C 00 00 00</CODE></TD></TR>
  <TR>
    <TD><CODE>00 00 3C 00</CODE></TD></TR>
  <TR>
    <TD><CODE>00 3C 00 00</CODE></TD></TR>
  <TR>
    <TD><CODE>00 3C 00 3F</CODE></TD>
    <TD>UTF-16BE or big-endian ISO-10646-UCS-2 or other encoding with a 16-bit 
      code unit in big-endian order and ASCII characters encoded as ASCII values 
      (the encoding declaration must be read to determine which)</TD></TR>
  <TR>
    <TD><CODE>3C 00 3F 00</CODE></TD>
    <TD>UTF-16LE or little-endian ISO-10646-UCS-2 or other encoding with a 
      16-bit code unit in little-endian order and ASCII characters encoded as 
      ASCII values (the encoding declaration must be read to determine 
  which)</TD></TR>
  <TR>
    <TD><CODE>3C 3F 78 6D</CODE></TD>
    <TD>UTF-8, ISO 646, ASCII, some part of ISO 8859, Shift-JIS, EUC, or any 
      other 7-bit, 8-bit, or mixed-width encoding which ensures that the 
      characters of ASCII have their normal positions, width, and values; the 
      actual encoding declaration must be read to detect which of these applies, 
      but since all of these encodings use the same bit patterns for the 
      relevant ASCII characters, the encoding declaration itself may be read 
      reliably</TD></TR>
  <TR>
    <TD><CODE>4C 6F A7 94</CODE></TD>
    <TD>EBCDIC (in some flavor; the full encoding declaration must be read to 
      tell which code page is in use)</TD></TR>
  <TR>
    <TD>Other</TD>
    <TD>UTF-8 without an encoding declaration, or else the data stream is 
      mislabeled (lacking a required encoding declaration), corrupt, 
      fragmentary, or enclosed in a wrapper of some kind</TD></TR></TBODY></TABLE>
<DIV class=note>
<P class=prefix><B>Note:</B></P>
<P>In cases above which do not require reading the encoding declaration to 
determine the encoding, section 4.3.3 still requires that the encoding 
declaration, if present, be read and that the encoding name be checked to match 
the actual encoding of the entity. Also, it is possible that new character 
encodings will be invented that will make it necessary to use the encoding 
declaration to determine the encoding, in cases where this is not required at 
present.</P></DIV>
<P>This level of autodetection is enough to read the XML encoding declaration 
and parse the character-encoding identifier, which is still necessary to 
distinguish the individual members of each family of encodings (e.g. to tell 
UTF-8 from 8859, and the parts of 8859 from each other, or to distinguish the 
specific EBCDIC code page in use, and so on).</P>
<P>Because the contents of the encoding declaration are restricted to characters 
from the ASCII repertoire (however encoded), a processor can reliably read the 
entire encoding declaration as soon as it has detected which family of encodings 
is in use. Since in practice, all widely used character encodings fall into one 
of the categories above, the XML encoding declaration allows reasonably reliable 
in-band labeling of character encodings, even when external sources of 
information at the operating-system or transport-protocol level are unreliable. 
Character encodings such as UTF-7 that make overloaded usage of ASCII-valued 
bytes may fail to be reliably detected.</P>
<P>Once the processor has detected the character encoding in use, it can act 
appropriately, whether by invoking a separate input routine for each case, or by 
calling the proper conversion function on each character of input.</P>
<P>Like any self-labeling system, the XML encoding declaration will not work if 
any software changes the entity's character set or encoding without updating the 
encoding declaration. Implementors of character-encoding routines should be 
careful to ensure the accuracy of the internal and external information used to 
label the entity.</P></DIV>
<DIV class=div2>
<H3><A id=sec-guessing-with-ext-info name=sec-guessing-with-ext-info>F.2 
Priorities in the Presence of External Encoding Information</H3>
<P>The second possible case occurs when the XML entity is accompanied by 
encoding information, as in some file systems and some network protocols. When 
multiple sources of information are available, their relative priority and the 
preferred method of handling conflict should be specified as part of the 
higher-level protocol used to deliver XML. In particular, please refer to <A 
href="http://www.w3.org/TR/REC-xml/#rfc2376">[IETF RFC 3023]</A> or its 
successor, which defines the <CODE>text/xml</CODE> and 
<CODE>application/xml</CODE> MIME types and provides some useful guidance. In 
the interests of interoperability, however, the following rule is 
recommended.</P>
<UL>
  <LI>
  <P>If an XML entity is in a file, the Byte-Order Mark and encoding declaration 
  are used (if present) to determine the character 
encoding.</P></LI></UL></DIV></DIV>
<DIV class=div1>
<H2><A id=sec-xml-wg name=sec-xml-wg>G W3C XML Working Group 
(Non-Normative)</H2>
<P>This specification was prepared and approved for publication by the W3C XML 
Working Group (WG). WG approval of this specification does not necessarily imply 
that all WG members voted for its approval. The current and former 
<SPAN>participants</SPAN> of the XML WG are:</P>
<UL>
  <LI>Jon Bosak, Sun (<I>Chair</I>) 
  <LI>James Clark (<I>Technical Lead</I>) 
  <LI>Tim Bray, Textuality and Netscape (<I>XML Co-editor</I>) 
  <LI>Jean Paoli, Microsoft (<I>XML Co-editor</I>) 
  <LI>C. M. Sperberg-McQueen, U. of Ill. (<I>XML Co-editor</I>) 
  <LI>Dan Connolly, W3C (<I>W3C Liaison</I>) 
  <LI>Paula Angerstein, Texcel
  <LI>Steve DeRose, INSO
  <LI>Dave Hollander, HP
  <LI>Eliot Kimber, ISOGEN
  <LI>Eve Maler, ArborText
  <LI>Tom Magliery, NCSA
  <LI>Murray Maloney, SoftQuad, Grif SA, Muzmo and Veo Systems
  <LI>MURATA Makoto (FAMILY Given), Fuji Xerox Information Systems
  <LI>Joel Nava, Adobe
  <LI>Conleth O'Connell, Vignette
  <LI>Peter Sharpe, SoftQuad
  <LI>John Tigue, DataChannel</LI></UL></DIV>
<DIV class=div1>
<H2><A id=sec-core-wg name=sec-core-wg>H W3C XML Core <SPAN>Working</SPAN> Group 
(Non-Normative)</H2>
<P>The <SPAN>third</SPAN> edition of this specification was prepared by the W3C 
XML Core Working Group (WG). The <SPAN>participants in</SPAN> the WG at the time 
of publication of this edition were:</P>
<UL>
  <LI>Leonid Arbouzov, Sun Microsystems
  <LI>Mary Brady
  <LI>John Cowan
  <LI>John Evdemon, Microsoft
  <LI>Andrew Fang, Arbortext
  <LI>Paul Grosso, Arbortext (<I>Co-Chair</I>) 
  <LI>Arnaud Le Hors, IBM
  <LI>Dmitry Lenkov, Oracle
  <LI>Anjana Manian, Oracle
  <LI>Glenn Marcy, IBM
  <LI>Jonathan Marsh, Microsoft
  <LI>Sandra Martinez, NIST
  <LI>Liam Quin, W3C (<I>Staff Contact</I>) 
  <LI>Lew Shannon
  <LI>Richard Tobin, University of Edinburgh
  <LI>Daniel Veillard
  <LI>Norman Walsh, Sun Microsystems (<I>Co-Chair</I>) 
  <LI>François Yergeau (<I>Third Edition Editor</I>) </LI></UL></DIV>
<DIV class=div1>
<H2><A id=prod-notes name=prod-notes>I Production Notes (Non-Normative)</H2>
<P>This Third Edition was encoded in a slightly modified version of the <A 
href="http://www.w3.org/2002/xmlspec/dtd/2.5/xmlspec.dtd">XMLspec DTD, v2.5</A>. 
The XHTML versions were produced with a combination of the <A 
href="http://www.w3.org/2002/xmlspec/xhtml/1.9/xmlspec.xsl">xmlspec.xsl</A>, <A 
href="http://www.w3.org/2002/xmlspec/xhtml/1.9/diffspec.xsl">diffspec.xsl</A>, 
and <A href="http://www.w3.org/TR/REC-xml/REC-xml-3e.xsl">REC-xml-3e.xsl</A> 
XSLT stylesheets.</P></DIV></DIV></BODY></HTML>
